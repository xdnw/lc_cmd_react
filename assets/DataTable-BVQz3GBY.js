import{j as l,r as d,t as ze,c as fn}from"./index-Ci-lVsFi.js";import{i as yo,j as Xe,s as So}from"./table_util-BA5kOBg_.js";import{B as gn,a as Se}from"./button-CWqPuK0O.js";import{u as hn,C as Je}from"./DialogContext-ByDpcWnk.js";import{D as Ro,a as Qe,b as vo,c as ko}from"./dropdown-menu-DLcaEqVB.js";import{e as Eo,E as Ze}from"./command-utils-BU29VnaS.js";import{L as xe}from"./queries-l4D1Q0nU.js";function se(t,e,o){const n=typeof t.colSpan=="function"?t.colSpan(o):1;if(Number.isInteger(n)&&n>1&&(!t.frozen||t.idx+n-1<=e))return n}function Do(t){t.stopPropagation()}function He(t,e="instant"){t?.scrollIntoView({inline:"nearest",block:"nearest",behavior:e})}function kt(t){let e=!1;const o={...t,preventGridDefault(){e=!0},isGridDefaultPrevented(){return e}};return Object.setPrototypeOf(o,Object.getPrototypeOf(t)),o}const Io=new Set(["Unidentified","Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Tab","ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home","PageDown","PageUp","Insert","ContextMenu","Escape","Pause","Play","PrintScreen","F1","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12"]);function Et(t){return(t.ctrlKey||t.metaKey)&&t.key!=="Control"}const jo=86;function To(t,e){return Et(t)&&(t.keyCode!==jo||e)?!1:!Io.has(t.key)}function Mo({key:t,target:e}){return t==="Tab"&&(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement)?e.closest(".rdg-editor-container")?.querySelectorAll("input, textarea, select").length===1:!1}function mn(t){const e=t==="rtl";return{leftKey:e?"ArrowRight":"ArrowLeft",rightKey:e?"ArrowLeft":"ArrowRight"}}const No="rdg-7-0-0-beta-58-fa71d63e";function Ho(t){return t.map(({key:e,idx:o,minWidth:n,maxWidth:s})=>l.jsx("div",{className:No,style:{gridColumnStart:o+1,minWidth:n,maxWidth:s},"data-measuring-cell-key":e},e))}function zo({selectedPosition:t,columns:e,rows:o}){const n=e[t.idx],s=o[t.rowIdx];return wn(n,s)}function wn(t,e){return t.renderEditCell!=null&&(typeof t.editable=="function"?t.editable(e):t.editable)!==!1}function Lo({rows:t,topSummaryRows:e,bottomSummaryRows:o,rowIdx:n,mainHeaderRowIdx:s,lastFrozenColumnIndex:a,column:u}){const h=e?.length??0;if(n===s)return se(u,a,{type:"HEADER"});if(e&&n>s&&n<=h+s)return se(u,a,{type:"SUMMARY",row:e[n+h]});if(n>=0&&n<t.length){const m=t[n];return se(u,a,{type:"ROW",row:m})}if(o)return se(u,a,{type:"SUMMARY",row:o[n-t.length]})}function Po({moveUp:t,moveNext:e,cellNavigationMode:o,columns:n,colSpanColumns:s,rows:a,topSummaryRows:u,bottomSummaryRows:h,minRowIdx:m,mainHeaderRowIdx:C,maxRowIdx:R,currentPosition:{idx:y,rowIdx:w},nextPosition:f,lastFrozenColumnIndex:c,isCellWithinBounds:b}){let{idx:p,rowIdx:D}=f;const I=n.length,j=g=>{for(const N of s){const x=N.idx;if(x>p)break;const H=Lo({rows:a,topSummaryRows:u,bottomSummaryRows:h,rowIdx:D,mainHeaderRowIdx:C,lastFrozenColumnIndex:c,column:N});if(H&&p>x&&p<H+x){p=x+(g?H:0);break}}},M=g=>g.level+C,P=()=>{if(e){let g=n[p].parent;for(;g!==void 0;){const N=M(g);if(D===N){p=g.idx+g.colSpan;break}g=g.parent}}else if(t){let g=n[p].parent,N=!1;for(;g!==void 0;){const x=M(g);if(D>=x){p=g.idx,D=x,N=!0;break}g=g.parent}N||(p=y,D=w)}};if(b(f)&&(j(e),D<C&&P()),o==="CHANGE_ROW"&&(p===I?D!==R&&(p=0,D+=1):p===-1&&(D!==m&&(D-=1,p=I-1),j(!1))),D<C&&p>-1&&p<I){let g=n[p].parent;const N=D;for(D=C;g!==void 0;){const x=M(g);x>=N&&(D=x,p=g.idx),g=g.parent}}return{idx:p,rowIdx:D}}function $o({maxColIdx:t,minRowIdx:e,maxRowIdx:o,selectedPosition:{rowIdx:n,idx:s},shiftKey:a}){return a?s===0&&n===e:s===t&&n===o}const Ao="rdg-7-0-0-beta-58-85c48527",xn=`rdg-cell ${Ao}`,Fo="rdg-7-0-0-beta-58-17a9a6d4",Wo=`rdg-cell-frozen ${Fo}`,Oo="rdg-7-0-0-beta-58-bfba19bc",_o="rdg-7-0-0-beta-58-7abddb3e",Vo=`rdg-cell-drag-handle ${Oo}`;function Dt(t){return{"--rdg-grid-row-start":t}}function Cn(t,e,o){const n=e+1,s=`calc(${o-1} * var(--rdg-header-row-height))`;return t.parent===void 0?{insetBlockStart:0,gridRowStart:1,gridRowEnd:n,paddingBlockStart:s}:{insetBlockStart:`calc(${e-o} * var(--rdg-header-row-height))`,gridRowStart:n-o,gridRowEnd:n,paddingBlockStart:s}}function ve(t,e=1){const o=t.idx+1;return{gridColumnStart:o,gridColumnEnd:o+e,insetInlineStart:t.frozen?`var(--rdg-frozen-left-${t.idx})`:void 0}}function ie(...t){let e="";for(const o of t)if(o){if(typeof o=="string")e+=` ${o}`;else if(typeof o=="object")for(const n in o)o[n]&&(e+=` ${n}`)}return e.trimStart()}function Re(t,...e){return ie(xn,{[Wo]:t.frozen},...e)}const{min:Le,max:et,floor:ln,sign:Go,abs:Ko}=Math;function St(t){if(typeof t!="function")throw new Error("Please specify the rowKeyGetter prop to use selection")}function It(t,{minWidth:e,maxWidth:o}){return t=et(t,e),typeof o=="number"&&o>=e?Le(t,o):t}function pn(t,e){return t.parent===void 0?e:t.level-t.parent.level}const Bo="rdg-checkbox-input rdg-7-0-0-beta-58-3b807ead";function Uo({onChange:t,indeterminate:e,...o}){function n(s){t(s.target.checked,s.nativeEvent.shiftKey)}return l.jsx("input",{ref:s=>{s&&(s.indeterminate=e===!0)},type:"checkbox",className:Bo,onChange:n,...o})}function Yo(t){try{return t.row[t.column.key]}catch{return null}}const bn=d.createContext(void 0);function jt(){return d.useContext(bn)}const yn=d.createContext(void 0),qo=d.createContext(void 0),Xo=d.createContext(void 0),Jo=d.createContext(void 0),vt="rdg-select-column",Qo="rdg-7-0-0-beta-58-56a248e4",Zo="rdg-header-sort-name rdg-7-0-0-beta-58-7fad8c83";function er({column:t,sortDirection:e,priority:o}){return t.sortable?l.jsx(tr,{sortDirection:e,priority:o,children:t.name}):t.name}function tr({sortDirection:t,priority:e,children:o}){const n=jt().renderSortStatus;return l.jsxs("span",{className:Qo,children:[l.jsx("span",{className:Zo,children:o}),l.jsx("span",{children:n({sortDirection:t,priority:e})})]})}const nr="auto",or=50;function rr({rawColumns:t,defaultColumnOptions:e,getColumnWidth:o,viewportWidth:n,scrollLeft:s,enableVirtualization:a}){const u=e?.width??nr,h=e?.minWidth??or,m=e?.maxWidth??void 0,C=e?.renderCell??Yo,R=e?.renderHeaderCell??er,y=e?.sortable??!1,w=e?.resizable??!1,f=e?.draggable??!1,{columns:c,colSpanColumns:b,lastFrozenColumnIndex:p,headerRowsCount:D}=d.useMemo(()=>{let x=-1,H=1;const $=[];F(t,1);function F(z,L,k){for(const S of z){if("children"in S){const X={name:S.name,parent:k,idx:-1,colSpan:0,level:0,headerCellClass:S.headerCellClass};F(S.children,L+1,X);continue}const _=S.frozen??!1,K={...S,parent:k,idx:0,level:0,frozen:_,width:S.width??u,minWidth:S.minWidth??h,maxWidth:S.maxWidth??m,sortable:S.sortable??y,resizable:S.resizable??w,draggable:S.draggable??f,renderCell:S.renderCell??C,renderHeaderCell:S.renderHeaderCell??R};$.push(K),_&&x++,L>H&&(H=L)}}$.sort(({key:z,frozen:L},{key:k,frozen:S})=>z===vt?-1:k===vt?1:L?S?0:-1:S?1:0);const O=[];return $.forEach((z,L)=>{z.idx=L,Sn(z,L,0),z.colSpan!=null&&O.push(z)}),{columns:$,colSpanColumns:O,lastFrozenColumnIndex:x,headerRowsCount:H}},[t,u,h,m,C,R,w,y,f]),{templateColumns:I,layoutCssVars:j,totalFrozenColumnWidth:M,columnMetrics:P}=d.useMemo(()=>{const x=new Map;let H=0,$=0;const F=[];for(const z of c){let L=o(z);typeof L=="number"?L=It(L,z):L=z.minWidth,F.push(`${L}px`),x.set(z,{width:L,left:H}),H+=L}if(p!==-1){const z=x.get(c[p]);$=z.left+z.width}const O={};for(let z=0;z<=p;z++){const L=c[z];O[`--rdg-frozen-left-${L.idx}`]=`${x.get(L).left}px`}return{templateColumns:F,layoutCssVars:O,totalFrozenColumnWidth:$,columnMetrics:x}},[o,c,p]),[g,N]=d.useMemo(()=>{if(!a)return[0,c.length-1];const x=s+M,H=s+n,$=c.length-1,F=Le(p+1,$);if(x>=H)return[F,F];let O=F;for(;O<$;){const{left:L,width:k}=P.get(c[O]);if(L+k>x)break;O++}let z=O;for(;z<$;){const{left:L,width:k}=P.get(c[z]);if(L+k>=H)break;z++}return[et(F,O-1),Le($,z+1)]},[P,c,p,s,M,n,a]);return{columns:c,colSpanColumns:b,colOverscanStartIdx:g,colOverscanEndIdx:N,templateColumns:I,layoutCssVars:j,headerRowsCount:D,lastFrozenColumnIndex:p,totalFrozenColumnWidth:M}}function Sn(t,e,o){if(o<t.level&&(t.level=o),t.parent!==void 0){const{parent:n}=t;n.idx===-1&&(n.idx=e),n.colSpan+=1,Sn(n,e,o-1)}}function sr(t,e,o,n,s,a,u,h,m){const[C,R]=d.useState(null),[y,w]=d.useState(null),[f,c]=d.useState(s),b=t.length===e.length,p=b&&s!==f,D=[...o],I=[];for(const{key:g,idx:N,width:x}of e){const H=a.get(g);g===C?.key?(D[N]=C.width==="max-content"?C.width:`${C.width}px`,I.push(g)):typeof x=="string"&&H?.type!=="resized"&&(p||y?.has(g)===!0||H===void 0)&&(D[N]=x,I.push(g))}const j=D.join(" ");d.useLayoutEffect(M);function M(){if(c(s),I.length===0)return;const g=new Map(a);let N=!1;for(const x of I){const H=Rt(n,x);N||=H!==a.get(x)?.width,H===void 0?g.delete(x):g.set(x,{type:"measured",width:H})}if(C!==null){const x=C.key,H=a.get(x)?.width,$=Rt(n,x);$!==void 0&&H!==$&&(N=!0,g.set(x,{type:"resized",width:$})),R(null)}N&&u(g)}function P(g,N){const{key:x}=g;if(ze.flushSync(()=>{if(b){const H=new Set;for(const{key:$,width:F}of e)x!==$&&typeof F=="string"&&a.get($)?.type!=="resized"&&H.add($);w(H)}R({key:x,width:N}),m(typeof N=="number")}),w(null),h){const H=a.get(x)?.width,$=typeof N=="number"?N:Rt(n,x);$!==void 0&&$!==H&&h(g,$)}}return{gridTemplateColumns:j,handleColumnResize:P}}function Rt(t,e){const o=`[data-measuring-cell-key="${CSS.escape(e)}"]`;return t.current?.querySelector(o)?.getBoundingClientRect().width}function lr(){const t=d.useRef(null),[e,o]=d.useState(1),[n,s]=d.useState(1),[a,u]=d.useState(0);return d.useLayoutEffect(()=>{const{ResizeObserver:h}=window;if(h==null)return;const{clientWidth:m,clientHeight:C,offsetWidth:R,offsetHeight:y}=t.current,{width:w,height:f}=t.current.getBoundingClientRect(),c=y-C,b=w-R+m,p=f-c;o(b),s(p),u(c);const D=new h(I=>{const j=I[0].contentBoxSize[0],{clientHeight:M,offsetHeight:P}=t.current;ze.flushSync(()=>{o(j.inlineSize),s(j.blockSize),u(P-M)})});return D.observe(t.current),()=>{D.disconnect()}},[]),[t,e,n,a]}function Q(t){const e=d.useRef(t);d.useLayoutEffect(()=>{e.current=t});const o=d.useCallback((...n)=>{e.current(...n)},[]);return t&&o}function Pe(t){const[e,o]=d.useState(!1);e&&!t&&o(!1);function n(s){if(s.target===s.currentTarget){const a=s.currentTarget.querySelector('[tabindex="0"]');a!==null?(a.focus({preventScroll:!0}),o(!0)):o(!1)}else o(!0)}return{tabIndex:t&&!e?0:-1,childTabIndex:t?0:-1,onFocus:t?n:void 0}}function ir({columns:t,colSpanColumns:e,rows:o,topSummaryRows:n,bottomSummaryRows:s,colOverscanStartIdx:a,colOverscanEndIdx:u,lastFrozenColumnIndex:h,rowOverscanStartIdx:m,rowOverscanEndIdx:C}){const R=d.useMemo(()=>{if(a===0)return 0;let y=a;const w=(f,c)=>c!==void 0&&f+c>a?(y=f,!0):!1;for(const f of e){const c=f.idx;if(c>=y||w(c,se(f,h,{type:"HEADER"})))break;for(let b=m;b<=C;b++){const p=o[b];if(w(c,se(f,h,{type:"ROW",row:p})))break}if(n!=null){for(const b of n)if(w(c,se(f,h,{type:"SUMMARY",row:b})))break}if(s!=null){for(const b of s)if(w(c,se(f,h,{type:"SUMMARY",row:b})))break}}return y},[m,C,o,n,s,a,h,e]);return d.useMemo(()=>{const y=[];for(let w=0;w<=u;w++){const f=t[w];w<R&&!f.frozen||y.push(f)}return y},[R,u,t])}function ar({rows:t,rowHeight:e,clientHeight:o,scrollTop:n,enableVirtualization:s}){const{totalRowHeight:a,gridTemplateRows:u,getRowTop:h,getRowHeight:m,findRowIdx:C}=d.useMemo(()=>{if(typeof e=="number")return{totalRowHeight:e*t.length,gridTemplateRows:` repeat(${t.length}, ${e}px)`,getRowTop:I=>I*e,getRowHeight:()=>e,findRowIdx:I=>ln(I/e)};let w=0,f="",c=null,b=0;const p=t.map((I,j)=>{const M=e(I),P={top:w,height:M};return w+=M,c===null?(c=M,b=1):c===M?b++:(b>1?f+=`repeat(${b}, ${c}px) `:f+=`${c}px `,c=M,b=1),j===t.length-1&&(b>1?f+=`repeat(${b}, ${c}px)`:f+=`${c}px`),P}),D=I=>et(0,Le(t.length-1,I));return{totalRowHeight:w,gridTemplateRows:f,getRowTop:I=>p[D(I)].top,getRowHeight:I=>p[D(I)].height,findRowIdx(I){let j=0,M=p.length-1;for(;j<=M;){const P=j+ln((M-j)/2),g=p[P].top;if(g===I)return P;if(g<I?j=P+1:g>I&&(M=P-1),j>M)return M}return 0}}},[e,t]);let R=0,y=t.length-1;if(s){const f=C(n),c=C(n+o);R=et(0,f-4),y=Le(t.length-1,c+4)}return{rowOverscanStartIdx:R,rowOverscanEndIdx:y,totalRowHeight:a,gridTemplateRows:u,getRowTop:h,getRowHeight:m,findRowIdx:C}}const cr="rdg-cell-dragged-over rdg-7-0-0-beta-58-35ccb4c8";function dr({column:t,colSpan:e,isCellSelected:o,isDraggedOver:n,row:s,rowIdx:a,className:u,onMouseDown:h,onCellMouseDown:m,onClick:C,onCellClick:R,onDoubleClick:y,onCellDoubleClick:w,onContextMenu:f,onCellContextMenu:c,onRowChange:b,selectCell:p,style:D,...I}){const{tabIndex:j,childTabIndex:M,onFocus:P}=Pe(o),{cellClass:g}=t;u=Re(t,{[cr]:n},typeof g=="function"?g(s):g,u);const N=wn(t,s);function x(k){p({rowIdx:a,idx:t.idx},{enableEditor:k})}function H(k,S){let _=!1;if(S){const K=kt(k);S({rowIdx:a,row:s,column:t,selectCell:x},K),_=K.isGridDefaultPrevented()}return _}function $(k){h?.(k),H(k,m)||x()}function F(k){C?.(k),H(k,R)}function O(k){y?.(k),H(k,w)||x(!0)}function z(k){f?.(k),H(k,c)}function L(k){b(t,k)}return l.jsx("div",{role:"gridcell","aria-colindex":t.idx+1,"aria-colspan":e,"aria-selected":o,"aria-readonly":!N||void 0,tabIndex:j,className:u,style:{...ve(t,e),...D},onClick:F,onMouseDown:$,onDoubleClick:O,onContextMenu:z,onFocus:P,...I,children:t.renderCell({column:t,row:s,rowIdx:a,isCellEditable:N,tabIndex:M,onRowChange:L})})}const ur=d.memo(dr);function fr(t,e){return l.jsx(ur,{...e},t)}const gr=typeof scheduler=="object"&&typeof scheduler.postTask=="function",hr="rdg-7-0-0-beta-58-46f9ea88";function mr({column:t,colSpan:e,row:o,rowIdx:n,onRowChange:s,closeEditor:a,onKeyDown:u,navigate:h}){const m=d.useRef(void 0),C=d.useRef(void 0),R=d.useRef(void 0),y=t.editorOptions?.commitOnOutsideClick??!0,w=d.useEffectEvent(()=>{b(!0,!1)});d.useLayoutEffect(()=>{if(!y)return;function j(P){if(m.current=P,gr){const g=new AbortController,{signal:N}=g;C.current=g,scheduler.postTask(w,{priority:"user-blocking",signal:N}).catch(()=>{})}else R.current=requestAnimationFrame(w)}function M(P){m.current===P&&w()}return addEventListener("mousedown",j,{capture:!0}),addEventListener("mousedown",M),()=>{removeEventListener("mousedown",j,{capture:!0}),removeEventListener("mousedown",M),f()}},[y]);function f(){m.current=void 0,C.current!==void 0&&(C.current.abort(),C.current=void 0),R.current!==void 0&&(cancelAnimationFrame(R.current),R.current=void 0)}function c(j){if(u){const M=kt(j);if(u({mode:"EDIT",row:o,column:t,rowIdx:n,navigate(){h(j)},onClose:b},M),M.isGridDefaultPrevented())return}j.key==="Escape"?b():j.key==="Enter"?b(!0):Mo(j)&&h(j)}function b(j=!1,M=!0){j?s(o,!0,M):a(M)}function p(j,M=!1){s(j,M,M)}const{cellClass:D}=t,I=Re(t,"rdg-editor-container",!t.editorOptions?.displayCellContent&&hr,typeof D=="function"?D(o):D);return l.jsx("div",{role:"gridcell","aria-colindex":t.idx+1,"aria-colspan":e,"aria-selected":!0,className:I,style:ve(t,e),onKeyDown:c,onMouseDownCapture:f,children:t.renderEditCell!=null&&l.jsxs(l.Fragment,{children:[t.renderEditCell({column:t,row:o,rowIdx:n,onRowChange:p,onClose:b}),t.editorOptions?.displayCellContent&&t.renderCell({column:t,row:o,rowIdx:n,isCellEditable:!0,tabIndex:-1,onRowChange:p})]})})}function wr({column:t,rowIdx:e,isCellSelected:o,selectCell:n}){const{tabIndex:s,onFocus:a}=Pe(o),{colSpan:u}=t,h=pn(t,e),m=t.idx+1;function C(){n({idx:t.idx,rowIdx:e})}return l.jsx("div",{role:"columnheader","aria-colindex":m,"aria-colspan":u,"aria-rowspan":h,"aria-selected":o,tabIndex:s,className:ie(xn,t.headerCellClass),style:{...Cn(t,e,h),gridColumnStart:m,gridColumnEnd:m+u},onFocus:a,onMouseDown:C,children:t.name})}const xr="rdg-7-0-0-beta-58-2a7e240d",Cr="rdg-cell-resizable rdg-7-0-0-beta-58-1893dc0f",pr="rdg-resize-handle rdg-7-0-0-beta-58-4e60db91",br="rdg-cell-draggable",yr="rdg-cell-dragging rdg-7-0-0-beta-58-3e1a4ad4",Sr="rdg-cell-drag-over rdg-7-0-0-beta-58-51abd8b8",Rr="rdg-7-0-0-beta-58-c8d7aa64";function vr({column:t,colSpan:e,rowIdx:o,isCellSelected:n,onColumnResize:s,onColumnResizeEnd:a,onColumnsReorder:u,sortColumns:h,onSortColumnsChange:m,selectCell:C,shouldFocusGrid:R,direction:y,draggedColumnKey:w,setDraggedColumnKey:f}){const[c,b]=d.useState(!1),p=d.useRef(null),D=w===t.key,I=pn(t,o),{tabIndex:j,childTabIndex:M,onFocus:P}=Pe(R||n),g=h?.findIndex(W=>W.columnKey===t.key),N=g!==void 0&&g>-1?h[g]:void 0,x=N?.direction,H=N!==void 0&&h.length>1?g+1:void 0,$=x&&!H?x==="ASC"?"ascending":"descending":void 0,{sortable:F,resizable:O,draggable:z}=t,L=Re(t,t.headerCellClass,{[xr]:F,[Cr]:O,[br]:z,[yr]:D,[Sr]:c});function k(W){if(m==null)return;const{sortDescendingFirst:ne}=t;if(N===void 0){const Y={columnKey:t.key,direction:ne?"DESC":"ASC"};m(h&&W?[...h,Y]:[Y])}else{let Y;if((ne===!0&&x==="DESC"||ne!==!0&&x==="ASC")&&(Y={columnKey:t.key,direction:x==="ASC"?"DESC":"ASC"}),W){const le=[...h];Y?le[g]=Y:le.splice(g,1),m(le)}else m(Y?[Y]:[])}}function S(W){P?.(W),R&&C({idx:0,rowIdx:o})}function _(){C({idx:t.idx,rowIdx:o})}function K(W){F&&k(W.ctrlKey||W.metaKey)}function X(W){const{key:ne}=W;if(F&&(ne===" "||ne==="Enter"))W.preventDefault(),k(W.ctrlKey||W.metaKey);else if(O&&Et(W)&&(ne==="ArrowLeft"||ne==="ArrowRight")){W.stopPropagation();const{width:Y}=W.currentTarget.getBoundingClientRect(),{leftKey:le}=mn(y),oe=It(Y+(ne===le?-10:10),t);oe!==Y&&s(t,oe)}}function Z(W){ze.flushSync(()=>{f(t.key)}),W.dataTransfer.setDragImage(p.current,0,0),W.dataTransfer.dropEffect="move"}function ee(){f(void 0)}function ke(W){W.preventDefault(),W.dataTransfer.dropEffect="move"}function Ee(W){b(!1),W.preventDefault(),u?.(w,t.key)}function ue(W){an(W)&&b(!0)}function nt(W){an(W)&&b(!1)}let $e,Ae;z&&($e={draggable:!0,onDragStart:Z,onDragEnd:ee},w!==void 0&&w!==t.key&&(Ae={onDragOver:ke,onDragEnter:ue,onDragLeave:nt,onDrop:Ee}));const Fe={...Cn(t,o,I),...ve(t,e)},We=t.renderHeaderCell({column:t,sortDirection:x,priority:H,tabIndex:M});return l.jsxs(l.Fragment,{children:[D&&l.jsx("div",{ref:p,style:Fe,className:Re(t,t.headerCellClass,Rr),children:We}),l.jsxs("div",{role:"columnheader","aria-colindex":t.idx+1,"aria-colspan":e,"aria-rowspan":I,"aria-selected":n,"aria-sort":$,tabIndex:j,className:L,style:Fe,onMouseDown:_,onFocus:S,onClick:K,onKeyDown:X,...$e,...Ae,children:[We,O&&l.jsx(kr,{direction:y,column:t,onColumnResize:s,onColumnResizeEnd:a})]})]})}function kr({direction:t,column:e,onColumnResize:o,onColumnResizeEnd:n}){const s=d.useRef(void 0),a=t==="rtl";function u(R){if(R.pointerType==="mouse"&&R.buttons!==1)return;R.preventDefault();const{currentTarget:y,pointerId:w}=R;y.setPointerCapture(w);const{right:f,left:c}=y.parentElement.getBoundingClientRect();s.current=a?R.clientX-c:f-R.clientX}function h(R){const y=s.current;if(y===void 0)return;const{width:w,right:f,left:c}=R.currentTarget.parentElement.getBoundingClientRect();let b=a?f+y-R.clientX:R.clientX+y-c;b=It(b,e),w>0&&b!==w&&o(e,b)}function m(){n(),s.current=void 0}function C(){o(e,"max-content")}return l.jsx("div",{"aria-hidden":!0,className:pr,onClick:Do,onPointerDown:u,onPointerMove:h,onLostPointerCapture:m,onDoubleClick:C})}function an(t){const e=t.relatedTarget;return!t.currentTarget.contains(e)}const Er="rdg-7-0-0-beta-58-3c083f1b",Tt=`rdg-row ${Er}`,Dr="rdg-7-0-0-beta-58-3fe773c3",tt="rdg-row-selected",Ir="rdg-7-0-0-beta-58-97ce3fde",jr="rdg-top-summary-row",Tr="rdg-bottom-summary-row",Mr="rdg-7-0-0-beta-58-0dbd5994",Rn=`rdg-header-row ${Mr}`;function Nr({headerRowClass:t,rowIdx:e,columns:o,onColumnResize:n,onColumnResizeEnd:s,onColumnsReorder:a,sortColumns:u,onSortColumnsChange:h,lastFrozenColumnIndex:m,selectedCellIdx:C,selectCell:R,shouldFocusGrid:y,direction:w}){const[f,c]=d.useState(),b=[];for(let p=0;p<o.length;p++){const D=o[p],I=se(D,m,{type:"HEADER"});I!==void 0&&(p+=I-1),b.push(l.jsx(vr,{column:D,colSpan:I,rowIdx:e,isCellSelected:C===D.idx,onColumnResize:n,onColumnResizeEnd:s,onColumnsReorder:a,onSortColumnsChange:h,sortColumns:u,selectCell:R,shouldFocusGrid:y&&p===0,direction:w,draggedColumnKey:f,setDraggedColumnKey:c},D.key))}return l.jsx("div",{role:"row","aria-rowindex":e,className:ie(Rn,{[tt]:C===-1},t),children:b})}var Hr=d.memo(Nr);function zr({rowIdx:t,level:e,columns:o,selectedCellIdx:n,selectCell:s}){const a=[],u=new Set;for(const h of o){let{parent:m}=h;if(m!==void 0){for(;m.level>e&&m.parent!==void 0;)m=m.parent;if(m.level===e&&!u.has(m)){u.add(m);const{idx:C}=m;a.push(l.jsx(wr,{column:m,rowIdx:t,isCellSelected:n===C,selectCell:s},C))}}}return l.jsx("div",{role:"row","aria-rowindex":t,className:Rn,children:a})}var Lr=d.memo(zr);function Pr({className:t,rowIdx:e,gridRowStart:o,selectedCellIdx:n,isRowSelectionDisabled:s,isRowSelected:a,draggedOverCellIdx:u,lastFrozenColumnIndex:h,row:m,viewportColumns:C,selectedCellEditor:R,onCellMouseDown:y,onCellClick:w,onCellDoubleClick:f,onCellContextMenu:c,rowClass:b,onRowChange:p,selectCell:D,style:I,...j}){const M=jt().renderCell,P=Q((N,x)=>{p(N,e,x)});t=ie(Tt,`rdg-row-${e%2===0?"even":"odd"}`,{[tt]:n===-1},b?.(m,e),t);const g=[];for(let N=0;N<C.length;N++){const x=C[N],{idx:H}=x,$=se(x,h,{type:"ROW",row:m});$!==void 0&&(N+=$-1);const F=n===H;F&&R?g.push(R):g.push(M(x.key,{column:x,colSpan:$,row:m,rowIdx:e,isDraggedOver:u===H,isCellSelected:F,onCellMouseDown:y,onCellClick:w,onCellDoubleClick:f,onCellContextMenu:c,onRowChange:P,selectCell:D}))}return l.jsx(yn,{value:d.useMemo(()=>({isRowSelected:a,isRowSelectionDisabled:s}),[s,a]),children:l.jsx("div",{role:"row",className:t,style:{...Dt(o),...I},...j,children:g})})}const $r=d.memo(Pr);function Ar(t,e){return l.jsx($r,{...e},t)}function Fr({scrollToPosition:{idx:t,rowIdx:e},gridRef:o,setScrollToCellPosition:n}){const s=d.useRef(null);return d.useLayoutEffect(()=>{He(s.current,"auto")}),d.useLayoutEffect(()=>{function a(){n(null)}const u=new IntersectionObserver(a,{root:o.current,threshold:1});return u.observe(s.current),()=>{u.disconnect()}},[o,n]),l.jsx("div",{ref:s,style:{gridColumn:t===void 0?"1/-1":t+1,gridRow:e===void 0?"1/-1":e+2}})}const Wr="rdg-sort-arrow rdg-7-0-0-beta-58-3d5115f3";function Or({sortDirection:t,priority:e}){return l.jsxs(l.Fragment,{children:[_r({sortDirection:t}),Vr({priority:e})]})}function _r({sortDirection:t}){return t===void 0?null:l.jsx("svg",{viewBox:"0 0 12 8",width:"12",height:"8",className:Wr,"aria-hidden":!0,children:l.jsx("path",{d:t==="ASC"?"M0 8 6 0 12 8":"M0 0 6 8 12 0"})})}function Vr({priority:t}){return t}const Gr="rdg-7-0-0-beta-58-ccd2e5d9",Kr=`rdg ${Gr}`,Br="rdg-7-0-0-beta-58-e9b0e1c9",Ur=`rdg-viewport-dragging ${Br}`,Yr="rdg-7-0-0-beta-58-dbb8b3c5",qr="rdg-7-0-0-beta-58-e9f55541",Xr="rdg-7-0-0-beta-58-d907aa87";function Jr({column:t,colSpan:e,row:o,rowIdx:n,isCellSelected:s,selectCell:a}){const{tabIndex:u,childTabIndex:h,onFocus:m}=Pe(s),{summaryCellClass:C}=t,R=Re(t,Xr,typeof C=="function"?C(o):C);function y(){a({rowIdx:n,idx:t.idx})}return l.jsx("div",{role:"gridcell","aria-colindex":t.idx+1,"aria-colspan":e,"aria-selected":s,tabIndex:u,className:R,style:ve(t,e),onMouseDown:y,onFocus:m,children:t.renderSummaryCell?.({column:t,row:o,tabIndex:h})})}var Qr=d.memo(Jr);const Zr="rdg-7-0-0-beta-58-0b90c82c",es="rdg-7-0-0-beta-58-d0520eab",ts=`rdg-summary-row ${Zr}`;function ns({rowIdx:t,gridRowStart:e,row:o,viewportColumns:n,top:s,bottom:a,lastFrozenColumnIndex:u,selectedCellIdx:h,isTop:m,selectCell:C,"aria-rowindex":R}){const y=[];for(let w=0;w<n.length;w++){const f=n[w],c=se(f,u,{type:"SUMMARY",row:o});c!==void 0&&(w+=c-1);const b=h===f.idx;y.push(l.jsx(Qr,{column:f,colSpan:c,row:o,rowIdx:t,isCellSelected:b,selectCell:C},f.key))}return l.jsx("div",{role:"row","aria-rowindex":R,className:ie(Tt,`rdg-row-${t%2===0?"even":"odd"}`,ts,{[tt]:h===-1,[`${jr} ${es}`]:m,[Tr]:!m}),style:{...Dt(e),"--rdg-summary-row-top":s!==void 0?`${s}px`:void 0,"--rdg-summary-row-bottom":a!==void 0?`${a}px`:void 0},children:y})}var cn=d.memo(ns);function os(t){const{ref:e,columns:o,rows:n,topSummaryRows:s,bottomSummaryRows:a,rowKeyGetter:u,onRowsChange:h,rowHeight:m,headerRowHeight:C,summaryRowHeight:R,columnWidths:y,onColumnWidthsChange:w,selectedRows:f,isRowSelectionDisabled:c,onSelectedRowsChange:b,sortColumns:p,onSortColumnsChange:D,defaultColumnOptions:I,onCellMouseDown:j,onCellClick:M,onCellDoubleClick:P,onCellContextMenu:g,onCellKeyDown:N,onSelectedCellChange:x,onScroll:H,onColumnResize:$,onColumnsReorder:F,onFill:O,onCellCopy:z,onCellPaste:L,enableVirtualization:k,renderers:S,className:_,style:K,rowClass:X,headerRowClass:Z,direction:ee,role:ke,"aria-label":Ee,"aria-labelledby":ue,"aria-description":nt,"aria-describedby":$e,"aria-rowcount":Ae,"data-testid":Fe,"data-cy":We}=t,W=jt(),ne=ke??"grid",Y=m??35,le=C??(typeof Y=="number"?Y:35),oe=R??(typeof Y=="number"?Y:35),vn=S?.renderRow??W?.renderRow??Ar,Mt=S?.renderCell??W?.renderCell??fr,Nt=S?.renderSortStatus??W?.renderSortStatus??Or,Ht=S?.renderCheckbox??W?.renderCheckbox??Uo,zt=S?.noRowsFallback??W?.noRowsFallback,Lt=k??!0,ot=ee??"ltr",[Pt,kn]=d.useState(0),[En,Dn]=d.useState(0),[$t,rt]=d.useState(()=>y??new Map),[At,Ft]=d.useState(!1),[st,Wt]=d.useState(!1),[ae,lt]=d.useState(void 0),[Oe,Ot]=d.useState(null),[_t,it]=d.useState(!1),[De,In]=d.useState(-1),at=y!=null&&w!=null&&!At,_e=at?y:$t,jn=at?r=>{rt(r),w(r)}:rt,Vt=d.useCallback(r=>_e.get(r.key)?.width??r.width,[_e]),[ce,Gt,Kt,Tn]=lr(),{columns:q,colSpanColumns:Bt,lastFrozenColumnIndex:re,headerRowsCount:fe,colOverscanStartIdx:Mn,colOverscanEndIdx:Ut,templateColumns:Nn,layoutCssVars:Hn,totalFrozenColumnWidth:zn}=rr({rawColumns:o,defaultColumnOptions:I,getColumnWidth:Vt,scrollLeft:En,viewportWidth:Gt,enableVirtualization:Lt}),Ce=s?.length??0,pe=a?.length??0,Yt=Ce+pe,ge=fe+Ce,ct=fe-1,te=-ge,Ve=te+ct,he=n.length+pe-1,[E,be]=d.useState(()=>({idx:-1,rowIdx:te-1,mode:"SELECT"})),Ie=d.useRef(null),dt=ne==="treegrid",Ge=fe*le,qt=Yt*oe,Ke=Kt-Ge-qt,ut=f!=null&&b!=null,{leftKey:Ln,rightKey:Xt}=mn(ot),Jt=Ae??fe+n.length+Yt,Pn=d.useMemo(()=>({renderCheckbox:Ht,renderSortStatus:Nt,renderCell:Mt}),[Ht,Nt,Mt]),$n=d.useMemo(()=>{let r=!1,i=!1;if(u!=null&&f!=null&&f.size>0){for(const v of n)if(f.has(u(v))?r=!0:i=!0,r&&i)break}return{isRowSelected:r&&!i,isIndeterminate:r&&i}},[n,f,u]),{rowOverscanStartIdx:je,rowOverscanEndIdx:Te,totalRowHeight:ft,gridTemplateRows:An,getRowTop:Qt,getRowHeight:Fn,findRowIdx:gt}=ar({rows:n,rowHeight:Y,clientHeight:Ke,scrollTop:Pt,enableVirtualization:Lt}),de=ir({columns:q,colSpanColumns:Bt,colOverscanStartIdx:Mn,colOverscanEndIdx:Ut,lastFrozenColumnIndex:re,rowOverscanStartIdx:je,rowOverscanEndIdx:Te,rows:n,topSummaryRows:s,bottomSummaryRows:a}),{gridTemplateColumns:Wn,handleColumnResize:On}=sr(q,de,Nn,ce,Gt,_e,jn,$,Ft),_n=dt?-1:0,ye=q.length-1,Zt=wt(E),Be=xt(E),Vn=le+ft+qt+Tn,Gn=Q(On),Kn=Q(io),Bn=Q(F),Un=Q(D),Yn=Q(j),qn=Q(M),Xn=Q(P),Jn=Q(g),Qn=Q(to),Zn=Q(tn),eo=Q(Ue),ht=Q(Me),en=Q(mo),mt=d.useCallback((r=!0)=>{const i=dn(ce.current);i!==null&&(r&&He(i),i.focus({preventScroll:!0}))},[ce]);d.useLayoutEffect(()=>{_t&&(Ie.current!==null&&E.idx===-1?(Ie.current.focus({preventScroll:!0}),He(Ie.current)):mt(),it(!1))},[_t,mt,E.idx]),d.useImperativeHandle(e,()=>({element:ce.current,scrollToCell({idx:r,rowIdx:i}){const v=r!==void 0&&r>re&&r<q.length?r:void 0,T=i!==void 0&&me(i)?i:void 0;(v!==void 0||T!==void 0)&&Ot({idx:v,rowIdx:T})},selectCell:Me}));function to(r){if(!b)return;St(u);const i=new Set(f);for(const v of n){if(c?.(v)===!0)continue;const T=u(v);r.checked?i.add(T):i.delete(T)}b(i)}function tn(r){if(!b)return;St(u);const{row:i,checked:v,isShiftClick:T}=r;if(c?.(i)===!0)return;const A=new Set(f),V=u(i),G=n.indexOf(i);if(In(G),v?A.add(V):A.delete(V),T&&De!==-1&&De!==G&&De<n.length){const B=Go(G-De);for(let U=De+B;U!==G;U+=B){const J=n[U];c?.(J)!==!0&&(v?A.add(u(J)):A.delete(u(J)))}}b(A)}function no(r){const{idx:i,rowIdx:v,mode:T}=E;if(T==="EDIT")return;if(N&&me(v)){const G=n[v],B=kt(r);if(N({mode:"SELECT",row:G,column:q[i],rowIdx:v,selectCell:Me},B),B.isGridDefaultPrevented())return}if(!(r.target instanceof Element))return;const A=r.target.closest(".rdg-cell")!==null,V=dt&&r.target===Ie.current;if(!(!A&&!V))switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"Tab":case"Home":case"End":case"PageUp":case"PageDown":sn(r);break;default:lo(r);break}}function oo(r){const{scrollTop:i,scrollLeft:v}=r.currentTarget;ze.flushSync(()=>{kn(i),Dn(Ko(v))}),H?.(r)}function Ue(r,i,v){typeof h=="function"&&v!==n[i]&&h(n.with(i,v),{indexes:[i],column:r})}function nn(){E.mode==="EDIT"&&Ue(q[E.idx],E.rowIdx,E.row)}function ro(r){if(!Be)return;const{idx:i,rowIdx:v}=E;z?.({row:n[v],column:q[i]},r)}function so(r){if(!L||!h||!Ye(E))return;const{idx:i,rowIdx:v}=E,T=q[i];Ue(T,v,L({row:n[v],column:T},r))}function lo(r){if(!Be)return;const i=n[E.rowIdx],{key:v,shiftKey:T}=r;if(ut&&T&&v===" "){St(u);const A=u(i);tn({row:i,checked:!f.has(A),isShiftClick:!1}),r.preventDefault();return}Ye(E)&&To(r,L!=null)&&be(({idx:A,rowIdx:V})=>({idx:A,rowIdx:V,mode:"EDIT",row:i,originalRow:i}))}function io(){At&&(w?.(_e),Ft(!1))}function ao(r){r.preventDefault(),!(r.pointerType==="mouse"&&r.buttons!==1)&&(Wt(!0),r.currentTarget.setPointerCapture(r.pointerId))}function co(r){const i=ce.current,v=gt(Pt-(Ge+Ce*oe)+r.clientY-i.getBoundingClientRect().top);lt(v);const T=ge+v+1;He(i.querySelector(`:scope > [aria-rowindex="${T}"] > [aria-colindex="${E.idx+1}"]`))}function uo(){if(Wt(!1),ae===void 0)return;const{rowIdx:r}=E,[i,v]=r<ae?[r+1,ae+1]:[ae,r];on(i,v),lt(void 0)}function fo(){mt(!1)}function go(r){r.stopPropagation(),on(E.rowIdx+1,n.length)}function on(r,i){if(h==null)return;const{rowIdx:v,idx:T}=E,A=q[T],V=n[v],G=[...n],B=[];for(let U=r;U<i;U++)if(Ye({rowIdx:U,idx:T})){const J=O({columnKey:A.key,sourceRow:V,targetRow:n[U]});J!==n[U]&&(G[U]=J,B.push(U))}B.length>0&&h(G,{indexes:B,column:A})}function rn(r){return r>=_n&&r<=ye}function me(r){return r>=0&&r<n.length}function wt({idx:r,rowIdx:i}){return i>=te&&i<=he&&rn(r)}function ho({idx:r,rowIdx:i}){return me(i)&&r>=0&&r<=ye}function xt({idx:r,rowIdx:i}){return me(i)&&rn(r)}function Ye(r){return ho(r)&&zo({columns:q,rows:n,selectedPosition:r})}function Me(r,i){if(!wt(r))return;nn();const v=un(E,r);if(i?.enableEditor&&Ye(r)){const T=n[r.rowIdx];be({...r,mode:"EDIT",row:T,originalRow:T})}else v?He(dn(ce.current)):(it(i?.shouldFocusCell===!0),be({...r,mode:"SELECT"}));x&&!v&&x({rowIdx:r.rowIdx,row:me(r.rowIdx)?n[r.rowIdx]:void 0,column:q[r.idx]})}function mo({idx:r,rowIdx:i}){Me({rowIdx:te+i-1,idx:r})}function wo(r,i,v){const{idx:T,rowIdx:A}=E,V=Zt&&T===-1;switch(r){case"ArrowUp":return{idx:T,rowIdx:A-1};case"ArrowDown":return{idx:T,rowIdx:A+1};case Ln:return{idx:T-1,rowIdx:A};case Xt:return{idx:T+1,rowIdx:A};case"Tab":return{idx:T+(v?-1:1),rowIdx:A};case"Home":return V?{idx:T,rowIdx:te}:{idx:0,rowIdx:i?te:A};case"End":return V?{idx:T,rowIdx:he}:{idx:ye,rowIdx:i?he:A};case"PageUp":{if(E.rowIdx===te)return E;const G=Qt(A)+Fn(A)-Ke;return{idx:T,rowIdx:G>0?gt(G):0}}case"PageDown":{if(E.rowIdx>=n.length)return E;const G=Qt(A)+Ke;return{idx:T,rowIdx:G<ft?gt(G):n.length-1}}default:return E}}function sn(r){const{key:i,shiftKey:v}=r;let T="NONE";if(i==="Tab"){if($o({shiftKey:v,maxColIdx:ye,minRowIdx:te,maxRowIdx:he,selectedPosition:E})){nn();return}T="CHANGE_ROW"}r.preventDefault();const A=wo(i,Et(r),v);un(E,A)||Me(Po({moveUp:i==="ArrowUp",moveNext:i===Xt||i==="Tab"&&!v,columns:q,colSpanColumns:Bt,rows:n,topSummaryRows:s,bottomSummaryRows:a,minRowIdx:te,mainHeaderRowIdx:Ve,maxRowIdx:he,lastFrozenColumnIndex:re,cellNavigationMode:T,currentPosition:E,nextPosition:A,isCellWithinBounds:wt}),{shouldFocusCell:!0})}function xo(r){if(ae===void 0)return;const{rowIdx:i}=E;return(i<ae?i<r&&r<=ae:i>r&&r>=ae)?E.idx:void 0}function Co(){if(O==null||E.mode==="EDIT"||!xt(E))return;const{idx:r,rowIdx:i}=E,v=q[r];if(v.renderEditCell==null||v.editable===!1)return;const T=i===he,A=Vt(v),V=v.colSpan?.({type:"ROW",row:n[i]})??1,{insetInlineStart:G,...B}=ve(v,V),U="calc(var(--rdg-drag-handle-size) * -0.5 + 1px)",J=v.idx+V-1===ye;return l.jsx("div",{style:{...B,gridRowStart:ge+i+1,marginInlineEnd:J?void 0:U,marginBlockEnd:T?void 0:U,insetInlineStart:G?`calc(${G} + ${A}px + var(--rdg-drag-handle-size) * -0.5 - 1px)`:void 0},className:ie(Vo,v.frozen&&_o),onPointerDown:ao,onPointerMove:st?co:void 0,onLostPointerCapture:st?uo:void 0,onClick:fo,onDoubleClick:go})}function po(r){if(!xt(E)||E.rowIdx!==r||E.mode==="SELECT")return;const{idx:i,row:v}=E,T=q[i],A=se(T,re,{type:"ROW",row:v}),V=T.editorOptions?.closeOnExternalRowChange??!0,G=U=>{it(U),be(({idx:J,rowIdx:we})=>({idx:J,rowIdx:we,mode:"SELECT"}))},B=(U,J,we)=>{J?ze.flushSync(()=>{Ue(T,E.rowIdx,U),G(we)}):be(pt=>({...pt,row:U}))};return V&&n[E.rowIdx]!==E.originalRow&&G(!1),l.jsx(mr,{column:T,colSpan:A,row:v,rowIdx:r,onRowChange:B,closeEditor:G,onKeyDown:N,navigate:sn},T.key)}function Ne(r){const i=E.idx===-1?void 0:q[E.idx];return i!==void 0&&E.rowIdx===r&&!de.includes(i)?E.idx>Ut?[...de,i]:[...de.slice(0,re+1),i,...de.slice(re+1)]:de}function bo(){const r=[],{idx:i,rowIdx:v}=E,T=Be&&v<je?je-1:je,A=Be&&v>Te?Te+1:Te;for(let V=T;V<=A;V++){const G=V===je-1||V===Te+1,B=G?v:V;let U=de;const J=i===-1?void 0:q[i];J!==void 0&&(G?U=[J]:U=Ne(B));const we=n[B],pt=ge+B+1;let bt=B,yt=!1;typeof u=="function"&&(bt=u(we),yt=f?.has(bt)??!1),r.push(vn(bt,{"aria-rowindex":ge+B+1,"aria-selected":ut?yt:void 0,rowIdx:B,row:we,viewportColumns:U,isRowSelectionDisabled:c?.(we)??!1,isRowSelected:yt,onCellMouseDown:Yn,onCellClick:qn,onCellDoubleClick:Xn,onCellContextMenu:Jn,rowClass:X,gridRowStart:pt,selectedCellIdx:v===B?i:void 0,draggedOverCellIdx:xo(B),lastFrozenColumnIndex:re,onRowChange:eo,selectCell:ht,selectedCellEditor:po(B)}))}return r}(E.idx>ye||E.rowIdx>he)&&(be({idx:-1,rowIdx:te-1,mode:"SELECT"}),lt(void 0)),at&&$t!==y&&rt(y);let qe=`repeat(${fe}, ${le}px)`;Ce>0&&(qe+=` repeat(${Ce}, ${oe}px)`),n.length>0&&(qe+=An),pe>0&&(qe+=` repeat(${pe}, ${oe}px)`);const Ct=E.idx===-1&&E.rowIdx!==te-1;return l.jsxs("div",{role:ne,"aria-label":Ee,"aria-labelledby":ue,"aria-description":nt,"aria-describedby":$e,"aria-multiselectable":ut?!0:void 0,"aria-colcount":q.length,"aria-rowcount":Jt,tabIndex:-1,className:ie(Kr,{[Ur]:st},_),style:{...K,scrollPaddingInlineStart:E.idx>re||Oe?.idx!==void 0?`${zn}px`:void 0,scrollPaddingBlock:me(E.rowIdx)||Oe?.rowIdx!==void 0?`${Ge+Ce*oe}px ${pe*oe}px`:void 0,gridTemplateColumns:Wn,gridTemplateRows:qe,"--rdg-header-row-height":`${le}px`,"--rdg-scroll-height":`${Vn}px`,...Hn},dir:ot,ref:ce,onScroll:oo,onKeyDown:no,onCopy:ro,onPaste:so,"data-testid":Fe,"data-cy":We,children:[l.jsxs(bn,{value:Pn,children:[l.jsx(Jo,{value:Qn,children:l.jsxs(Xo,{value:$n,children:[Array.from({length:ct},(r,i)=>l.jsx(Lr,{rowIdx:i+1,level:-ct+i,columns:Ne(te+i),selectedCellIdx:E.rowIdx===te+i?E.idx:void 0,selectCell:en},i)),l.jsx(Hr,{headerRowClass:Z,rowIdx:fe,columns:Ne(Ve),onColumnResize:Gn,onColumnResizeEnd:Kn,onColumnsReorder:Bn,sortColumns:p,onSortColumnsChange:Un,lastFrozenColumnIndex:re,selectedCellIdx:E.rowIdx===Ve?E.idx:void 0,selectCell:en,shouldFocusGrid:!Zt,direction:ot})]})}),n.length===0&&zt?zt:l.jsxs(l.Fragment,{children:[s?.map((r,i)=>{const v=fe+1+i,T=Ve+1+i,A=E.rowIdx===T,V=Ge+oe*i;return l.jsx(cn,{"aria-rowindex":v,rowIdx:T,gridRowStart:v,row:r,top:V,bottom:void 0,viewportColumns:Ne(T),lastFrozenColumnIndex:re,selectedCellIdx:A?E.idx:void 0,isTop:!0,selectCell:ht},i)}),l.jsx(qo,{value:Zn,children:bo()}),a?.map((r,i)=>{const v=ge+n.length+i+1,T=n.length+i,A=E.rowIdx===T,V=Ke>ft?Kt-oe*(a.length-i):void 0,G=V===void 0?oe*(a.length-1-i):void 0;return l.jsx(cn,{"aria-rowindex":Jt-pe+i+1,rowIdx:T,gridRowStart:v,row:r,top:V,bottom:G,viewportColumns:Ne(T),lastFrozenColumnIndex:re,selectedCellIdx:A?E.idx:void 0,isTop:!1,selectCell:ht},i)})]})]}),Co(),Ho(de),dt&&l.jsx("div",{ref:Ie,tabIndex:Ct?0:-1,className:ie(Yr,{[qr]:!me(E.rowIdx),[Dr]:Ct,[Ir]:Ct&&re!==-1}),style:{gridRowStart:E.rowIdx+ge+1}}),Oe!==null&&l.jsx(Fr,{scrollToPosition:Oe,setScrollToCellPosition:Ot,gridRef:ce})]})}function dn(t){return t.querySelector(':scope > [role="row"] > [tabindex="0"]')}function un(t,e){return t.idx===e.idx&&t.rowIdx===e.rowIdx}function rs({id:t,groupKey:e,childRows:o,isExpanded:n,isCellSelected:s,column:a,row:u,groupColumnIndex:h,isGroupByColumn:m,toggleGroup:C}){const{tabIndex:R,childTabIndex:y,onFocus:w}=Pe(s);function f(){C(t)}const c=m&&h===a.idx;return l.jsx("div",{role:"gridcell","aria-colindex":a.idx+1,"aria-selected":s,tabIndex:R,className:Re(a),style:{...ve(a),cursor:c?"pointer":"default"},onMouseDown:b=>{b.preventDefault()},onClick:c?f:void 0,onFocus:w,children:(!m||c)&&a.renderGroupCell?.({groupKey:e,childRows:o,column:a,row:u,isExpanded:n,tabIndex:y,toggleGroup:f})},a.key)}var ss=d.memo(rs);const ls="rdg-group-row rdg-7-0-0-beta-58-e74a2be3";function is({className:t,row:e,rowIdx:o,viewportColumns:n,selectedCellIdx:s,isRowSelected:a,selectCell:u,gridRowStart:h,groupBy:m,toggleGroup:C,isRowSelectionDisabled:R,...y}){const w=n[0].key===vt?e.level+1:e.level;function f(){u({rowIdx:o,idx:-1},{shouldFocusCell:!0})}return l.jsx(yn,{value:d.useMemo(()=>({isRowSelectionDisabled:!1,isRowSelected:a}),[a]),children:l.jsx("div",{role:"row","aria-level":e.level+1,"aria-setsize":e.setSize,"aria-posinset":e.posInSet+1,"aria-expanded":e.isExpanded,className:ie(Tt,ls,`rdg-row-${o%2===0?"even":"odd"}`,s===-1&&tt,t),onMouseDown:f,style:Dt(h),...y,children:n.map(c=>l.jsx(ss,{id:e.id,groupKey:e.groupKey,childRows:e.childRows,isExpanded:e.isExpanded,isCellSelected:s===c.idx,column:c,row:e,groupColumnIndex:w,toggleGroup:C,isGroupByColumn:m.includes(c.key)},c.key))})})}d.memo(is);const as="rdg-7-0-0-beta-58-2f8db206",cs=`rdg-text-editor ${as}`;function ds(t){t?.focus(),t?.select()}function us({row:t,column:e,onRowChange:o,onClose:n}){return l.jsx("input",{className:cs,ref:ds,value:t[e.key],onChange:s=>o({...t,[e.key]:s.target.value}),onBlur:()=>n(!0,!1)})}function ys(t){const e=fn.c(28),{type:o,selection:n,columns:s}=t,{showDialog:a}=hn();let u;const h=yo(o,n);let m,C;if(e[0]!==s||e[1]!==h){m=Array.from(s.keys());const L=JSON.stringify({[h]:m});C=Eo({command:["sheet_custom","import_json"],args:{sheet:"",json:L}}),e[0]=s,e[1]=h,e[2]=m,e[3]=C}else m=e[2],C=e[3];const R=C;let y;e[4]===Symbol.for("react.memo_cache_sentinel")?(y=l.jsx("p",{className:"font-semibold mb-1",children:"Option 1: Run import in Discord"}),e[4]=y):y=e[4];let w;e[5]!==R?(w=l.jsx(Je,{text:R}),e[5]=R,e[6]=w):w=e[6];let f,c;e[7]===Symbol.for("react.memo_cache_sentinel")?(f=l.jsx("hr",{className:"my-4"}),c=l.jsx("p",{className:"font-semibold mb-1",children:"Option 2: Manually set up Google Sheets"}),e[7]=f,e[8]=c):(f=e[7],c=e[8]);let b;e[9]===Symbol.for("react.memo_cache_sentinel")?(b=l.jsx("br",{}),e[9]=b):b=e[9];let p;e[10]!==h?(p=l.jsxs("li",{className:"bg-accent/20 mb-1 p-1 border-primary/5 border-2 rounded",children:["Set the google sheet tab name as the selection:",b,l.jsx(Je,{text:h})]}),e[10]=h,e[11]=p):p=e[11];let D;e[12]===Symbol.for("react.memo_cache_sentinel")?(D=l.jsx("br",{}),e[12]=D):D=e[12];const I=m.join("	");let j;e[13]!==I?(j=l.jsxs("li",{className:"bg-accent/20 mb-1 p-1 border-primary/5 border-2 rounded",children:["Set the columns as the first row of cells in the sheet tab:",D,l.jsx(Je,{text:I})]}),e[13]=I,e[14]=j):j=e[14];let M;e[15]===Symbol.for("react.memo_cache_sentinel")?(M=l.jsxs("li",{className:"bg-accent/20 mb-1 p-1 border-primary/5 border-2 rounded",children:["Run the discord command, with the sheet url, to autofill the remaining cells:",l.jsx("br",{}),l.jsx(Je,{text:"/sheet_custom auto"})]}),e[15]=M):M=e[15];let P;e[16]!==j||e[17]!==p?(P=l.jsxs("ul",{className:"list-decimal list-inside",children:[p,j,M]}),e[16]=j,e[17]=p,e[18]=P):P=e[18];let g;e[19]!==P||e[20]!==w?(g=l.jsxs(l.Fragment,{children:[y,w,f,c,P]}),e[19]=P,e[20]=w,e[21]=g):g=e[21],u=g;const N=u;let x;e[22]!==N||e[23]!==a?(x=()=>{a("Creating custom google sheets",N)},e[22]=N,e[23]=a,e[24]=x):x=e[24];const H=x;let $,F;e[25]===Symbol.for("react.memo_cache_sentinel")?(F=l.jsxs(l.Fragment,{children:[l.jsx(xe,{name:"Sheet",className:"h-2 w-2"})," To Google Sheets"]}),e[25]=F):F=e[25],$=F;const O=$;let z;return e[26]!==H?(z=l.jsx(gn,{variant:"outline",size:"sm",className:"me-1",onClick:H,children:O}),e[26]=H,e[27]=z):z=e[27],z}function fs(t){const e=fn.c(36),{data:o,columns:n}=t,{showDialog:s}=hn();let a;e[0]!==n||e[1]!==o||e[2]!==s?(a=()=>{s(...Xe(o,n,!1,Ze.CSV))},e[0]=n,e[1]=o,e[2]=s,e[3]=a):a=e[3];const u=a;let h;e[4]!==n||e[5]!==o||e[6]!==s?(h=()=>{s(...Xe(o,n,!0,Ze.CSV))},e[4]=n,e[5]=o,e[6]=s,e[7]=h):h=e[7];const m=h;let C;e[8]!==n||e[9]!==o||e[10]!==s?(C=()=>{s(...Xe(o,n,!1,Ze.TSV))},e[8]=n,e[9]=o,e[10]=s,e[11]=C):C=e[11];const R=C;let y;e[12]!==n||e[13]!==o||e[14]!==s?(y=()=>{s(...Xe(o,n,!0,Ze.TSV))},e[12]=n,e[13]=o,e[14]=s,e[15]=y):y=e[15];const w=y;let f,c;e[16]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsx(xe,{name:"Download",className:"h-4 w-4"}),e[16]=c):c=e[16];let b;e[17]===Symbol.for("react.memo_cache_sentinel")?(b=l.jsxs("kbd",{className:"bg-accent rounded flex items-center space-x-1",children:[c," ",l.jsx("span",{children:","})]}),e[17]=b):b=e[17],f=b;const p=f;let D,I;e[18]===Symbol.for("react.memo_cache_sentinel")?(I=l.jsx(xe,{name:"ClipboardIcon",className:"h-4 w-4"}),e[18]=I):I=e[18];let j;e[19]===Symbol.for("react.memo_cache_sentinel")?(j=l.jsxs("kbd",{className:"bg-accent rounded flex items-center space-x-1",children:[I," ",l.jsx("span",{children:","})]}),e[19]=j):j=e[19],D=j;const M=D;let P,g;e[20]===Symbol.for("react.memo_cache_sentinel")?(g=l.jsxs("kbd",{className:"bg-accent rounded flex items-center space-x-1",children:[l.jsx(xe,{name:"Download",className:"h-4 w-3"}),l.jsx(xe,{name:"ArrowRightToLine",className:"h-4 w-3"})]}),e[20]=g):g=e[20],P=g;const N=P;let x,H;e[21]===Symbol.for("react.memo_cache_sentinel")?(H=l.jsxs("kbd",{className:"bg-accent rounded flex items-center space-x-1",children:[l.jsx(xe,{name:"ClipboardIcon",className:"h-4 w-3"}),l.jsx(xe,{name:"ArrowRightToLine",className:"h-4 w-3"})]}),e[21]=H):H=e[21],x=H;const $=x;let F;e[22]===Symbol.for("react.memo_cache_sentinel")?(F=l.jsx(Ro,{asChild:!0,children:l.jsx(gn,{variant:"outline",size:"sm",className:"me-1",children:"Export"})}),e[22]=F):F=e[22];let O;e[23]!==u?(O=l.jsxs(Qe,{className:"cursor-pointer",onClick:u,children:[p," Download CSV"]}),e[23]=u,e[24]=O):O=e[24];let z;e[25]!==m?(z=l.jsxs(Qe,{className:"cursor-pointer",onClick:m,children:[M," Copy CSV"]}),e[25]=m,e[26]=z):z=e[26];let L;e[27]!==R?(L=l.jsxs(Qe,{className:"cursor-pointer",onClick:R,children:[N," Download TSV"]}),e[27]=R,e[28]=L):L=e[28];let k;e[29]!==w?(k=l.jsxs(Qe,{className:"cursor-pointer",onClick:w,children:[$," Copy TSV"]}),e[29]=w,e[30]=k):k=e[30];let S;return e[31]!==O||e[32]!==z||e[33]!==L||e[34]!==k?(S=l.jsx("span",{className:"ms-1",children:l.jsxs(vo,{children:[F,l.jsxs(ko,{children:[O,z,L,k]})]})}),e[31]=O,e[32]=z,e[33]=L,e[34]=k,e[35]=S):S=e[35],S}function gs(t,e){const o=e.column.render?.display;return o?o(t,e):String(t)}function Ss({table:t,columnsInfo:e,data:o,sort:n,searchSet:s,rowClassName:a,indexCellRenderer:u,indexColumnWidth:h,onRowsRendered:m,visibleColumns:C,setColumns:R,setData:y,setSort:w,showExports:f}){const[c,b]=d.useState(()=>typeof window>"u"?1024:window.innerWidth);d.useEffect(()=>{if(typeof window>"u")return;const k=()=>b(window.innerWidth);return window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]);const p=c<768,{visibleColumnsInfo:D,hiddenColumnsInfo:I}=d.useMemo(()=>{if(!p)return{visibleColumnsInfo:e,hiddenColumnsInfo:[]};const k=e.filter(_=>_.hideOnMobile!==!0);if(k.length>0)return{visibleColumnsInfo:k,hiddenColumnsInfo:e.filter(_=>_.hideOnMobile===!0)};const S=4;return{visibleColumnsInfo:e.slice(0,S),hiddenColumnsInfo:e.slice(S)}},[e,p]),j=d.useMemo(()=>n?Array.isArray(n)?n:[n]:null,[n]);d.useEffect(()=>{m?.(o)},[o,m]);const M=d.useMemo(()=>{const k=[];return k.push({key:"index",name:"#",width:e.length===0?void 0:h??36,sortable:!1,cellClass:Se("ps-1",e.length===0?"w-full":void 0),headerCellClass:"ps-1 text-foreground bg-muted",renderCell:S=>{const _=S.rowIdx+1;return u?u({row:S.row,rowIdx:S.rowIdx,rowNumber:_}):String(_)}}),D.forEach((S,_)=>{const K=S.index,X=S.render?.display;k.push({key:String(K),name:S.title,sortable:S.sortable??!0,resizable:!0,draggable:S.draggable??!0,width:S.width??void 0,minWidth:Math.max(60,Math.min(180,S.title.length*9+30)),maxWidth:800,cellClass:Se("px-1 whitespace-normal break-words overflow-hidden",S.cellClassName),headerCellClass:Se("px-1 text-foreground bg-muted text-xs",S.headerCellClassName),renderCell:X?Z=>{const ee=Z.row[K];return gs(ee,{row:Z.row,rowIdx:Z.rowIdx,column:S})}:Z=>{const ee=Z.row[K];return String(ee)},renderEditCell:S.editable===!1?void 0:us,editable:S.editable??!0})}),p&&I.length>0&&k.push({key:"__details",name:"More",sortable:!1,resizable:!1,draggable:!1,width:84,cellClass:"px-1",headerCellClass:"px-1 text-foreground bg-muted text-xs",renderCell:S=>l.jsxs("details",{className:"text-[10px]",children:[l.jsx("summary",{className:"cursor-pointer select-none",children:"More"}),l.jsx("div",{className:"mt-1 max-h-36 overflow-auto rounded border border-border bg-background p-1",children:I.map(_=>{const K=S.row[_.index];return l.jsxs("div",{className:"mb-1",children:[l.jsxs("span",{className:"font-semibold",children:[_.title,":"]})," ",l.jsx("span",{children:String(K??"-")})]},`${_.index}-${S.rowIdx}`)})})]})}),k},[D,p,I,e.length,u,h]),P=d.useMemo(()=>l.jsx("div",{className:"flex items-center justify-center h-full text-xl text-center bg-background text-foreground w-full cursor-default",children:"No data to display"}),[]),g=d.useCallback((k,S)=>{if(k==="index"||S==="index")return;const _=Number(k),K=Number(S);if(Number.isNaN(_)||Number.isNaN(K))return;const X=e.findIndex(ue=>ue.index===_),Z=e.findIndex(ue=>ue.index===K);if(X===-1||Z===-1)return;const ee=[...e],ke=ee[X],Ee=ee[Z];ee[X]=Ee,ee[Z]=ke,R(ee)},[e,R]),[N,x]=d.useState(()=>j?j.map(k=>({columnKey:String(k.idx),direction:k.dir==="asc"?"ASC":"DESC"})):void 0),H=d.useCallback(k=>{if(k&&k.length>0){const S=k.filter(X=>!Number.isNaN(Number(X.columnKey))),_=S.map(X=>({idx:Number(X.columnKey),dir:X.direction==="ASC"?"asc":"desc"})),K=So(o,S,e);K&&(R(K.columns),y(K.data),w(_),x(k))}else x(void 0),w(void 0)},[o,e,R,y,w,x]),$=d.useMemo(()=>f&&l.jsx(fs,{data:o,columns:e}),[f,o,e]),F=d.useMemo(()=>Se("text-foreground w-full hover:bg-muted/60","bg-muted/30"),[]),O=d.useMemo(()=>Se("text-foreground w-full hover:bg-muted/60","bg-transparent"),[]),z=d.useCallback((k,S)=>{const _=s.has(S),K=a?.(k,S);return Se(S%2===0?F:O,_?"bg-blue-100 dark:bg-blue-700":"",K)},[s,F,O,a]),L=d.useMemo(()=>l.jsx("div",{className:"border border-border rounded-md overflow-x-auto overflow-y-hidden text-xs bg-background",children:l.jsx(os,{className:"bg-transparent text-xs min-w-200",style:{height:"70vh",maxHeight:"70vh",flex:"1 1 auto"},ref:t,columns:M,rows:o,sortColumns:N,onSortColumnsChange:H,onColumnsReorder:g,rowClass:z,rowHeight:24,renderers:{noRowsFallback:P},enableVirtualization:!0,onRowsChange:y},e.length)}),[e,o,N,H,g,t,M,P,z,y]);return l.jsxs(l.Fragment,{children:[$,L]})}export{Ss as D,ys as G,gs as r};
