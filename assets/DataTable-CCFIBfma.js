import{j as e,r as o,p as n}from"./index-C3E2-SUH.js";import{i as t,j as r,s as l}from"./table_util-C8W_dWTS.js";import{B as i,a as s}from"./button-DCZsNPnk.js";import{u as d,C as a}from"./DialogContext-BJx4vabV.js";import{D as c,a as u,b as x,c as m}from"./theme-provider-CY-pBUqn.js";import{Y as f,L as w,Z as g}from"./queries-BuM6HYrb.js";function h(e,o,n){const t="function"==typeof e.colSpan?e.colSpan(n):1;if(Number.isInteger(t)&&t>1&&(!e.frozen||e.idx+t-1<=o))return t}function C(e){e.stopPropagation()}function p(e,o="instant"){null==e||e.scrollIntoView({inline:"nearest",block:"nearest",behavior:o})}function v(e){let o=!1;const n={...e,preventGridDefault(){o=!0},isGridDefaultPrevented:()=>o};return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),n}const b=new Set(["Unidentified","Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Tab","ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home","PageDown","PageUp","Insert","ContextMenu","Escape","Pause","Play","PrintScreen","F1","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12"]);function y(e){return(e.ctrlKey||e.metaKey)&&"Control"!==e.key}function I(e){const o="rtl"===e;return{leftKey:o?"ArrowRight":"ArrowLeft",rightKey:o?"ArrowLeft":"ArrowRight"}}function S(o){return o.map((({key:o,idx:n,minWidth:t,maxWidth:r})=>e.jsx("div",{className:"mlln6zg7-0-0-beta-58",style:{gridColumnStart:n+1,minWidth:t,maxWidth:r},"data-measuring-cell-key":o},o)))}function R(e,o){return null!=e.renderEditCell&&!1!==("function"==typeof e.editable?e.editable(o):e.editable)}function k({rows:e,topSummaryRows:o,bottomSummaryRows:n,rowIdx:t,mainHeaderRowIdx:r,lastFrozenColumnIndex:l,column:i}){const s=(null==o?void 0:o.length)??0;if(t===r)return h(i,l,{type:"HEADER"});if(o&&t>r&&t<=s+r)return h(i,l,{type:"SUMMARY",row:o[t+s]});if(t>=0&&t<e.length){return h(i,l,{type:"ROW",row:e[t]})}return n?h(i,l,{type:"SUMMARY",row:n[t-e.length]}):void 0}function j({moveUp:e,moveNext:o,cellNavigationMode:n,columns:t,colSpanColumns:r,rows:l,topSummaryRows:i,bottomSummaryRows:s,minRowIdx:d,mainHeaderRowIdx:a,maxRowIdx:c,currentPosition:{idx:u,rowIdx:x},nextPosition:m,lastFrozenColumnIndex:f,isCellWithinBounds:w}){let{idx:g,rowIdx:h}=m;const C=t.length,p=e=>{for(const o of r){const n=o.idx;if(n>g)break;const t=k({rows:l,topSummaryRows:i,bottomSummaryRows:s,rowIdx:h,mainHeaderRowIdx:a,lastFrozenColumnIndex:f,column:o});if(t&&g>n&&g<t+n){g=n+(e?t:0);break}}},v=e=>e.level+a;if(w(m)&&(p(o),h<a&&(()=>{if(o){let e=t[g].parent;for(;void 0!==e;){const o=v(e);if(h===o){g=e.idx+e.colSpan;break}e=e.parent}}else if(e){let e=t[g].parent,o=!1;for(;void 0!==e;){const n=v(e);if(h>=n){g=e.idx,h=n,o=!0;break}e=e.parent}o||(g=u,h=x)}})()),"CHANGE_ROW"===n){const e=-1===g;if(g===C){h===c||(g=0,h+=1)}else if(e){h===d||(h-=1,g=C-1),p(!1)}}if(h<a&&g>-1&&g<C){let e=t[g].parent;const o=h;for(h=a;void 0!==e;){const n=v(e);n>=o&&(h=n,g=e.idx),e=e.parent}}return{idx:g,rowIdx:h}}const E="rdg-cell cj343x07-0-0-beta-58",D="rdg-cell-frozen csofj7r7-0-0-beta-58";function z(e){return{"--rdg-grid-row-start":e}}function T(e,o,n){const t=o+1,r=`calc(${n-1} * var(--rdg-header-row-height))`;return void 0===e.parent?{insetBlockStart:0,gridRowStart:1,gridRowEnd:t,paddingBlockStart:r}:{insetBlockStart:`calc(${o-n} * var(--rdg-header-row-height))`,gridRowStart:t-n,gridRowEnd:t,paddingBlockStart:r}}function M(e,o=1){const n=e.idx+1;return{gridColumnStart:n,gridColumnEnd:n+o,insetInlineStart:e.frozen?`var(--rdg-frozen-left-${e.idx})`:void 0}}function N(...e){let o="";for(const n of e)if(n)if("string"==typeof n)o+=` ${n}`;else if("object"==typeof n)for(const e in n)n[e]&&(o+=` ${e}`);return o.trimStart()}function F(e,...o){return N(E,{[D]:e.frozen},...o)}const{min:A,max:O,floor:H,sign:P,abs:L}=Math;function K(e){if("function"!=typeof e)throw new Error("Please specify the rowKeyGetter prop to use selection")}function $(e,{minWidth:o,maxWidth:n}){return e=O(e,o),"number"==typeof n&&n>=o?A(e,n):e}function W(e,o){return void 0===e.parent?o:e.level-e.parent.level}function G({onChange:o,indeterminate:n,...t}){return e.jsx("input",{ref:e=>{e&&(e.indeterminate=!0===n)},type:"checkbox",className:"rdg-checkbox-input c1bn88vv7-0-0-beta-58",onChange:function(e){o(e.target.checked,e.nativeEvent.shiftKey)},...t})}function B(e){try{return e.row[e.column.key]}catch{return null}}const V=o.createContext(void 0);function U(){return o.useContext(V)}const q=o.createContext(void 0),Y=o.createContext(void 0),_=o.createContext(void 0),X=o.createContext(void 0),J="rdg-select-column";function Z({column:o,sortDirection:n,priority:t}){return o.sortable?e.jsx(Q,{sortDirection:n,priority:t,children:o.name}):o.name}function Q({sortDirection:o,priority:n,children:t}){const r=U().renderSortStatus;return e.jsxs("span",{className:"h44jtk67-0-0-beta-58",children:[e.jsx("span",{className:"rdg-header-sort-name hcgkhxz7-0-0-beta-58",children:t}),e.jsx("span",{children:r({sortDirection:o,priority:n})})]})}function ee({rawColumns:e,defaultColumnOptions:n,getColumnWidth:t,viewportWidth:r,scrollLeft:l,enableVirtualization:i}){const s=(null==n?void 0:n.width)??"auto",d=(null==n?void 0:n.minWidth)??50,a=(null==n?void 0:n.maxWidth)??void 0,c=(null==n?void 0:n.renderCell)??B,u=(null==n?void 0:n.renderHeaderCell)??Z,x=(null==n?void 0:n.sortable)??!1,m=(null==n?void 0:n.resizable)??!1,f=(null==n?void 0:n.draggable)??!1,{columns:w,colSpanColumns:g,lastFrozenColumnIndex:h,headerRowsCount:C}=o.useMemo((()=>{let o=-1,n=1;const t=[];!function e(r,l,i){for(const w of r){if("children"in w){const o={name:w.name,parent:i,idx:-1,colSpan:0,level:0,headerCellClass:w.headerCellClass};e(w.children,l+1,o);continue}const r=w.frozen??!1,g={...w,parent:i,idx:0,level:0,frozen:r,width:w.width??s,minWidth:w.minWidth??d,maxWidth:w.maxWidth??a,sortable:w.sortable??x,resizable:w.resizable??m,draggable:w.draggable??f,renderCell:w.renderCell??c,renderHeaderCell:w.renderHeaderCell??u};t.push(g),r&&o++,l>n&&(n=l)}}(e,1),t.sort((({key:e,frozen:o},{key:n,frozen:t})=>e===J?-1:n===J?1:o?t?0:-1:t?1:0));const r=[];return t.forEach(((e,o)=>{e.idx=o,oe(e,o,0),null!=e.colSpan&&r.push(e)})),{columns:t,colSpanColumns:r,lastFrozenColumnIndex:o,headerRowsCount:n}}),[e,s,d,a,c,u,m,x,f]),{templateColumns:p,layoutCssVars:v,totalFrozenColumnWidth:b,columnMetrics:y}=o.useMemo((()=>{const e=new Map;let o=0,n=0;const r=[];for(const i of w){let n=t(i);n="number"==typeof n?$(n,i):i.minWidth,r.push(`${n}px`),e.set(i,{width:n,left:o}),o+=n}if(-1!==h){const o=e.get(w[h]);n=o.left+o.width}const l={};for(let t=0;t<=h;t++){const o=w[t];l[`--rdg-frozen-left-${o.idx}`]=`${e.get(o).left}px`}return{templateColumns:r,layoutCssVars:l,totalFrozenColumnWidth:n,columnMetrics:e}}),[t,w,h]),[I,S]=o.useMemo((()=>{if(!i)return[0,w.length-1];const e=l+b,o=l+r,n=w.length-1,t=A(h+1,n);if(e>=o)return[t,t];let s=t;for(;s<n;){const{left:o,width:n}=y.get(w[s]);if(o+n>e)break;s++}let d=s;for(;d<n;){const{left:e,width:n}=y.get(w[d]);if(e+n>=o)break;d++}return[O(t,s-1),A(n,d+1)]}),[y,w,h,l,b,r,i]);return{columns:w,colSpanColumns:g,colOverscanStartIdx:I,colOverscanEndIdx:S,templateColumns:p,layoutCssVars:v,headerRowsCount:C,lastFrozenColumnIndex:h,totalFrozenColumnWidth:b}}function oe(e,o,n){if(n<e.level&&(e.level=n),void 0!==e.parent){const{parent:t}=e;-1===t.idx&&(t.idx=o),t.colSpan+=1,oe(t,o,n-1)}}function ne(e,o){var n;const t=`[data-measuring-cell-key="${CSS.escape(o)}"]`,r=null==(n=e.current)?void 0:n.querySelector(t);return null==r?void 0:r.getBoundingClientRect().width}function te(e){const n=o.useRef(e);o.useLayoutEffect((()=>{n.current=e}));const t=o.useCallback(((...e)=>{n.current(...e)}),[]);return e?t:e}function re(e){const[n,t]=o.useState(!1);n&&!e&&t(!1);return{tabIndex:e&&!n?0:-1,childTabIndex:e?0:-1,onFocus:e?function(e){if(e.target===e.currentTarget){const o=e.currentTarget.querySelector('[tabindex="0"]');null!==o?(o.focus({preventScroll:!0}),t(!0)):t(!1)}else t(!0)}:void 0}}const le="rdg-cell-dragged-over c6ra8a37-0-0-beta-58";const ie=o.memo((function({column:o,colSpan:n,isCellSelected:t,isDraggedOver:r,row:l,rowIdx:i,className:s,onMouseDown:d,onCellMouseDown:a,onClick:c,onCellClick:u,onDoubleClick:x,onCellDoubleClick:m,onContextMenu:f,onCellContextMenu:w,onRowChange:g,selectCell:h,style:C,...p}){const{tabIndex:b,childTabIndex:y,onFocus:I}=re(t),{cellClass:S}=o;s=F(o,{[le]:r},"function"==typeof S?S(l):S,s);const k=R(o,l);function j(e){h({rowIdx:i,idx:o.idx},{enableEditor:e})}function E(e,n){let t=!1;if(n){const r=v(e);n({rowIdx:i,row:l,column:o,selectCell:j},r),t=r.isGridDefaultPrevented()}return t}return e.jsx("div",{role:"gridcell","aria-colindex":o.idx+1,"aria-colspan":n,"aria-selected":t,"aria-readonly":!k||void 0,tabIndex:b,className:s,style:{...M(o,n),...C},onClick:function(e){null==c||c(e),E(e,u)},onMouseDown:function(e){null==d||d(e),E(e,a)||j()},onDoubleClick:function(e){null==x||x(e),E(e,m)||j(!0)},onContextMenu:function(e){null==f||f(e),E(e,w)},onFocus:I,...p,children:o.renderCell({column:o,row:l,rowIdx:i,isCellEditable:k,tabIndex:y,onRowChange:function(e){g(o,e)}})})}));function se(o,n){return e.jsx(ie,{...n},o)}const de="object"==typeof scheduler&&"function"==typeof scheduler.postTask;function ae({column:n,colSpan:t,row:r,rowIdx:l,onRowChange:i,closeEditor:s,onKeyDown:d,navigate:a}){var c,u,x;const m=o.useRef(void 0),f=o.useRef(void 0),w=o.useRef(void 0),g=(null==(c=n.editorOptions)?void 0:c.commitOnOutsideClick)??!0,h=o.useEffectEvent((()=>{p(!0,!1)}));function C(){m.current=void 0,void 0!==f.current&&(f.current.abort(),f.current=void 0),void 0!==w.current&&(cancelAnimationFrame(w.current),w.current=void 0)}function p(e=!1,o=!0){e?i(r,!0,o):s(o)}function b(e,o=!1){i(e,o,o)}o.useLayoutEffect((()=>{if(g)return addEventListener("mousedown",e,{capture:!0}),addEventListener("mousedown",o),()=>{removeEventListener("mousedown",e,{capture:!0}),removeEventListener("mousedown",o),C()};function e(e){if(m.current=e,de){const e=new AbortController,{signal:o}=e;f.current=e,scheduler.postTask(h,{priority:"user-blocking",signal:o}).catch((()=>{}))}else w.current=requestAnimationFrame(h)}function o(e){m.current===e&&h()}}),[g]);const{cellClass:y}=n,I=F(n,"rdg-editor-container",!(null==(u=n.editorOptions)?void 0:u.displayCellContent)&&"cis5rrm7-0-0-beta-58","function"==typeof y?y(r):y);return e.jsx("div",{role:"gridcell","aria-colindex":n.idx+1,"aria-colspan":t,"aria-selected":!0,className:I,style:M(n,t),onKeyDown:function(e){if(d){const o=v(e);if(d({mode:"EDIT",row:r,column:n,rowIdx:l,navigate(){a(e)},onClose:p},o),o.isGridDefaultPrevented())return}"Escape"===e.key?p():"Enter"===e.key?p(!0):function({key:e,target:o}){var n;return"Tab"===e&&(o instanceof HTMLInputElement||o instanceof HTMLTextAreaElement||o instanceof HTMLSelectElement)&&1===(null==(n=o.closest(".rdg-editor-container"))?void 0:n.querySelectorAll("input, textarea, select").length)}(e)&&a(e)},onMouseDownCapture:C,children:null!=n.renderEditCell&&e.jsxs(e.Fragment,{children:[n.renderEditCell({column:n,row:r,rowIdx:l,onRowChange:b,onClose:p}),(null==(x=n.editorOptions)?void 0:x.displayCellContent)&&n.renderCell({column:n,row:r,rowIdx:l,isCellEditable:!0,tabIndex:-1,onRowChange:b})]})})}function ce({column:o,rowIdx:n,isCellSelected:t,selectCell:r}){const{tabIndex:l,onFocus:i}=re(t),{colSpan:s}=o,d=W(o,n),a=o.idx+1;return e.jsx("div",{role:"columnheader","aria-colindex":a,"aria-colspan":s,"aria-rowspan":d,"aria-selected":t,tabIndex:l,className:N(E,o.headerCellClass),style:{...T(o,n,d),gridColumnStart:a,gridColumnEnd:a+s},onFocus:i,onMouseDown:function(){r({idx:o.idx,rowIdx:n})},children:o.name})}const ue="c6l2wv17-0-0-beta-58",xe="rdg-cell-resizable c1kqdw7y7-0-0-beta-58",me="rdg-cell-draggable",fe="rdg-cell-dragging c1bezg5o7-0-0-beta-58",we="rdg-cell-drag-over c1vc96037-0-0-beta-58";function ge({column:t,colSpan:r,rowIdx:l,isCellSelected:i,onColumnResize:s,onColumnResizeEnd:d,onColumnsReorder:a,sortColumns:c,onSortColumnsChange:u,selectCell:x,shouldFocusGrid:m,direction:f,draggedColumnKey:w,setDraggedColumnKey:g}){const[h,C]=o.useState(!1),p=o.useRef(null),v=w===t.key,b=W(t,l),{tabIndex:S,childTabIndex:R,onFocus:k}=re(m||i),j=null==c?void 0:c.findIndex((e=>e.columnKey===t.key)),E=void 0!==j&&j>-1?c[j]:void 0,D=null==E?void 0:E.direction,z=void 0!==E&&c.length>1?j+1:void 0,N=D&&!z?"ASC"===D?"ascending":"descending":void 0,{sortable:A,resizable:O,draggable:H}=t,P=F(t,t.headerCellClass,{[ue]:A,[xe]:O,[me]:H,[fe]:v,[we]:h});function L(e){if(null==u)return;const{sortDescendingFirst:o}=t;if(void 0===E){const n={columnKey:t.key,direction:o?"DESC":"ASC"};u(c&&e?[...c,n]:[n])}else{let n;if((!0===o&&"DESC"===D||!0!==o&&"ASC"===D)&&(n={columnKey:t.key,direction:"ASC"===D?"DESC":"ASC"}),e){const e=[...c];n?e[j]=n:e.splice(j,1),u(e)}else u(n?[n]:[])}}let K,G;H&&(K={draggable:!0,onDragStart:function(e){n.flushSync((()=>{g(t.key)})),e.dataTransfer.setDragImage(p.current,0,0),e.dataTransfer.dropEffect="move"},onDragEnd:function(){g(void 0)}},void 0!==w&&w!==t.key&&(G={onDragOver:function(e){e.preventDefault(),e.dataTransfer.dropEffect="move"},onDragEnter:function(e){Ce(e)&&C(!0)},onDragLeave:function(e){Ce(e)&&C(!1)},onDrop:function(e){C(!1),e.preventDefault(),null==a||a(w,t.key)}}));const B={...T(t,l,b),...M(t,r)},V=t.renderHeaderCell({column:t,sortDirection:D,priority:z,tabIndex:R});return e.jsxs(e.Fragment,{children:[v&&e.jsx("div",{ref:p,style:B,className:F(t,t.headerCellClass,"d8rwc9w7-0-0-beta-58"),children:V}),e.jsxs("div",{role:"columnheader","aria-colindex":t.idx+1,"aria-colspan":r,"aria-rowspan":b,"aria-selected":i,"aria-sort":N,tabIndex:S,className:P,style:B,onMouseDown:function(){x({idx:t.idx,rowIdx:l})},onFocus:function(e){null==k||k(e),m&&x({idx:0,rowIdx:l})},onClick:function(e){A&&L(e.ctrlKey||e.metaKey)},onKeyDown:function(e){const{key:o}=e;if(!A||" "!==o&&"Enter"!==o){if(O&&y(e)&&("ArrowLeft"===o||"ArrowRight"===o)){e.stopPropagation();const{width:n}=e.currentTarget.getBoundingClientRect(),{leftKey:r}=I(f),l=$(n+(o===r?-10:10),t);l!==n&&s(t,l)}}else e.preventDefault(),L(e.ctrlKey||e.metaKey)},...K,...G,children:[V,O&&e.jsx(he,{direction:f,column:t,onColumnResize:s,onColumnResizeEnd:d})]})]})}function he({direction:n,column:t,onColumnResize:r,onColumnResizeEnd:l}){const i=o.useRef(void 0),s="rtl"===n;return e.jsx("div",{"aria-hidden":!0,className:"rdg-resize-handle r1y6ywlx7-0-0-beta-58",onClick:C,onPointerDown:function(e){if("mouse"===e.pointerType&&1!==e.buttons)return;e.preventDefault();const{currentTarget:o,pointerId:n}=e;o.setPointerCapture(n);const t=o.parentElement,{right:r,left:l}=t.getBoundingClientRect();i.current=s?e.clientX-l:r-e.clientX},onPointerMove:function(e){const o=i.current;if(void 0===o)return;const{width:n,right:l,left:d}=e.currentTarget.parentElement.getBoundingClientRect();let a=s?l+o-e.clientX:e.clientX+o-d;a=$(a,t),n>0&&a!==n&&r(t,a)},onLostPointerCapture:function(){l(),i.current=void 0},onDoubleClick:function(){r(t,"max-content")}})}function Ce(e){const o=e.relatedTarget;return!e.currentTarget.contains(o)}const pe="rdg-row r1upfr807-0-0-beta-58",ve="r190mhd37-0-0-beta-58",be="rdg-row-selected",ye="r139qu9m7-0-0-beta-58",Ie="rdg-bottom-summary-row",Se="rdg-header-row h10tskcx7-0-0-beta-58";var Re=o.memo((function({headerRowClass:n,rowIdx:t,columns:r,onColumnResize:l,onColumnResizeEnd:i,onColumnsReorder:s,sortColumns:d,onSortColumnsChange:a,lastFrozenColumnIndex:c,selectedCellIdx:u,selectCell:x,shouldFocusGrid:m,direction:f}){const[w,g]=o.useState(),C=[];for(let o=0;o<r.length;o++){const n=r[o],p=h(n,c,{type:"HEADER"});void 0!==p&&(o+=p-1),C.push(e.jsx(ge,{column:n,colSpan:p,rowIdx:t,isCellSelected:u===n.idx,onColumnResize:l,onColumnResizeEnd:i,onColumnsReorder:s,onSortColumnsChange:a,sortColumns:d,selectCell:x,shouldFocusGrid:m&&0===o,direction:f,draggedColumnKey:w,setDraggedColumnKey:g},n.key))}return e.jsx("div",{role:"row","aria-rowindex":t,className:N(Se,{[be]:-1===u},n),children:C})}));var ke=o.memo((function({rowIdx:o,level:n,columns:t,selectedCellIdx:r,selectCell:l}){const i=[],s=new Set;for(const d of t){let{parent:t}=d;if(void 0!==t){for(;t.level>n&&void 0!==t.parent;)t=t.parent;if(t.level===n&&!s.has(t)){s.add(t);const{idx:n}=t;i.push(e.jsx(ce,{column:t,rowIdx:o,isCellSelected:r===n,selectCell:l},n))}}}return e.jsx("div",{role:"row","aria-rowindex":o,className:Se,children:i})}));const je=o.memo((function({className:n,rowIdx:t,gridRowStart:r,selectedCellIdx:l,isRowSelectionDisabled:i,isRowSelected:s,draggedOverCellIdx:d,lastFrozenColumnIndex:a,row:c,viewportColumns:u,selectedCellEditor:x,onCellMouseDown:m,onCellClick:f,onCellDoubleClick:w,onCellContextMenu:g,rowClass:C,onRowChange:p,selectCell:v,style:b,...y}){const I=U().renderCell,S=te(((e,o)=>{p(e,t,o)}));n=N(pe,"rdg-row-"+(t%2==0?"even":"odd"),{[be]:-1===l},null==C?void 0:C(c,t),n);const R=[];for(let e=0;e<u.length;e++){const o=u[e],{idx:n}=o,r=h(o,a,{type:"ROW",row:c});void 0!==r&&(e+=r-1);const i=l===n;i&&x?R.push(x):R.push(I(o.key,{column:o,colSpan:r,row:c,rowIdx:t,isDraggedOver:d===n,isCellSelected:i,onCellMouseDown:m,onCellClick:f,onCellDoubleClick:w,onCellContextMenu:g,onRowChange:S,selectCell:v}))}const k=o.useMemo((()=>({isRowSelected:s,isRowSelectionDisabled:i})),[i,s]);return e.jsx(q,{value:k,children:e.jsx("div",{role:"row",className:n,style:{...z(r),...b},...y,children:R})})}));function Ee(o,n){return e.jsx(je,{...n},o)}function De({scrollToPosition:{idx:n,rowIdx:t},gridRef:r,setScrollToCellPosition:l}){const i=o.useRef(null);return o.useLayoutEffect((()=>{p(i.current,"auto")})),o.useLayoutEffect((()=>{const e=new IntersectionObserver((function(){l(null)}),{root:r.current,threshold:1});return e.observe(i.current),()=>{e.disconnect()}}),[r,l]),e.jsx("div",{ref:i,style:{gridColumn:void 0===n?"1/-1":n+1,gridRow:void 0===t?"1/-1":t+2}})}function ze({sortDirection:o,priority:n}){return e.jsxs(e.Fragment,{children:[Te({sortDirection:o}),Me({priority:n})]})}function Te({sortDirection:o}){return void 0===o?null:e.jsx("svg",{viewBox:"0 0 12 8",width:"12",height:"8",className:"rdg-sort-arrow a3ejtar7-0-0-beta-58","aria-hidden":!0,children:e.jsx("path",{d:"ASC"===o?"M0 8 6 0 12 8":"M0 0 6 8 12 0"})})}function Me({priority:e}){return e}const Ne="rdg-viewport-dragging vlqv91k7-0-0-beta-58",Fe="f1cte0lg7-0-0-beta-58";var Ae=o.memo((function({column:o,colSpan:n,row:t,rowIdx:r,isCellSelected:l,selectCell:i}){var s;const{tabIndex:d,childTabIndex:a,onFocus:c}=re(l),{summaryCellClass:u}=o,x=F(o,"s8wc6fl7-0-0-beta-58","function"==typeof u?u(t):u);return e.jsx("div",{role:"gridcell","aria-colindex":o.idx+1,"aria-colspan":n,"aria-selected":l,tabIndex:d,className:x,style:M(o,n),onMouseDown:function(){i({rowIdx:r,idx:o.idx})},onFocus:c,children:null==(s=o.renderSummaryCell)?void 0:s.call(o,{column:o,row:t,tabIndex:a})})}));var Oe=o.memo((function({rowIdx:o,gridRowStart:n,row:t,viewportColumns:r,top:l,bottom:i,lastFrozenColumnIndex:s,selectedCellIdx:d,isTop:a,selectCell:c,"aria-rowindex":u}){const x=[];for(let m=0;m<r.length;m++){const n=r[m],l=h(n,s,{type:"SUMMARY",row:t});void 0!==l&&(m+=l-1);const i=d===n.idx;x.push(e.jsx(Ae,{column:n,colSpan:l,row:t,rowIdx:o,isCellSelected:i,selectCell:c},n.key))}return e.jsx("div",{role:"row","aria-rowindex":u,className:N(pe,"rdg-row-"+(o%2==0?"even":"odd"),"rdg-summary-row skuhp557-0-0-beta-58",{[be]:-1===d,"rdg-top-summary-row tf8l5ub7-0-0-beta-58":a,[Ie]:!a}),style:{...z(n),"--rdg-summary-row-top":void 0!==l?`${l}px`:void 0,"--rdg-summary-row-bottom":void 0!==i?`${i}px`:void 0},children:x})}));function He(t){const{ref:r,columns:l,rows:i,topSummaryRows:s,bottomSummaryRows:d,rowKeyGetter:a,onRowsChange:c,rowHeight:u,headerRowHeight:x,summaryRowHeight:m,columnWidths:f,onColumnWidthsChange:w,selectedRows:g,isRowSelectionDisabled:C,onSelectedRowsChange:k,sortColumns:E,onSortColumnsChange:D,defaultColumnOptions:z,onCellMouseDown:T,onCellClick:F,onCellDoubleClick:$,onCellContextMenu:W,onCellKeyDown:B,onSelectedCellChange:q,onScroll:J,onColumnResize:Z,onColumnsReorder:Q,onFill:oe,onCellCopy:re,onCellPaste:le,enableVirtualization:ie,renderers:de,className:ce,style:ue,rowClass:xe,headerRowClass:me,direction:fe,role:we,"aria-label":ge,"aria-labelledby":he,"aria-description":Ce,"aria-describedby":pe,"aria-rowcount":be,"data-testid":Ie,"data-cy":Se}=t,je=U(),Te=we??"grid",Me=u??35,Ae=x??("number"==typeof Me?Me:35),He=m??("number"==typeof Me?Me:35),Ke=(null==de?void 0:de.renderRow)??(null==je?void 0:je.renderRow)??Ee,$e=(null==de?void 0:de.renderCell)??(null==je?void 0:je.renderCell)??se,We=(null==de?void 0:de.renderSortStatus)??(null==je?void 0:je.renderSortStatus)??ze,Ge=(null==de?void 0:de.renderCheckbox)??(null==je?void 0:je.renderCheckbox)??G,Be=(null==de?void 0:de.noRowsFallback)??(null==je?void 0:je.noRowsFallback),Ve=ie??!0,Ue=fe??"ltr",[qe,Ye]=o.useState(0),[_e,Xe]=o.useState(0),[Je,Ze]=o.useState((()=>f??new Map)),[Qe,eo]=o.useState(!1),[oo,no]=o.useState(!1),[to,ro]=o.useState(void 0),[lo,io]=o.useState(null),[so,ao]=o.useState(!1),[co,uo]=o.useState(-1),xo=null!=f&&null!=w&&!Qe,mo=xo?f:Je,fo=xo?e=>{Ze(e),w(e)}:Ze,wo=o.useCallback((e=>{var o;return(null==(o=mo.get(e.key))?void 0:o.width)??e.width}),[mo]),[go,ho,Co,po]=function(){const e=o.useRef(null),[t,r]=o.useState(1),[l,i]=o.useState(1),[s,d]=o.useState(0);return o.useLayoutEffect((()=>{const{ResizeObserver:o}=window;if(null==o)return;const{clientWidth:t,clientHeight:l,offsetWidth:s,offsetHeight:a}=e.current,{width:c,height:u}=e.current.getBoundingClientRect(),x=a-l,m=u-x;r(c-s+t),i(m),d(x);const f=new o((o=>{const t=o[0].contentBoxSize[0],{clientHeight:l,offsetHeight:s}=e.current;n.flushSync((()=>{r(t.inlineSize),i(t.blockSize),d(s-l)}))}));return f.observe(e.current),()=>{f.disconnect()}}),[]),[e,t,l,s]}(),{columns:vo,colSpanColumns:bo,lastFrozenColumnIndex:yo,headerRowsCount:Io,colOverscanStartIdx:So,colOverscanEndIdx:Ro,templateColumns:ko,layoutCssVars:jo,totalFrozenColumnWidth:Eo}=ee({rawColumns:l,defaultColumnOptions:z,getColumnWidth:wo,scrollLeft:_e,viewportWidth:ho,enableVirtualization:Ve}),Do=(null==s?void 0:s.length)??0,zo=(null==d?void 0:d.length)??0,To=Do+zo,Mo=Io+Do,No=Io-1,Fo=-Mo,Ao=Fo+No,Oo=i.length+zo-1,[Ho,Po]=o.useState((()=>({idx:-1,rowIdx:Fo-1,mode:"SELECT"}))),Lo=o.useRef(null),Ko="treegrid"===Te,$o=Io*Ae,Wo=To*He,Go=Co-$o-Wo,Bo=null!=g&&null!=k,{leftKey:Vo,rightKey:Uo}=I(Ue),qo=be??Io+i.length+To,Yo=o.useMemo((()=>({renderCheckbox:Ge,renderSortStatus:We,renderCell:$e})),[Ge,We,$e]),_o=o.useMemo((()=>{let e=!1,o=!1;if(null!=a&&null!=g&&g.size>0)for(const n of i)if(g.has(a(n))?e=!0:o=!0,e&&o)break;return{isRowSelected:e&&!o,isIndeterminate:e&&o}}),[i,g,a]),{rowOverscanStartIdx:Xo,rowOverscanEndIdx:Jo,totalRowHeight:Zo,gridTemplateRows:Qo,getRowTop:en,getRowHeight:on,findRowIdx:nn}=function({rows:e,rowHeight:n,clientHeight:t,scrollTop:r,enableVirtualization:l}){const{totalRowHeight:i,gridTemplateRows:s,getRowTop:d,getRowHeight:a,findRowIdx:c}=o.useMemo((()=>{if("number"==typeof n)return{totalRowHeight:n*e.length,gridTemplateRows:` repeat(${e.length}, ${n}px)`,getRowTop:e=>e*n,getRowHeight:()=>n,findRowIdx:e=>H(e/n)};let o=0,t="",r=null,l=0;const i=e.map(((i,s)=>{const d=n(i),a={top:o,height:d};return o+=d,null===r?(r=d,l=1):r===d?l++:(t+=l>1?`repeat(${l}, ${r}px) `:`${r}px `,r=d,l=1),s===e.length-1&&(t+=l>1?`repeat(${l}, ${r}px)`:`${r}px`),a})),s=o=>O(0,A(e.length-1,o));return{totalRowHeight:o,gridTemplateRows:t,getRowTop:e=>i[s(e)].top,getRowHeight:e=>i[s(e)].height,findRowIdx(e){let o=0,n=i.length-1;for(;o<=n;){const t=o+H((n-o)/2),r=i[t].top;if(r===e)return t;if(r<e?o=t+1:r>e&&(n=t-1),o>n)return n}return 0}}}),[n,e]);let u=0,x=e.length-1;if(l){const o=4,n=c(r),l=c(r+t);u=O(0,n-o),x=A(e.length-1,l+o)}return{rowOverscanStartIdx:u,rowOverscanEndIdx:x,totalRowHeight:i,gridTemplateRows:s,getRowTop:d,getRowHeight:a,findRowIdx:c}}({rows:i,rowHeight:Me,clientHeight:Go,scrollTop:qe,enableVirtualization:Ve}),tn=function({columns:e,colSpanColumns:n,rows:t,topSummaryRows:r,bottomSummaryRows:l,colOverscanStartIdx:i,colOverscanEndIdx:s,lastFrozenColumnIndex:d,rowOverscanStartIdx:a,rowOverscanEndIdx:c}){const u=o.useMemo((()=>{if(0===i)return 0;let e=i;const o=(o,n)=>void 0!==n&&o+n>i&&(e=o,!0);for(const i of n){const n=i.idx;if(n>=e)break;if(o(n,h(i,d,{type:"HEADER"})))break;for(let e=a;e<=c;e++){const r=t[e];if(o(n,h(i,d,{type:"ROW",row:r})))break}if(null!=r)for(const e of r)if(o(n,h(i,d,{type:"SUMMARY",row:e})))break;if(null!=l)for(const e of l)if(o(n,h(i,d,{type:"SUMMARY",row:e})))break}return e}),[a,c,t,r,l,i,d,n]);return o.useMemo((()=>{const o=[];for(let n=0;n<=s;n++){const t=e[n];n<u&&!t.frozen||o.push(t)}return o}),[u,s,e])}({columns:vo,colSpanColumns:bo,colOverscanStartIdx:So,colOverscanEndIdx:Ro,lastFrozenColumnIndex:yo,rowOverscanStartIdx:Xo,rowOverscanEndIdx:Jo,rows:i,topSummaryRows:s,bottomSummaryRows:d}),{gridTemplateColumns:rn,handleColumnResize:ln}=function(e,t,r,l,i,s,d,a,c){const[u,x]=o.useState(null),[m,f]=o.useState(null),[w,g]=o.useState(i),h=e.length===t.length,C=h&&i!==w,p=[...r],v=[];for(const{key:o,idx:n,width:y}of t){const e=s.get(o);o===(null==u?void 0:u.key)?(p[n]="max-content"===u.width?u.width:`${u.width}px`,v.push(o)):"string"!=typeof y||"resized"===(null==e?void 0:e.type)||!C&&!0!==(null==m?void 0:m.has(o))&&void 0!==e||(p[n]=y,v.push(o))}const b=p.join(" ");return o.useLayoutEffect((function(){var e,o;if(g(i),0===v.length)return;const n=new Map(s);let t=!1;for(const r of v){const o=ne(l,r);t||(t=o!==(null==(e=s.get(r))?void 0:e.width)),void 0===o?n.delete(r):n.set(r,{type:"measured",width:o})}if(null!==u){const e=u.key,r=null==(o=s.get(e))?void 0:o.width,i=ne(l,e);void 0!==i&&r!==i&&(t=!0,n.set(e,{type:"resized",width:i})),x(null)}t&&d(n)})),{gridTemplateColumns:b,handleColumnResize:function(e,o){var r;const{key:i}=e;if(n.flushSync((()=>{var e;if(h){const o=new Set;for(const{key:n,width:r}of t)i!==n&&"string"==typeof r&&"resized"!==(null==(e=s.get(n))?void 0:e.type)&&o.add(n);f(o)}x({key:i,width:o}),c("number"==typeof o)})),f(null),a){const n=null==(r=s.get(i))?void 0:r.width,t="number"==typeof o?o:ne(l,i);void 0!==t&&t!==n&&a(e,t)}}}}(vo,tn,ko,go,ho,mo,fo,Z,eo),sn=Ko?-1:0,dn=vo.length-1,an=Hn(Ho),cn=Pn(Ho),un=Ae+Zo+Wo+po,xn=te(ln),mn=te((function(){Qe&&(null==w||w(mo),eo(!1))})),fn=te(Q),wn=te(D),gn=te(T),hn=te(F),Cn=te($),pn=te(W),vn=te((function(e){if(!k)return;K(a);const o=new Set(g);for(const n of i){if(!0===(null==C?void 0:C(n)))continue;const t=a(n);e.checked?o.add(t):o.delete(t)}k(o)})),bn=te(kn),yn=te(jn),In=te(Kn),Sn=te((function({idx:e,rowIdx:o}){Kn({rowIdx:Fo+o-1,idx:e})})),Rn=o.useCallback(((e=!0)=>{const o=Pe(go.current);null!==o&&(e&&p(o),o.focus({preventScroll:!0}))}),[go]);function kn(e){if(!k)return;K(a);const{row:o,checked:n,isShiftClick:t}=e;if(!0===(null==C?void 0:C(o)))return;const r=new Set(g),l=a(o),s=i.indexOf(o);if(uo(s),n?r.add(l):r.delete(l),t&&-1!==co&&co!==s&&co<i.length){const e=P(s-co);for(let o=co+e;o!==s;o+=e){const e=i[o];!0!==(null==C?void 0:C(e))&&(n?r.add(a(e)):r.delete(a(e)))}}k(r)}function jn(e,o,n){if("function"!=typeof c)return;if(n===i[o])return;const t=i.with(o,n);c(t,{indexes:[o],column:e})}function En(){"EDIT"===Ho.mode&&jn(vo[Ho.idx],Ho.rowIdx,Ho.row)}function Dn(e){e.preventDefault(),"mouse"===e.pointerType&&1!==e.buttons||(no(!0),e.currentTarget.setPointerCapture(e.pointerId))}function zn(e){const o=go.current,n=qe-($o+Do*He)+e.clientY-o.getBoundingClientRect().top,t=nn(n);ro(t);const r=Mo+t+1;p(o.querySelector(`:scope > [aria-rowindex="${r}"] > [aria-colindex="${Ho.idx+1}"]`))}function Tn(){if(no(!1),void 0===to)return;const{rowIdx:e}=Ho,[o,n]=e<to?[e+1,to+1]:[to,e];Fn(o,n),ro(void 0)}function Mn(){Rn(!1)}function Nn(e){e.stopPropagation(),Fn(Ho.rowIdx+1,i.length)}function Fn(e,o){if(null==c)return;const{rowIdx:n,idx:t}=Ho,r=vo[t],l=i[n],s=[...i],d=[];for(let a=e;a<o;a++)if(Ln({rowIdx:a,idx:t})){const e=oe({columnKey:r.key,sourceRow:l,targetRow:i[a]});e!==i[a]&&(s[a]=e,d.push(a))}d.length>0&&c(s,{indexes:d,column:r})}function An(e){return e>=sn&&e<=dn}function On(e){return e>=0&&e<i.length}function Hn({idx:e,rowIdx:o}){return o>=Fo&&o<=Oo&&An(e)}function Pn({idx:e,rowIdx:o}){return On(o)&&An(e)}function Ln(e){return function({idx:e,rowIdx:o}){return On(o)&&e>=0&&e<=dn}(e)&&function({selectedPosition:e,columns:o,rows:n}){return R(o[e.idx],n[e.rowIdx])}({columns:vo,rows:i,selectedPosition:e})}function Kn(e,o){if(!Hn(e))return;En();const n=Le(Ho,e);if((null==o?void 0:o.enableEditor)&&Ln(e)){const o=i[e.rowIdx];Po({...e,mode:"EDIT",row:o,originalRow:o})}else n?p(Pe(go.current)):(ao(!0===(null==o?void 0:o.shouldFocusCell)),Po({...e,mode:"SELECT"}));q&&!n&&q({rowIdx:e.rowIdx,row:On(e.rowIdx)?i[e.rowIdx]:void 0,column:vo[e.idx]})}function $n(e){const{key:o,shiftKey:n}=e;let t="NONE";if("Tab"===o){if(function({maxColIdx:e,minRowIdx:o,maxRowIdx:n,selectedPosition:{rowIdx:t,idx:r},shiftKey:l}){return l?0===r&&t===o:r===e&&t===n}({shiftKey:n,maxColIdx:dn,minRowIdx:Fo,maxRowIdx:Oo,selectedPosition:Ho}))return void En();t="CHANGE_ROW"}e.preventDefault();const r=function(e,o,n){const{idx:t,rowIdx:r}=Ho,l=an&&-1===t;switch(e){case"ArrowUp":return{idx:t,rowIdx:r-1};case"ArrowDown":return{idx:t,rowIdx:r+1};case Vo:return{idx:t-1,rowIdx:r};case Uo:return{idx:t+1,rowIdx:r};case"Tab":return{idx:t+(n?-1:1),rowIdx:r};case"Home":return l?{idx:t,rowIdx:Fo}:{idx:0,rowIdx:o?Fo:r};case"End":return l?{idx:t,rowIdx:Oo}:{idx:dn,rowIdx:o?Oo:r};case"PageUp":{if(Ho.rowIdx===Fo)return Ho;const e=en(r)+on(r)-Go;return{idx:t,rowIdx:e>0?nn(e):0}}case"PageDown":{if(Ho.rowIdx>=i.length)return Ho;const e=en(r)+Go;return{idx:t,rowIdx:e<Zo?nn(e):i.length-1}}default:return Ho}}(o,y(e),n);if(Le(Ho,r))return;Kn(j({moveUp:"ArrowUp"===o,moveNext:o===Uo||"Tab"===o&&!n,columns:vo,colSpanColumns:bo,rows:i,topSummaryRows:s,bottomSummaryRows:d,minRowIdx:Fo,mainHeaderRowIdx:Ao,maxRowIdx:Oo,lastFrozenColumnIndex:yo,cellNavigationMode:t,currentPosition:Ho,nextPosition:r,isCellWithinBounds:Hn}),{shouldFocusCell:!0})}function Wn(e){if(void 0===to)return;const{rowIdx:o}=Ho;return(o<to?o<e&&e<=to:o>e&&e>=to)?Ho.idx:void 0}function Gn(o){var t;if(!Pn(Ho)||Ho.rowIdx!==o||"SELECT"===Ho.mode)return;const{idx:r,row:l}=Ho,s=vo[r],d=h(s,yo,{type:"ROW",row:l}),a=(null==(t=s.editorOptions)?void 0:t.closeOnExternalRowChange)??!0,c=e=>{ao(e),Po((({idx:e,rowIdx:o})=>({idx:e,rowIdx:o,mode:"SELECT"})))};return a&&i[Ho.rowIdx]!==Ho.originalRow&&c(!1),e.jsx(ae,{column:s,colSpan:d,row:l,rowIdx:o,onRowChange:(e,o,t)=>{o?n.flushSync((()=>{jn(s,Ho.rowIdx,e),c(t)})):Po((o=>({...o,row:e})))},closeEditor:c,onKeyDown:B,navigate:$n},s.key)}function Bn(e){const o=-1===Ho.idx?void 0:vo[Ho.idx];return void 0===o||Ho.rowIdx!==e||tn.includes(o)?tn:Ho.idx>Ro?[...tn,o]:[...tn.slice(0,yo+1),o,...tn.slice(yo+1)]}o.useLayoutEffect((()=>{so&&(null!==Lo.current&&-1===Ho.idx?(Lo.current.focus({preventScroll:!0}),p(Lo.current)):Rn(),ao(!1))}),[so,Rn,Ho.idx]),o.useImperativeHandle(r,(()=>({element:go.current,scrollToCell({idx:e,rowIdx:o}){const n=void 0!==e&&e>yo&&e<vo.length?e:void 0,t=void 0!==o&&On(o)?o:void 0;void 0===n&&void 0===t||io({idx:n,rowIdx:t})},selectCell:Kn}))),(Ho.idx>dn||Ho.rowIdx>Oo)&&(Po({idx:-1,rowIdx:Fo-1,mode:"SELECT"}),ro(void 0)),xo&&Je!==f&&Ze(f);let Vn=`repeat(${Io}, ${Ae}px)`;Do>0&&(Vn+=` repeat(${Do}, ${He}px)`),i.length>0&&(Vn+=Qo),zo>0&&(Vn+=` repeat(${zo}, ${He}px)`);const Un=-1===Ho.idx&&Ho.rowIdx!==Fo-1;return e.jsxs("div",{role:Te,"aria-label":ge,"aria-labelledby":he,"aria-description":Ce,"aria-describedby":pe,"aria-multiselectable":!!Bo||void 0,"aria-colcount":vo.length,"aria-rowcount":qo,tabIndex:-1,className:N("rdg rnvodz57-0-0-beta-58",{[Ne]:oo},ce),style:{...ue,scrollPaddingInlineStart:Ho.idx>yo||void 0!==(null==lo?void 0:lo.idx)?`${Eo}px`:void 0,scrollPaddingBlock:On(Ho.rowIdx)||void 0!==(null==lo?void 0:lo.rowIdx)?`${$o+Do*He}px ${zo*He}px`:void 0,gridTemplateColumns:rn,gridTemplateRows:Vn,"--rdg-header-row-height":`${Ae}px`,"--rdg-scroll-height":`${un}px`,...jo},dir:Ue,ref:go,onScroll:function(e){const{scrollTop:o,scrollLeft:t}=e.currentTarget;n.flushSync((()=>{Ye(o),Xe(L(t))})),null==J||J(e)},onKeyDown:function(e){const{idx:o,rowIdx:n,mode:t}=Ho;if("EDIT"===t)return;if(B&&On(n)){const t=i[n],r=v(e);if(B({mode:"SELECT",row:t,column:vo[o],rowIdx:n,selectCell:Kn},r),r.isGridDefaultPrevented())return}if(!(e.target instanceof Element))return;const r=null!==e.target.closest(".rdg-cell"),l=Ko&&e.target===Lo.current;if(r||l)switch(e.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"Tab":case"Home":case"End":case"PageUp":case"PageDown":$n(e);break;default:!function(e){if(!cn)return;const o=i[Ho.rowIdx],{key:n,shiftKey:t}=e;if(Bo&&t&&" "===n){K(a);const n=a(o);return kn({row:o,checked:!g.has(n),isShiftClick:!1}),void e.preventDefault()}Ln(Ho)&&function(e,o){return(!y(e)||86===e.keyCode&&!o)&&!b.has(e.key)}(e,null!=le)&&Po((({idx:e,rowIdx:n})=>({idx:e,rowIdx:n,mode:"EDIT",row:o,originalRow:o})))}(e)}},onCopy:function(e){if(!cn)return;const{idx:o,rowIdx:n}=Ho;null==re||re({row:i[n],column:vo[o]},e)},onPaste:function(e){if(!le||!c||!Ln(Ho))return;const{idx:o,rowIdx:n}=Ho,t=vo[o];jn(t,n,le({row:i[n],column:t},e))},"data-testid":Ie,"data-cy":Se,children:[e.jsxs(V,{value:Yo,children:[e.jsx(X,{value:vn,children:e.jsxs(_,{value:_o,children:[Array.from({length:No},((o,n)=>e.jsx(ke,{rowIdx:n+1,level:-No+n,columns:Bn(Fo+n),selectedCellIdx:Ho.rowIdx===Fo+n?Ho.idx:void 0,selectCell:Sn},n))),e.jsx(Re,{headerRowClass:me,rowIdx:Io,columns:Bn(Ao),onColumnResize:xn,onColumnResizeEnd:mn,onColumnsReorder:fn,sortColumns:E,onSortColumnsChange:wn,lastFrozenColumnIndex:yo,selectedCellIdx:Ho.rowIdx===Ao?Ho.idx:void 0,selectCell:Sn,shouldFocusGrid:!an,direction:Ue})]})}),0===i.length&&Be?Be:e.jsxs(e.Fragment,{children:[null==s?void 0:s.map(((o,n)=>{const t=Io+1+n,r=Ao+1+n,l=Ho.rowIdx===r,i=$o+He*n;return e.jsx(Oe,{"aria-rowindex":t,rowIdx:r,gridRowStart:t,row:o,top:i,bottom:void 0,viewportColumns:Bn(r),lastFrozenColumnIndex:yo,selectedCellIdx:l?Ho.idx:void 0,isTop:!0,selectCell:In},n)})),e.jsx(Y,{value:bn,children:function(){const e=[],{idx:o,rowIdx:n}=Ho,t=cn&&n>Jo?Jo+1:Jo;for(let r=cn&&n<Xo?Xo-1:Xo;r<=t;r++){const t=r===Xo-1||r===Jo+1,l=t?n:r;let s=tn;const d=-1===o?void 0:vo[o];void 0!==d&&(s=t?[d]:Bn(l));const c=i[l],u=Mo+l+1;let x=l,m=!1;"function"==typeof a&&(x=a(c),m=(null==g?void 0:g.has(x))??!1),e.push(Ke(x,{"aria-rowindex":Mo+l+1,"aria-selected":Bo?m:void 0,rowIdx:l,row:c,viewportColumns:s,isRowSelectionDisabled:(null==C?void 0:C(c))??!1,isRowSelected:m,onCellMouseDown:gn,onCellClick:hn,onCellDoubleClick:Cn,onCellContextMenu:pn,rowClass:xe,gridRowStart:u,selectedCellIdx:n===l?o:void 0,draggedOverCellIdx:Wn(l),lastFrozenColumnIndex:yo,onRowChange:yn,selectCell:In,selectedCellEditor:Gn(l)}))}return e}()}),null==d?void 0:d.map(((o,n)=>{const t=Mo+i.length+n+1,r=i.length+n,l=Ho.rowIdx===r,s=Go>Zo?Co-He*(d.length-n):void 0,a=void 0===s?He*(d.length-1-n):void 0;return e.jsx(Oe,{"aria-rowindex":qo-zo+n+1,rowIdx:r,gridRowStart:t,row:o,top:s,bottom:a,viewportColumns:Bn(r),lastFrozenColumnIndex:yo,selectedCellIdx:l?Ho.idx:void 0,isTop:!1,selectCell:In},n)}))]})]}),function(){var o;if(null==oe||"EDIT"===Ho.mode||!Pn(Ho))return;const{idx:n,rowIdx:t}=Ho,r=vo[n];if(null==r.renderEditCell||!1===r.editable)return;const l=t===Oo,s=wo(r),d=(null==(o=r.colSpan)?void 0:o.call(r,{type:"ROW",row:i[t]}))??1,{insetInlineStart:a,...c}=M(r,d),u="calc(var(--rdg-drag-handle-size) * -0.5 + 1px)",x=r.idx+d-1===dn,m={...c,gridRowStart:Mo+t+1,marginInlineEnd:x?void 0:u,marginBlockEnd:l?void 0:u,insetInlineStart:a?`calc(${a} + ${s}px + var(--rdg-drag-handle-size) * -0.5 - 1px)`:void 0};return e.jsx("div",{style:m,className:N("rdg-cell-drag-handle ch2wcw87-0-0-beta-58",r.frozen&&"c1wvphzh7-0-0-beta-58"),onPointerDown:Dn,onPointerMove:oo?zn:void 0,onLostPointerCapture:oo?Tn:void 0,onClick:Mn,onDoubleClick:Nn})}(),S(tn),Ko&&e.jsx("div",{ref:Lo,tabIndex:Un?0:-1,className:N("f1lsfrzw7-0-0-beta-58",{[Fe]:!On(Ho.rowIdx),[ve]:Un,[ye]:Un&&-1!==yo}),style:{gridRowStart:Ho.rowIdx+Mo+1}}),null!==lo&&e.jsx(De,{scrollToPosition:lo,setScrollToCellPosition:io,gridRef:go})]})}function Pe(e){return e.querySelector(':scope > [role="row"] > [tabindex="0"]')}function Le(e,o){return e.idx===o.idx&&e.rowIdx===o.rowIdx}var Ke=o.memo((function({id:o,groupKey:n,childRows:t,isExpanded:r,isCellSelected:l,column:i,row:s,groupColumnIndex:d,isGroupByColumn:a,toggleGroup:c}){var u;const{tabIndex:x,childTabIndex:m,onFocus:f}=re(l);function w(){c(o)}const g=a&&d===i.idx;return e.jsx("div",{role:"gridcell","aria-colindex":i.idx+1,"aria-selected":l,tabIndex:x,className:F(i),style:{...M(i),cursor:g?"pointer":"default"},onMouseDown:e=>{e.preventDefault()},onClick:g?w:void 0,onFocus:f,children:(!a||g)&&(null==(u=i.renderGroupCell)?void 0:u.call(i,{groupKey:n,childRows:t,column:i,row:s,isExpanded:r,tabIndex:m,toggleGroup:w}))},i.key)}));o.memo((function({className:n,row:t,rowIdx:r,viewportColumns:l,selectedCellIdx:i,isRowSelected:s,selectCell:d,gridRowStart:a,groupBy:c,toggleGroup:u,isRowSelectionDisabled:x,...m}){const f=l[0].key===J?t.level+1:t.level,w=o.useMemo((()=>({isRowSelectionDisabled:!1,isRowSelected:s})),[s]);return e.jsx(q,{value:w,children:e.jsx("div",{role:"row","aria-level":t.level+1,"aria-setsize":t.setSize,"aria-posinset":t.posInSet+1,"aria-expanded":t.isExpanded,className:N(pe,"rdg-group-row g1yxluv37-0-0-beta-58","rdg-row-"+(r%2==0?"even":"odd"),-1===i&&be,n),onMouseDown:function(){d({rowIdx:r,idx:-1},{shouldFocusCell:!0})},style:z(a),...m,children:l.map((o=>e.jsx(Ke,{id:t.id,groupKey:t.groupKey,childRows:t.childRows,isExpanded:t.isExpanded,isCellSelected:i===o.idx,column:o,row:t,groupColumnIndex:f,toggleGroup:u,isGroupByColumn:c.includes(o.key)},o.key)))})})}));function $e(e){null==e||e.focus(),null==e||e.select()}function We({row:o,column:n,onRowChange:t,onClose:r}){return e.jsx("input",{className:"rdg-text-editor t7vyx3i7-0-0-beta-58",ref:$e,value:o[n.key],onChange:e=>t({...o,[n.key]:e.target.value}),onBlur:()=>r(!0,!1)})}function Ge({type:n,selection:r,columns:l}){const{showDialog:s}=d(),c=o.useMemo((()=>{const o=t(n,r),i=Array.from(l.keys()),s=JSON.stringify({[o]:i}),d=f({command:["sheet_custom","import_json"],args:{sheet:"",json:s}});return e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"font-semibold mb-1",children:"Option 1: Run import in Discord"}),e.jsx(a,{text:d}),e.jsx("hr",{className:"my-4"}),e.jsx("p",{className:"font-semibold mb-1",children:"Option 2: Manually set up Google Sheets"}),e.jsxs("ul",{className:"list-decimal list-inside",children:[e.jsxs("li",{className:"bg-accent/20 mb-1 p-1 border-primary/5 border-2 rounded",children:["Set the google sheet tab name as the selection:",e.jsx("br",{}),e.jsx(a,{text:o})]}),e.jsxs("li",{className:"bg-accent/20 mb-1 p-1 border-primary/5 border-2 rounded",children:["Set the columns as the first row of cells in the sheet tab:",e.jsx("br",{}),e.jsx(a,{text:i.join("\t")})]}),e.jsxs("li",{className:"bg-accent/20 mb-1 p-1 border-primary/5 border-2 rounded",children:["Run the discord command, with the sheet url, to autofill the remaining cells:",e.jsx("br",{}),e.jsx(a,{text:"/sheet_custom auto"})]})]})]})}),[n,r,l]),u=o.useCallback((()=>{s("Creating custom google sheets",c)}),[s,c]),x=o.useMemo((()=>e.jsxs(e.Fragment,{children:[e.jsx(w,{name:"Sheet",className:"h-2 w-2"})," To Google Sheets"]})),[]);return e.jsx(i,{variant:"outline",size:"sm",className:"me-1",onClick:u,children:x})}function Be({data:n,columns:t}){const{showDialog:l}=d(),s=o.useCallback((()=>{l(...r(n,t,!1,g.CSV))}),[l,n,t]),a=o.useCallback((()=>{l(...r(n,t,!0,g.CSV))}),[l,n,t]),f=o.useCallback((()=>{l(...r(n,t,!1,g.TSV))}),[l,n,t]),h=o.useCallback((()=>{l(...r(n,t,!0,g.TSV))}),[l,n,t]),C=o.useMemo((()=>e.jsxs("kbd",{className:"bg-accent rounded flex items-center space-x-1",children:[e.jsx(w,{name:"Download",className:"h-4 w-4"})," ",e.jsx("span",{children:","})]})),[]),p=o.useMemo((()=>e.jsxs("kbd",{className:"bg-accent rounded flex items-center space-x-1",children:[e.jsx(w,{name:"ClipboardIcon",className:"h-4 w-4"})," ",e.jsx("span",{children:","})]})),[]),v=o.useMemo((()=>e.jsxs("kbd",{className:"bg-accent rounded flex items-center space-x-1",children:[e.jsx(w,{name:"Download",className:"h-4 w-3"}),e.jsx(w,{name:"ArrowRightToLine",className:"h-4 w-3"})]})),[]),b=o.useMemo((()=>e.jsxs("kbd",{className:"bg-accent rounded flex items-center space-x-1",children:[e.jsx(w,{name:"ClipboardIcon",className:"h-4 w-3"}),e.jsx(w,{name:"ArrowRightToLine",className:"h-4 w-3"})]})),[]),y=o.useMemo((()=>"Export"),[]);return e.jsx("span",{className:"ms-1",children:e.jsxs(c,{children:[e.jsx(u,{asChild:!0,children:e.jsx(i,{variant:"outline",size:"sm",className:"me-1",children:y})}),e.jsxs(x,{children:[e.jsxs(m,{className:"cursor-pointer",onClick:s,children:[C," Download CSV"]}),e.jsxs(m,{className:"cursor-pointer",onClick:a,children:[p," Copy CSV"]}),e.jsxs(m,{className:"cursor-pointer",onClick:f,children:[v," Download TSV"]}),e.jsxs(m,{className:"cursor-pointer",onClick:h,children:[b," Copy TSV"]})]})]})})}function Ve({table:n,columnsInfo:t,data:r,sort:i,searchSet:d,visibleColumns:a,setColumns:c,setData:u,setSort:x,showExports:m}){const f=o.useMemo((()=>i?Array.isArray(i)?i:[i]:null),[i]),w=o.useMemo((()=>{const e=[];return e.push({key:"index",name:"#",width:0===t.length?void 0:50,sortable:!1,cellClass:s("ps-1",0===t.length?"w-full":void 0),headerCellClass:"ps-1 text-gray-900 dark:text-gray-200 bg-gray-100 dark:bg-gray-600",renderCell:e=>{const o=e.rowIdx+1;return String(o)}}),t.forEach(((o,n)=>{var t;const r=o.index,l=null==(t=o.render)?void 0:t.display;e.push({key:String(r),name:o.title,sortable:!0,resizable:!0,draggable:!0,cellClass:"px-1",headerCellClass:"px-1 text-gray-900 dark:text-gray-200 bg-gray-100 dark:bg-gray-600 text-xs",renderCell:l?e=>{const o=e.row[r];return l(o)}:e=>{const o=e.row[r];return String(o)},renderEditCell:We,editable:!0})})),e}),[t]),g=o.useMemo((()=>e.jsx("div",{className:"flex items-center justify-center h-full text-xl text-center bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-200 w-full hover:bg-gray-100 dark:hover:bg-gray-700 cursor-default",children:"No data to display"})),[]),h=o.useCallback(((e,o)=>{if("index"===e||"index"===o)return;const n=Number(e),r=Number(o),l=t.findIndex((e=>e.index===n)),i=t.findIndex((e=>e.index===r));if(-1===l||-1===i)return;const s=[...t],d=s[l],a=s[i];s[l]=a,s[i]=d,c(s)}),[t,c]),[C,p]=o.useState((()=>f?f.map((e=>({columnKey:String(e.idx),direction:"asc"===e.dir?"ASC":"DESC"}))):void 0)),v=o.useCallback((e=>{if(e&&e.length>0){const o=e.map((e=>({idx:Number(e.columnKey),dir:"ASC"===e.direction?"asc":"desc"}))),n=l(r,e,t);n&&(c(n.columns),u(n.data),x(o),p(e))}else p(void 0),x(void 0)}),[r,t,c,u,x,p]),b=o.useMemo((()=>m&&e.jsx(Be,{data:r,columns:t})),[m,r,t]),y=o.useMemo((()=>s("text-gray-900 dark:text-gray-200 w-full hover:bg-black/20 dark:hover:bg-white/20","bg-black/5 dark:bg-white/5")),[]),I=o.useMemo((()=>s("text-gray-900 dark:text-gray-200 w-full hover:bg-black/20 dark:hover:bg-white/20","bg-transparent")),[]),S=o.useCallback(((e,o)=>{const n=d.has(o);return s(o%2==0?y:I,n?"bg-blue-100 dark:bg-blue-700":"")}),[d,y,I]),R=o.useMemo((()=>e.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-md overflow-hidden text-xs",children:e.jsx(He,{className:"bg-transparent text-xs",style:{height:"70vh",maxHeight:"70vh",flex:"1 1 auto"},ref:n,columns:w,rows:r,sortColumns:C,onSortColumnsChange:v,onColumnsReorder:h,rowClass:S,rowHeight:24,renderers:{noRowsFallback:g},enableVirtualization:!0,onRowsChange:u},t.length)})),[t,r,C,v,h,n,w,g,S,u]);return e.jsxs(e.Fragment,{children:[b,R]})}export{Ve as D,Ge as G};
