import{r as e,j as r,u as s}from"./index-C3E2-SUH.js";import{b as n,S as t}from"./queries-BuM6HYrb.js";import{u as o}from"./useQuery-Zg5Nvbp7.js";const u=e.createContext(void 0),i=({children:i})=>{const a=(()=>{const[r,u]=e.useState(null),[i,a]=e.useState(null),l=s(),{data:d,error:c,refetch:m}=o(n(t.endpoint,{}));return{session:r||(null==d?void 0:d.data)||null,error:null!==i?i:c instanceof Error?c.message:null,setSession:e=>{u(e)},setError:e=>{a(e)},refetchSession:e.useCallback((()=>{l.removeQueries({queryKey:[t.endpoint.name]}),m()}),[l,m])}})();return r.jsx(r.Fragment,{children:r.jsx(u.Provider,{value:a,children:i})})},a=()=>{const r=e.useContext(u);if(!r)throw new Error("useSession must be used within a SessionProvider");return r};export{i as S,a as u};
