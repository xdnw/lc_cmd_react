import{r as u,c as b,j as x,u as q}from"./index-Ci-lVsFi.js";import{b as Q,S as h}from"./queries-l4D1Q0nU.js";import{u as w}from"./useQuery-DQk_Wp3M.js";const v=u.createContext(void 0),P=()=>{const e=b.c(10),[s,r]=u.useState(null),[t,o]=u.useState(null),m=q();let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=Q(h.endpoint,{}),e[0]=n):n=e[0];const{data:_,error:E,refetch:S}=w(n),f=s||_?.data||null,p=t!==null?t:E instanceof Error?E.message:null;let i;e[1]===Symbol.for("react.memo_cache_sentinel")?(i=d=>{r(d)},e[1]=i):i=e[1];const C=i;let l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=d=>{o(d)},e[2]=l):l=e[2];const j=l;let c;e[3]!==m||e[4]!==S?(c=()=>{m.removeQueries({queryKey:[h.endpoint.name]}),S()},e[3]=m,e[4]=S,e[5]=c):c=e[5];const y=c;let a;return e[6]!==p||e[7]!==y||e[8]!==f?(a={session:f,error:p,setSession:C,setError:j,refetchSession:y},e[6]=p,e[7]=y,e[8]=f,e[9]=a):a=e[9],a},O=e=>{const s=b.c(3),{children:r}=e,t=P();let o;return s[0]!==r||s[1]!==t?(o=x.jsx(x.Fragment,{children:x.jsx(v.Provider,{value:t,children:r})}),s[0]=r,s[1]=t,s[2]=o):o=s[2],o},$=()=>{const e=u.useContext(v);if(!e)throw new Error("useSession must be used within a SessionProvider");return e};export{O as S,$ as u};
