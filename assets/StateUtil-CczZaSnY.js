import{R as t,r as e}from"./index-Bs_rCQt5.js";import{d as u}from"./button-BKq8Oatj.js";const n=t=>{let e;const u=new Set,n=(t,n)=>{const s="function"==typeof t?t(e):t;if(!Object.is(s,e)){const t=e;e=(null!=n?n:"object"!=typeof s||null===s)?s:Object.assign({},e,s),u.forEach((u=>u(e,t)))}},s=()=>e,o={setState:n,getState:s,getInitialState:()=>c,subscribe:t=>(u.add(t),()=>u.delete(t))},c=e=t(n,s,o);return o},s=t=>t;const o=e=>{const u=(t=>t?n(t):n)(e),o=e=>function(e,u=s){const n=t.useSyncExternalStore(e.subscribe,t.useCallback((()=>u(e.getState())),[e,u]),t.useCallback((()=>u(e.getInitialState())),[e,u]));return t.useDebugValue(n),n}(u,e);return Object.assign(o,u),o},c=t=>t?o(t):o,r=t=>(e,u,n)=>{const s=n.subscribe;n.subscribe=(t,e,u)=>{let o=t;if(e){const s=(null==u?void 0:u.equalityFn)||Object.is;let c=t(n.getState());o=u=>{const n=t(u);if(!s(c,n)){const t=c;e(c=n,t)}},(null==u?void 0:u.fireImmediately)&&e(c,c)}return s(o)};return t(e,u,n)};function a(t){const[n,s]=e.useState(t);return[n,e.useCallback((t=>{s((e=>{const n="function"==typeof t?t(e):t;return u(e,n)?e:n}))}),[])]}function i(t){const[n,s]=e.useState(t),[o,c]=e.useState(t);return e.useEffect((()=>{u(t,o)||(s(t),c(t))}),[t,o]),[n,s]}function l(t,n){const[s,o]=e.useState(n(t)),[c,r]=e.useState(t);return e.useEffect((()=>{u(t,c)||(o(n(t)),r(t))}),[t,c,n]),[s,o]}function f(){return c()(r((t=>({output:{},setOutput:(e,u)=>t((t=>{const n={...t.output};return u?n[e]=u:delete n[e],{output:n}}))}))))}function b(t){return c()(r((e=>({output:{...t},setOutput:(t,u)=>e((e=>{const n={...e.output};return u?n[t]=u:delete n[t],{output:n}}))}))))}export{a,f as b,b as c,l as d,i as u};
