import{COMMANDS as C}from"./command-meta-r_ruCnhz.js";function X(s){let t=2166136261;for(let e=0;e<s.length;e++)t^=s.charCodeAt(e),t=Math.imul(t,16777619);return t>>>0}const z={CSV:{delimiter:",",ext:"csv",mime:"text/csv"},TSV:{delimiter:"	",ext:"csv",mime:"text/tab-separated-values"}};function Z(s,t,e){const n=(t?"":"sep="+e.delimiter+`
`)+s.map(r=>r.join(e.delimiter)).join(`
`);if(t)return navigator.clipboard.writeText(n).then(()=>{}).catch(r=>{}),["Copied to clipboard","The data for the currently selected columns has been copied to your clipboard."];{const r=new Blob([n],{type:e.mime+";charset=utf-8;"}),i=document.createElement("a"),a=URL.createObjectURL(r);return i.setAttribute("href",a),i.setAttribute("download","data."+e.ext),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i),["Download starting","The data for the currently selected columns should begin downloading. If the download does not start, please check your browser settings, or try the clipboard button instead."]}}function tt(s){switch(s){case"SI_UNIT":return x;case"PERCENTAGE_ONE":return t=>(t*100).toFixed(2)+"%";case"PERCENTAGE_100":return t=>t.toFixed(2)+"%";case"DECIMAL_ROUNDED":return F}}function et(s){return s==="TURN_TO_DATE"||s==="DAYS_TO_DATE"||s==="MILLIS_TO_DATE"||s==="SECONDS_TO_DATE"}function st(s){switch(s){case"TURN_TO_DATE":return t=>t*2*60*60*1e3;case"DAYS_TO_DATE":return t=>t*24*60*60*1e3;case"MILLIS_TO_DATE":return t=>t;case"SECONDS_TO_DATE":return t=>t*1e3;default:return t=>t}}function nt(s){switch(s){case"NUMERIC":return t=>t.toString();case"DECIMAL_ROUNDED":return F;case"SI_UNIT":return x;case"TURN_TO_DATE":return N;case"DAYS_TO_DATE":return q;case"MILLIS_TO_DATE":return S;case"SECONDS_TO_DATE":return t=>S(t*1e3)}}function S(s){if(s==null||s==-1)return"N/A";const e=new Date(s).toISOString().slice(0,16).replace("T"," ");return e.endsWith("00:00")?e.slice(0,10):e}const v=12;function q(s){return N(s*v)}function N(s){if(s==null||s===-1||!Number.isFinite(s))return"N/A";const t=s/v*24*60*60*1e3;if(!Number.isFinite(t))return"N/A";const e=new Date(t);if(isNaN(e.getTime()))return"N/A";const n=new Date().getFullYear(),r=e.toISOString().slice(0,16).replace("T"," "),i=e.getFullYear(),a=r.slice(11,16),l=r.slice(5,10);return i===n?`${l}-${i.toString().slice(-2)}${a!=="00:00"?" "+a:""}`:r.slice(0,10)+(a!=="00:00"?" "+a:"")}function R(s,t){return L(s,(e,n)=>e.charAt(n)===t?[1,0]:null,Number.MAX_SAFE_INTEGER).map(e=>e.content)}function F(s){const t=(""+(s<0?-s:s)).split("."),e=t[0];let n,r=n=e.length,i="";for(;r--;)i=(r===0||(n-r)%3?"":",")+e.charAt(r)+i;return(s<0?"-":"")+i+(t[1]?"."+(t[1].length>2?t[1].substring(0,2):t[1]):"")}const b=[{value:1e18,symbol:"E"},{value:1e15,symbol:"P"},{value:1e12,symbol:"T"},{value:1e9,symbol:"B"},{value:1e6,symbol:"M"},{value:1e3,symbol:"k"}];function rt(s,t){const n=(Date.now()-s)/1e3;return n===0?"just now":n>0?D(n,t)+" ago":"in "+D(-n,t)}function D(s,t){const e=[{label:"y",value:31536e3},{label:"w",value:604800},{label:"d",value:86400},{label:"h",value:3600},{label:"m",value:60},{label:"s",value:1}];let n="";for(const r of e){const i=Math.floor(s/r.value);if(i>0&&(n+=i+""+r.label,s-=i*r.value),n.length>=t*2)break}return n}function x(s){if(s===void 0)return s;const t=s<0;s=Math.abs(s);for(let n=0;n<b.length;n++)if(s>=b[n].value){const r=s/b[n].value,i=(r%1===0?r.toString():r.toFixed(2))+b[n].symbol;return t?"-"+i:i}const e=s%1===0?s.toString():s.toFixed(2);return t?"-"+e:e}function L(s,t,e){const n=[];let r=0,i=0,a=!1,l=null,c="",u=0;for(let h=0;h<s.length;h++){let d=s.charAt(h);d==="“"&&(d="”");const g=h===s.length-1;switch(d){case"[":case"(":case"{":i++;break;case"}":case")":case"]":i--;break}if(!(!g&&i>0)){if(g){let m;a?m={delimiter:c,offset:1,content:s.substring(r+1,s.length-1),type:u}:m={delimiter:c,offset:0,content:s.substring(r),type:u},n.push(m);continue}if(A(d)&&(!l||A(l)&&A(d)&&d===l)&&(a=!a,l=a?d:null),!a&&t){const m=t(s,h);if(m!==null){let f=s.substring(r,h),E=0;if(f){switch(f.charAt(0)){case"'":case'"':case"“":case"”":f=f.substring(1,f.length-1),E++}f.trim()&&(n.push({delimiter:c,offset:E,content:f,type:m[1]}),c=s.substring(h,h+m[0]),u=m[1])}r=h+m[0],h=r-1,--e<=1&&(t=null)}}}}return n}function A(s){return["'",'"',"“","”"].includes(s)}function k(s){return[...s].reduce((t,e)=>(t[e]=(t[e]||0)+1,t),{})}function it(s,t,e,n){const r=n.name.toLowerCase();if(r.includes(s))return r.startsWith(s)?5:4;let i=0;for(let c=0;c<r.length;c++)if(r[c]===s[i]&&(i++,i===s.length))return 2;const a=n.getCharFrequency();let l=0;for(const[c,u]of Object.entries(t)){const h=a[c]||0;if(h>=u)l+=Math.min(u,h);else{const d=n.getWordFrequency();for(const g of e)if(!d.has(g))return 0;return 3}}return l/s.length}var I=Object.defineProperty,B=(s,t,e)=>t in s?I(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,o=(s,t,e)=>B(s,typeof t!="symbol"?t+"":t,e);class _{constructor(t,e){o(this,"name"),o(this,"arg"),o(this,"breakdown",null),this.name=t,this.arg=e}clone(){const t=Object.assign(Object.create(Object.getPrototypeOf(this.arg)),this.arg);return new _(this.name,t)}getKeyData(){return p.data.keys[this.arg.type]??{desc:"",examples:null}}getTypeDesc(){return this.getKeyData().desc}getExamples(){return this.getKeyData().examples||[]}getOptionData(){const t=this.getTypeBreakdown();let e=null,n=!1;return(t.element==="Set"||t.element==="TypedFunction"||t.element==="Predicate")&&t.child!==null?(e=t.child[0].getOptionData(),n=!0):e=t.getOptionData(),e!=null?new T(p,e,n):new T(p,{options:null,query:!1,completions:!1,guild:!1,nation:!1,user:!1},!1)}getTypeBreakdown(){return this.breakdown!=null?this.breakdown:this.breakdown=P(p,this.arg.type)}}class T{constructor(t,e,n){o(this,"options"),o(this,"query"),o(this,"completions"),o(this,"guild"),o(this,"nation"),o(this,"user"),o(this,"multi"),o(this,"map"),o(this,"composite"),this.map=t,this.options=e.options||void 0,this.query=e.query||!1,this.completions=e.completions||!1,this.guild=e.guild||!1,this.nation=e.nation||!1,this.user=e.user||!1,this.multi=n,this.composite=e.composite||[]}}function P(s,t){let e=null;if(t.endsWith("]")){const n=t.indexOf("[");e=t.substring(n+1,t.length-1),t=t.substring(0,n)}if(t.endsWith(">")){const n=t.indexOf("<"),r=R(t.substring(n+1,t.length-1),","),i=t.substring(0,n).trim(),a=r.map(l=>P(s,l.trim()));return new O(s,i,e,a)}else return new O(s,t,e,null)}class w{constructor(t,e){o(this,"command"),o(this,"name"),o(this,"path"),o(this,"arguments",null),o(this,"charFreq",null),o(this,"descWordFreq",null),o(this,"descShort",null),o(this,"pathStr",null),this.command=e,this.name=t[t.length-1],this.path=t}hasRequiredArgument(){if(this.command.arguments){for(const t of Object.values(this.command.arguments))if(t.optional!==!0)return!0}return!1}getDescShort(){return this.descShort==null&&(this.descShort=this.command.desc?.split(`
`)[0]??""),this.descShort}getCharFrequency(){return this.charFreq==null&&(this.charFreq=k(this.name)),this.charFreq}getWordFrequency(){if(this.descWordFreq==null){this.descWordFreq=new Set,this.command.desc&&this.command.desc.split(" ").forEach(t=>{this.descWordFreq.add(t.toLowerCase())});for(const t of this.getArguments()){for(const e of t.getTypeBreakdown().getAllChildren())this.descWordFreq.add(e.toLowerCase());t.arg.desc&&t.arg.desc.split(/[\s_]+/).forEach(e=>{this.descWordFreq.add(e.toLowerCase())}),this.descWordFreq.add(t.name.toLowerCase())}}return this.descWordFreq}getFullText(){return`${this.name} ${this.command.desc??""}`}getArguments(){return this.arguments==null&&(this.command.arguments?this.arguments=Object.entries(this.command.arguments).map(([t,e])=>new _(t,e)):this.arguments=[]),this.arguments}getPathString(){return this.pathStr||(this.pathStr=this.path.join(" ")),this.pathStr}}class W extends w{constructor(t,e){const n=e;super(t,n),o(this,"path"),o(this,"data"),this.path=t,this.data=e}fullPath(){return this.path.join(" ")}}class U extends w{constructor(t,e,n){const r=n;super(e,r),o(this,"type"),o(this,"path"),o(this,"data"),this.path=e,this.data=n,this.type=t}}function at({command:s,args:t}){let n=`/${s.join(" ")}`;for(const[r,i]of Object.entries(t))i!=null&&(n+=` ${r}: ${i}`);return n}function ot({type:s,command:t,args:e}){let r=`{${t.join(" ")}`;const i=e?Object.entries(e).filter(([,a])=>a!=null):[];return i.length>0&&(r+="("+i.map(([a,l])=>`${a}: ${l}`).join(" ")+")"),r+="}",r}const $=["get","is","can","has"];class Y{constructor(t){o(this,"name"),o(this,"data"),o(this,"create"),o(this,"ph_cache",new Map),this.name=t,this.data=C.placeholders[this.name]}get(t){const e=t.join(" "),n=this.ph_cache.get(e);if(n)return n;let r=this.data.commands;const i=[...t];for(;i.length>0;)r=r[i[0]],i.shift();const a=r,l=new U(this.name,t,a);return this.ph_cache.set(e,l),l}getCommands(){return this.getPlaceholderPaths().map(t=>this.get(t))}getPlaceholderPaths(){const t=[],e=(n,r)=>{Object.keys(n).forEach(i=>{const a=n[i],l=[...r,i];M(a)?t.push(l):typeof a=="object"&&a!==null&&e(a,l)})};return e(this.data.commands,[]),t}searchPlaceholders(t){const e=this.data.commands,n={},r={},i=t.toLowerCase();for(const[a,l]of Object.entries(e))if(a===i)r[a]=l;else if(a.startsWith(i))n[a]=l;else for(const c of $){const u=c+i;a===u?r[a]=l:a.startsWith(u)&&(n[a]=l)}return{completeMatch:r,startsWith:n}}getCommandsData(){return this.data.commands}getCreate(){if(!this.create){const t=this.data.create;t&&(this.create=new w([this.name],t))}return this.create}array(){return new V(this.name)}aliased(){return new G(this.name)}}class G{constructor(t){o(this,"type"),o(this,"placeholders",[]),o(this,"indexes",new Map),o(this,"indexToAlias",new Map),this.type=t}addRaw(t,e){return this.indexes.set(e,this.placeholders.length),this.indexToAlias.set(this.placeholders.length,e),this.placeholders.push(t),this}add({cmd:t,args:e,alias:n}){let r;return e?r="{"+t+"("+Object.entries(e).map(([i,a])=>i+": "+a).join(" ")+")}":r="{"+t+"}",this.indexes.set(n,this.placeholders.length),this.indexToAlias.set(this.placeholders.length,n),this.placeholders.push(r),this}shorten(){for(let t=0;t<this.placeholders.length;t++){const e=this.placeholders[t],n=e.replace(/^\{(get|is|can|has)/,"{");this.placeholders[t]=n,this.indexes.delete(e),this.indexes.set(n,t),this.indexToAlias.set(t,n)}return this}array(){return[...this.placeholders]}aliasedArray(){return this.placeholders.map((t,e)=>{const n=this.indexToAlias.get(e);return n?[t,n]:t})}createRowAdapter(t){const e={get:(n,r)=>{if(typeof r=="string"){const i=this.indexes.get(r);if(i!==void 0)return t[i]}}};return new Proxy({},e)}}class V{constructor(t){o(this,"type"),o(this,"data"),this.type=t,this.data=[]}addRaw(t,e){return e?this.data.push([t,e]):this.data.push(t),this}addMultipleRaw(t){return this.data.push(...t),this}add({cmd:t,args:e,alias:n}){let r;return e?r="{"+t+"("+Object.entries(e).map(([i,a])=>i+": "+a).join(" ")+")}":r="{"+t+"}",n?this.data.push([r,n]):this.data.push(r),this}shorten(){for(let t=0;t<this.data.length;t++){const e=this.data[t];Array.isArray(e)||(this.data[t]=e.replace(/^\{(get|is|can|has)/,""))}return this}build2d(){return this.data}build(){return this.data.map(t=>Array.isArray(t)?t.join(";"):t)}}class K{constructor(t){o(this,"data"),o(this,"cmd_paths",[]),o(this,"cmd_cache",new Map),o(this,"ph_cache",new Map),this.data=t}placeholders(t){const e=this.ph_cache.get(t);if(e)return e;const n=new Y(t);return this.ph_cache.set(t,n),n}get(t){const e=t.join(" "),n=this.cmd_cache.get(e);if(n)return n;let r=this.data.commands;const i=[...t];for(;i.length>0;)r=r[i[0]],i.shift();const a=r,l=new W(t,a);return this.cmd_cache.set(e,l),l}getCommandPaths(){if(this.cmd_paths.length>0)return this.cmd_paths;const t=(e,n)=>{Object.keys(e).forEach(r=>{const i=e[r],a=[...n,r];M(i)?this.cmd_paths.push(a):t(i,a)})};return t(this.data.commands,[]),this.cmd_paths}getCommands(){return this.getCommandPaths().map(t=>this.get(t))}getPlaceholderTypes(t){const e=Object.keys(this.data.placeholders);return t?e.map(n=>j(n)):e}builder(t){return new H(t,this)}buildTest(){const t={};for(const n of this.getCommandPaths()){const r=this.get(n);r.command.arguments&&Object.values(r.command.arguments).forEach(i=>{t[i.type]||(t[i.type]=i)})}const e=this.builder("test");return e.help("This is a test command").desc("This is a test description"),Object.entries(t).forEach(([n,r])=>{e.argument(n,r.optional==null?!1:r.optional,r.desc??"",r.type,r.def,r.choices,r.filter)}),e.build()}}class H{constructor(t,e){o(this,"command"),o(this,"name"),o(this,"parent"),this.command={help:"",desc:"",groups:[],group_descs:[],annotations:{},arguments:{}},this.name=t,this.parent=e}help(t){return this.command.help=t,this}desc(t){return this.command.desc=t,this}argument(t,e=!1,n,r,i,a,l){const c={name:t,optional:e,flag:void 0,desc:n,group:void 0,type:r,def:i,choices:a,min:void 0,max:void 0,filter:l};return this.command.arguments||(this.command.arguments={}),this.command.arguments[t]=c,this}build(){return new w([this.name],this.command)}}function M(s){return s.help!==void 0&&s.desc!==void 0}class O{constructor(t,e,n,r){o(this,"map"),o(this,"element"),o(this,"annotations"),o(this,"child"),this.map=t,this.element=e,this.annotations=n,this.child=r}getAllChildren(){return this.child==null?[this.element]:this.child.flatMap(t=>t.getAllChildren())}getPlaceholderTypeName(){return this.child!=null&&this.child.length==1?this.child[0].getPlaceholderTypeName():j(this.element)}toJSON(){return{element:this.element,annotations:this.annotations,child:this.child}}getPlaceholder(){return this.child==null||this.element==="Map"?null:this.map.data.placeholders[this.child[0].element]}getOptionData(){let t=null,e=!1;return(this.element==="Set"||this.element==="TypedFunction"||this.element==="Predicate")&&this.child!==null?(t=y(this.child[0].element),e=!0):t=y(this.element),t?new T(this.map,t,e):new T(this.map,{options:null,query:!1,completions:!1,guild:!1,nation:!1,user:!1},!1)}}function y(s){const t=p.data.options[s];return typeof t=="string"?y(t):t}function j(s){return s.replace("DB","").replace("Wrapper","").replace(/[0-9]/g,"")}const p=new K(C),J={"":"DELETE_MESSAGE","~":"UNPRESS",_:"DELETE_BUTTONS",".":"DELETE_PRESSED_BUTTON","=":"EPHEMERAL"};function lt(s){let t=s.charAt(0);t==="{"&&(t="");const e=JSON.parse(s.substring(t.length)),n=e[""],r=e;return delete r[""],{behavior:J[t],command:n,args:r}}export{_ as A,p as C,z as E,$ as S,D as a,k as b,F as c,rt as d,lt as e,x as f,P as g,at as h,N as i,R as j,Z as k,X as l,st as m,et as n,nt as o,ot as p,tt as q,S as r,it as s,j as t};
