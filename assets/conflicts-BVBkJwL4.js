import{r as a,j as e}from"./index-CB60MK8B.js";import{S as t}from"./StaticTable-8TQs3t3o.js";import{b as r,k as s,X as i}from"./loading-Cq9Kwdp4.js";import{u as o}from"./DialogContext-Ddeg3-RV.js";import{u as d}from"./useQuery-zqD4DT95.js";import"./AbstractTable-CMtsPyV9.js";import"./button-Dc6LF0a5.js";import"./table_util-YFgifY52.js";import"./SimpleChart-Bw3_oVsT.js";import"./theme-provider-bTdlrjsQ.js";import"./useSuspenseQuery-BSBlP-_p.js";import"./DataTable-DYj0ofQC.js";import"./StateUtil-BfNeAsTQ.js";const n=s.placeholders("Conflict").aliased().add({cmd:"getid",alias:"ID"}).add({cmd:"getname",alias:"Name"}).add({cmd:"getcategory",alias:"Category"}).add({cmd:"getstartturn",alias:"Start"}).add({cmd:"getendturn",alias:"End"}).add({cmd:"getactivewars",alias:"Active Wars"}).add({cmd:"getdamageconverted",args:{isPrimary:"true"},alias:"c1_damage"}).add({cmd:"getdamageconverted",args:{isPrimary:"false"},alias:"c2_damage"});function l(){!function(e){const{showDialog:t}=o(),{data:n,isFetching:l,error:m}=d({...r(i.endpoint,{command:s.get(e).fullPath()}),retry:!1}),c=a.useMemo((()=>{if(m)return m;if(null==n?void 0:n.error)return new Error(n.error);const a=null==n?void 0:n.data;return a&&!1===a.success&&a.message?new Error(a.message):null}),[m,null==n?void 0:n.error,null==n?void 0:n.data]);a.useEffect((()=>{c&&t("Permission Error",`Failed to fetch permission: ${c.message}`)}),[c,t]),null==n||n.data}(["conflict","edit","rename"]);const[l,m]=a.useState([]);return e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:"Conflicts"}),e.jsx(t,{type:"Conflict",selection:{"":"*"},columns:n.aliasedArray()})]})}export{l as default};
