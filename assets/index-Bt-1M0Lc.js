import{j as e,r as o,L as s}from"./index-C3E2-SUH.js";import{B as r}from"./button-DCZsNPnk.js";import{r as t}from"./queries-BuM6HYrb.js";import{u as a,a as i}from"./DialogContext-BJx4vabV.js";import{E as l}from"./bulkwrapper-CffFvLGh.js";import"./useSuspenseQuery-DiLOpIi1.js";import"./loading-CI11-4Uh.js";function n(){const{showDialog:n}=a(),[c,u]=o.useState(!1);o.useEffect((()=>{c&&(document.cookie.split(";").forEach((e=>{document.cookie=e.replace(/^ +/,"").replace(/=.*/,"=;expires="+(new Date).toUTCString()+";path=/")})),u(!1))}),[c]);const d=o.useCallback((()=>{window.localStorage.clear(),u(!0)}),[]),m=o.useCallback((o=>{d(),n("Logout Failed",e.jsxs(e.Fragment,{children:["Failed to logout. Please try again, try a different login method, or contact support.",e.jsx("div",{className:"relative overflow-auto",children:e.jsx(i,{text:o.message})})]}),!1)}),[d,n]);return e.jsx(l,{endpoint:t,args:{},handle_error:m,children:({data:o})=>(d(),e.jsxs(e.Fragment,{children:["Logged out Successfully!",e.jsx("br",{}),e.jsx(r,{variant:"outline",size:"sm",className:"border-slate-600",asChild:!0,children:e.jsx(s,{to:"/home",children:"Return Home"})})]}))})}function c(){return e.jsx(n,{})}export{n as LogoutComponent,c as default};
