import{c as N,r as ke,j as s,L as A}from"./index-SOjtd1du.js";import{M as lt}from"./CommandComponent-Bi1lNJuB.js";import{c as F,B as M}from"./button-C6_F57E5.js";import{L as $,M as it,d as nt,e as ct,B as ot,f as dt}from"./queries-BzWnpVnq.js";import{f as st,a as mt}from"./command-utils-BF18nFEX.js";import{COMMANDS as ft}from"./command-meta-Dt1HocaT.js";import{u as ht}from"./DialogContext-DiRAa5qs.js";import pt from"./index-tAE879o7.js";import{E as Me}from"./bulkwrapper-CSppeL3K.js";import{A as ut}from"./apiform-Cou0YBqx.js";import"./StateUtil-D0CNNC7k.js";import"./input-DGDhAddh.js";import"./SimpleChart-V9M2bt1B.js";import"./dropdown-menu-B_MP3PX6.js";import"./theme-provider-BQwJ-LrG.js";import"./table_util-BV1C7Yj5.js";import"./SessionContext-v1NsAMUy.js";import"./useQuery-CCK4RCGX.js";import"./useSuspenseQuery-7uza5ut4.js";import"./traditional-hdCCIUos.js";function is(){const a=N.c(1);let e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=s.jsxs(s.Fragment,{children:[s.jsx(_t,{}),s.jsx(xt,{}),s.jsx(Nt,{}),s.jsx(Ct,{}),s.jsx(pt,{}),s.jsx(Mt,{})]}),a[0]=e):e=a[0],e}function xt(){const a=N.c(1);let e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=s.jsx(Me,{endpoint:it,args:{},children:bt}),a[0]=e):e=a[0],e}function bt(a){const{data:e}=a;return s.jsx(gt,{audits:e})}function gt(a){const e=N.c(15),{audits:r}=a,[t,l]=ke.useState(!1);if(Object.keys(r.values).length===0){let p;return e[0]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx("div",{className:"text-green-500 mb-1 p-1 border-green-500/25 bg-accent relative rounded-sm",children:"You have passed all audits..."}),e[0]=p):p=e[0],p}const m=yt;let i;e[1]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{l(jt)},e[1]=i):i=e[1];const f=i;let c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx("h1",{className:"text-2xl font-bold",children:"Audits"}),e[2]=c):c=e[2];const n=t?"Show Less":"Show More";let d;e[3]!==n?(d=s.jsxs("div",{className:"relative",children:[c,s.jsx(M,{variant:"outline",size:"sm",className:"absolute border-primary/20 top-1 right-1",onClick:f,children:n})]}),e[3]=n,e[4]=d):d=e[4];let o;if(e[5]!==r.values||e[6]!==t){let p;e[8]!==t?(p=(x,b)=>s.jsxs("div",{className:`p-0.5 mb-0.5 border ${m(x.severity)} break-all`,children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("span",{className:"font-bold",children:[x.audit,": ",x.value]})}),s.jsx("div",{className:`transition-all duration-100 ease-in-out ${t?"p-1 max-h-screen opacity-100":"max-h-0 opacity-0 overflow-hidden"}`,children:s.jsx(lt,{content:x.description})})]},b),e[8]=t,e[9]=p):p=e[9],o=r.values.map(p),e[5]=r.values,e[6]=t,e[7]=o}else o=e[7];let h;e[10]!==o?(h=s.jsx("div",{className:"p-1 relative rounded",children:o}),e[10]=o,e[11]=h):h=e[11];let u;return e[12]!==d||e[13]!==h?(u=s.jsxs("div",{className:"bg-light/10 border border-light/10 p-2 mt-2 rounded",children:[d,h]}),e[12]=d,e[13]=h,e[14]=u):u=e[14],u}function jt(a){return!a}function yt(a){switch(a){case 0:return"bg-yellow-600/20 border-yellow-500/50 text-yellow-700 dark:text-yellow-100 rounded-sm";case 1:return"bg-orange-600/20 border-orange-500/50 text-orange-600 dark:text-orange-100 rounded-sm";case 2:return"bg-red-600/20 border-red-500/50 text-red-600 dark:text-red-100 rounded-sm";default:return""}}function _t(){const a=N.c(5),e=ke.useRef(-1),[r,t]=ke.useState(!1);let l;a[0]!==r?(l=c=>{e.current=c,t(!r)},a[0]=r,a[1]=l):l=a[1];const m=l;let i;a[2]===Symbol.for("react.memo_cache_sentinel")?(i={},a[2]=i):i=a[2];let f;return a[3]!==m?(f=s.jsx(Me,{endpoint:nt,args:i,children:c=>{const{data:n}=c;return e.current===-1&&(e.current=n.value),s.jsxs("div",{className:`${e.current===0?"text-primary/80 border-secondary":"text-red-500 border-red-500/25"} border w-full mb-1 p-1 relative bg-accent rounded`,children:[s.jsx(M,{variant:"outline",size:"sm",className:"mr-1 border-primary/20",asChild:!0,children:s.jsx(A,{to:"/announcements",children:"View"})}),e.current===0?"No new announcements":`You have ${e.current} unread announcements...`,e.current!==0&&s.jsx(vt,{setUnreadCount:m})]})}}),a[3]=m,a[4]=f):f=a[4],f}function vt(a){const e=N.c(5),{setUnreadCount:r}=a,{showDialog:t}=ht();let l;e[0]!==r||e[1]!==t?(l=()=>{r(0),t("Dismissed All",s.jsx(s.Fragment,{children:"Marked all announcements as read"}))},e[0]=r,e[1]=t,e[2]=l):l=e[2];const m=l;let i;return e[3]!==m?(i=s.jsx(ut,{endpoint:ct,label:"Dismiss All",handle_response:m,classes:"absolute top-1 right-1"}),e[3]=m,e[4]=i):i=e[4],i}function Nt(){const a=N.c(2);let e;a[0]===Symbol.for("react.memo_cache_sentinel")?(e=s.jsx("h1",{className:"text-2xl font-bold",children:"Banking"}),a[0]=e):e=a[0];let r;return a[1]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsxs("div",{className:"bg-light/10 border border-light/10 p-2 rounded mt-2",children:[e,s.jsx(Me,{endpoint:ot,args:{},children:wt})]}),a[1]=r):r=a[1],r}function wt(a){const{data:e}=a;return s.jsx(kt,{access:e})}function kt(a){const e=N.c(5),{access:r}=a,t=Object.keys(r).length>0;let l;e[0]!==r?(l=Object.values(r).some($t),e[0]=r,e[1]=l):l=e[1];const m=l;let i;if(e[2]!==t||e[3]!==m){const f={};f.Balance=[["Self","balance/self"]],i=s.jsx("div",{className:"p-1 mb-1 relative bg-accent rounded",children:Object.keys(f).map((c,n)=>s.jsxs("div",{children:[s.jsx("h1",{className:"font-bold",children:c}),f[c].map(St)]},n))}),e[2]=t,e[3]=m,e[4]=i}else i=e[4];return i}function St(a,e){return s.jsx(M,{variant:"outline",size:"sm",className:"border-primary/20 mr-1",asChild:!0,children:s.jsx(A,{to:`/${a[1]}`,children:a[0]})},e)}function $t(a){return a>0}function Mt(){const a=N.c(1);let e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=s.jsx("div",{className:"p-2 my-1 bg-accent",children:"No grants are available at this time"}),a[0]=e):e=a[0],e}function Ct(){const a=N.c(1);let e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=s.jsx(Me,{endpoint:dt,args:{},children:At}),a[0]=e):e=a[0],e}function At(a){const{data:e}=a;return s.jsx(Dt,{wars:e})}function Dt(a){const e=N.c(29),{wars:r}=a,[t,l]=ke.useState(!1);if(r.offensives.length===0&&r.defensives.length===0){let g;return e[0]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx("div",{className:"bg-accent rounded p-1",children:s.jsx("h2",{children:"You currently have no wars"})}),e[0]=g):g=e[0],g}let m;e[1]===Symbol.for("react.memo_cache_sentinel")?(m=()=>{l(Ft)},e[1]=m):m=e[1];const i=m,f=r.offensives.length+r.defensives.length;let c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx($,{name:"ExternalLink",className:"inline h-5"}),e[2]=c):c=e[2];let n;e[3]!==f?(n=s.jsx("div",{className:"w-full",children:s.jsxs("a",{href:"https://politicsandwar.com/nation/war/",className:"text-2xl mt-2 font-bold underline hover:no-underline",children:[f,"Â Active Wars",c]})}),e[3]=f,e[4]=n):n=e[4];const d=t?"Collapse Wars":"Show Wars";let o;e[5]!==d?(o=s.jsx(M,{variant:"secondary",size:"sm",className:"border-slate-600 w-full text-center",onClick:i,children:d}),e[5]=d,e[6]=o):o=e[6];const h=`transition-all duration-200 ease-in-out ${t?"p-1 opacity-100":"max-h-0 opacity-0 overflow-hidden"}`;let u;e[7]!==r?(u=r.isFightingActives&&s.jsxs(s.Fragment,{children:[s.jsx(Rt,{me:r.me,mywars:r}),s.jsx("div",{className:"bg-teal-500/50 p-1 mt-1",children:"It is recommended to repurchase lost units after each attack"})]}),e[7]=r,e[8]=u):u=e[8];let p;e[9]!==r.isFightingActives?(p=!r.isFightingActives&&s.jsx(s.Fragment,{children:s.jsx(M,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:s.jsxs(A,{to:"https://politicsandwar.com/nation/military/",children:["Buy military ",s.jsx($,{name:"ExternalLink",className:"h-4"})]})})}),e[9]=r.isFightingActives,e[10]=p):p=e[10];let x;e[11]!==r.me||e[12]!==r.offensives?(x=r.offensives.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("h4",{className:"text-lg",children:"Offensives"}),r.offensives.map((g,_)=>s.jsx(rt,{me:r.me,war:g,isAttacker:!0},_))]}),e[11]=r.me,e[12]=r.offensives,e[13]=x):x=e[13];let b;e[14]!==r.defensives||e[15]!==r.me?(b=r.defensives.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("h4",{children:"Defensives"}),r.defensives.map((g,_)=>s.jsx(rt,{me:r.me,war:g,isAttacker:!1},_))]}),e[14]=r.defensives,e[15]=r.me,e[16]=b):b=e[16];let v;e[17]!==x||e[18]!==b||e[19]!==h||e[20]!==u||e[21]!==p?(v=s.jsxs("div",{className:h,children:[u,p,x,b]}),e[17]=x,e[18]=b,e[19]=h,e[20]=u,e[21]=p,e[22]=v):v=e[22];let j;e[23]!==v||e[24]!==o?(j=s.jsxs("div",{className:"mt-1 text-sm relative w-full",children:[o,v]}),e[23]=v,e[24]=o,e[25]=j):j=e[25];let y;return e[26]!==j||e[27]!==n?(y=s.jsxs("div",{className:"bg-light/10 border border-light/10 p-2 rounded mt-2",children:[n,j]}),e[26]=j,e[27]=n,e[28]=y):y=e[28],y}function Ft(a){return!a}function Rt(a){const e=N.c(29),{me:r,mywars:t}=a;let l;e[0]!==r.soldier||e[1]!==t.soldier_cap?(l={type:"soldiers",cap:t.soldier_cap,current:r.soldier,url:"https://politicsandwar.com/nation/military/soldiers/"},e[0]=r.soldier,e[1]=t.soldier_cap,e[2]=l):l=e[2];let m;e[3]!==r.tank||e[4]!==t.tank_cap?(m={type:"tanks",cap:t.tank_cap,current:r.tank,url:"https://politicsandwar.com/nation/military/tanks/"},e[3]=r.tank,e[4]=t.tank_cap,e[5]=m):m=e[5];let i;e[6]!==r.aircraft||e[7]!==t.aircraft_cap?(i={type:"aircraft",cap:t.aircraft_cap,current:r.aircraft,url:"https://politicsandwar.com/nation/military/aircraft/"},e[6]=r.aircraft,e[7]=t.aircraft_cap,e[8]=i):i=e[8];let f;e[9]!==r.ship||e[10]!==t.ship_cap?(f={type:"navy",cap:t.ship_cap,current:r.ship,url:"https://politicsandwar.com/nation/military/navy/"},e[9]=r.ship,e[10]=t.ship_cap,e[11]=f):f=e[11];let c;e[12]!==r.spies||e[13]!==t.spy_cap?(c={type:"spies",cap:t.spy_cap,current:r.spies,url:"https://politicsandwar.com/nation/military/spies/"},e[12]=r.spies,e[13]=t.spy_cap,e[14]=c):c=e[14];let n;e[15]!==r.missile?(n={type:"missiles",cap:1,current:r.missile,url:"https://politicsandwar.com/nation/military/missiles/"},e[15]=r.missile,e[16]=n):n=e[16];let d;e[17]!==r.nuke?(d={type:"nukes",cap:1,current:r.nuke,url:"https://politicsandwar.com/nation/military/missiles/"},e[17]=r.nuke,e[18]=d):d=e[18];let o;e[19]!==l||e[20]!==m||e[21]!==i||e[22]!==f||e[23]!==c||e[24]!==n||e[25]!==d?(o=[l,m,i,f,c,n,d],e[19]=l,e[20]=m,e[21]=i,e[22]=f,e[23]=c,e[24]=n,e[25]=d,e[26]=o):o=e[26];const h=o;let u;return e[27]!==h?(u=s.jsxs(s.Fragment,{children:["Buy: ",h.map(Ot)]}),e[27]=h,e[28]=u):u=e[28],u}function Ot(a,e){return s.jsx(M,{variant:"outline",size:"sm",className:"inline",asChild:!0,children:s.jsx(A,{to:a.url,className:`${a.current*1.05<a.cap?"bg-card":"bg-card/40"}`,children:a.type},e)},a.type)}ft.options.BeigeReason.options;function rt(a){const e=N.c(196),{me:r,war:t,isAttacker:l}=a,m=Date.now();let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx("thead",{className:"bg-red-200 dark:bg-red-900",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",children:"Nation"}),s.jsx("th",{scope:"col",children:"Alliance"}),s.jsx("th",{scope:"col",children:"ðŸ™ï¸"}),s.jsx("th",{scope:"col",children:"ðŸ’‚"}),s.jsx("th",{scope:"col",children:"âš™ï¸"}),s.jsx("th",{scope:"col",children:"âœˆï¸"}),s.jsx("th",{scope:"col",children:"ðŸš¢"}),s.jsx("th",{scope:"col",children:"ðŸš€/â˜¢ï¸"}),s.jsx("th",{scope:"col",children:"Off/Def"}),s.jsx("th",{scope:"col",children:"MAP"}),s.jsx("th",{scope:"col",children:"Resist"})]})}),e[0]=i):i=e[0];const f=`https://politicsandwar.com/nation/id=${t.target.id}`;let c;e[1]!==f||e[2]!==t.target.nation?(c=s.jsx("a",{className:"text-blue-500 hover:text-blue-600 active:text-blue-400 underline",href:f,children:t.target.nation}),e[1]=f,e[2]=t.target.nation,e[3]=c):c=e[3];let n;e[4]!==t.target.active_ms?(n=t.target.active_ms>1464e5&&s.jsxs("span",{className:"badge bg-secondary ms-1",children:["inactive ",mt(Math.round((m-t.target.active_ms)/1e3),2)]}),e[4]=t.target.active_ms,e[5]=n):n=e[5];let d;e[6]!==l||e[7]!==t.att_fortified||e[8]!==t.def_fortified?(d=(l?t.def_fortified:t.att_fortified)&&s.jsx("span",{className:"badge bg-secondary ms-1",title:"Fortified",children:s.jsx($,{name:"Shield",className:"h-4 inline"})}),e[6]=l,e[7]=t.att_fortified,e[8]=t.def_fortified,e[9]=d):d=e[9];let o;e[10]!==t.blockade?(o=t.blockade==1&&s.jsx("span",{className:"badge bg-secondary ms-1",title:"Blockaded",children:s.jsx($,{name:"Sailboat",className:"h-4 inline"})}),e[10]=t.blockade,e[11]=o):o=e[11];let h;e[12]!==t.ac?(h=t.ac==-1&&s.jsx("span",{className:"badge bg-secondary ms-1",title:"Air Control",children:s.jsx($,{name:"Plane",className:"h-4 inline"})}),e[12]=t.ac,e[13]=h):h=e[13];let u;e[14]!==t.gc?(u=t.gc==-1&&s.jsx("span",{className:"badge bg-secondary ms-1",title:"Ground Control",children:s.jsx($,{name:"Settings",className:"h-4 inline"})}),e[14]=t.gc,e[15]=u):u=e[15];let p;e[16]!==t.iron_dome?(p=t.iron_dome&&s.jsx("span",{className:"badge bg-secondary ms-1",title:"Iron Dome (30% chance to block missile)",children:"ID"}),e[16]=t.iron_dome,e[17]=p):p=e[17];let x;e[18]!==t.vds?(x=t.vds&&s.jsx("span",{className:"badge bg-secondary ms-1",title:"Vital Defense System (25% chance to thwart nukes)",children:"VDS"}),e[18]=t.vds,e[19]=x):x=e[19];let b;e[20]!==x||e[21]!==c||e[22]!==n||e[23]!==d||e[24]!==o||e[25]!==h||e[26]!==u||e[27]!==p?(b=s.jsxs("td",{className:"border border-gray-500/25 p-1",children:[c,n,d,o,h,u,p,x]}),e[20]=x,e[21]=c,e[22]=n,e[23]=d,e[24]=o,e[25]=h,e[26]=u,e[27]=p,e[28]=b):b=e[28];const v=`https://politicsandwar.com/nation/id=${t.target.alliance_id}`;let j;e[29]!==v||e[30]!==t.target.alliance?(j=s.jsx("td",{className:"border border-gray-500/25 p-1",children:s.jsx("a",{className:"text-blue-500 hover:text-blue-600 active:text-blue-400 underline",href:v,children:t.target.alliance})}),e[29]=v,e[30]=t.target.alliance,e[31]=j):j=e[31];let y;e[32]!==t.target.cities?(y=s.jsx("td",{className:"border border-gray-500/25 p-1",children:t.target.cities}),e[32]=t.target.cities,e[33]=y):y=e[33];const g=`rgb(${Math.min(255,Math.max(0,255*t.ground_str/(4*r.strength)))}, 0, 0)`;let _;e[34]!==g?(_={color:g},e[34]=g,e[35]=_):_=e[35];let w;e[36]!==_||e[37]!==t.target.soldier?(w=s.jsx("td",{className:"border border-gray-500/25 p-1",style:_,children:t.target.soldier}),e[36]=_,e[37]=t.target.soldier,e[38]=w):w=e[38];const C=`rgb(${Math.min(255,Math.max(0,255*t.ground_str/(4*r.strength)))}, 0, 0)`;let k;e[39]!==C?(k={color:C},e[39]=C,e[40]=k):k=e[40];let S;e[41]!==k||e[42]!==t.target.tank?(S=s.jsx("td",{className:"border border-gray-500/25 p-1",style:k,children:t.target.tank}),e[41]=k,e[42]=t.target.tank,e[43]=S):S=e[43];const D=`rgb(${Math.min(255,Math.max(0,255*t.target.aircraft/(5*r.aircraft)))}, 0, 0)`;let R;e[44]!==D?(R={color:D},e[44]=D,e[45]=R):R=e[45];let O;e[46]!==R||e[47]!==t.target.aircraft?(O=s.jsx("td",{className:"border border-gray-500/25 p-1",style:R,children:t.target.aircraft}),e[46]=R,e[47]=t.target.aircraft,e[48]=O):O=e[48];const Ce=`rgb(${Math.min(255,Math.max(0,255*t.target.ship/(5*r.ship)))}, 0, 0)`;let B;e[49]!==Ce?(B={color:Ce},e[49]=Ce,e[50]=B):B=e[50];let z;e[51]!==B||e[52]!==t.target.ship?(z=s.jsx("td",{className:"border border-gray-500/25 p-1",style:B,children:t.target.ship}),e[51]=B,e[52]=t.target.ship,e[53]=z):z=e[53];let E;e[54]!==t.target.missile||e[55]!==t.target.nuke?(E=s.jsxs("td",{className:"border border-gray-500/25 p-1",children:[t.target.missile,"/",t.target.nuke]}),e[54]=t.target.missile,e[55]=t.target.nuke,e[56]=E):E=e[56];let L;e[57]!==t.target.def||e[58]!==t.target.off?(L=s.jsxs("td",{className:"border border-gray-500/25 p-1",children:[t.target.off,"/",t.target.def]}),e[57]=t.target.def,e[58]=t.target.off,e[59]=L):L=e[59];const Ae=`${Math.max(10,(l?t.def_map:t.att_map)/.12)}%`,De=`rgb(${F(255-(l?t.def_map:t.att_map)*255/.12,0,255)}, ${F((l?t.def_map:t.att_map)*255/.12,0,255)}, 0)`;let W;e[60]!==Ae||e[61]!==De?(W={width:Ae,backgroundColor:De},e[60]=Ae,e[61]=De,e[62]=W):W=e[62];const Fe=l?t.def_map:t.att_map;let I;e[63]!==W||e[64]!==Fe?(I=s.jsx("td",{className:"border border-gray-500/25 p-1",children:s.jsx("div",{className:"px-1 text-secondary font-bold text-center",style:W,children:Fe})}),e[63]=W,e[64]=Fe,e[65]=I):I=e[65];const Re=l?t.def_res:t.att_res,Oe=`${Math.max(10,l?t.def_res:t.att_res)}%`,Be=`rgb(${F(255-(l?t.def_res:t.att_res)*255/100,0,255)}, ${F((l?t.def_res:t.att_res)*255/100,0,255)}, 0)`;let U;e[66]!==Oe||e[67]!==Be?(U={width:Oe,backgroundColor:Be},e[66]=Oe,e[67]=Be,e[68]=U):U=e[68];const ze=l?t.def_res:t.att_res;let G;e[69]!==Re||e[70]!==U||e[71]!==ze?(G=s.jsx("td",{className:"border border-gray-500/25 p-1",children:s.jsx("div",{className:"px-1 text-secondary font-bold text-center","aria-valuenow":Re,"aria-valuemin":0,"aria-valuemax":100,style:U,children:ze})}),e[69]=Re,e[70]=U,e[71]=ze,e[72]=G):G=e[72];let P;e[73]!==b||e[74]!==j||e[75]!==y||e[76]!==w||e[77]!==S||e[78]!==O||e[79]!==z||e[80]!==E||e[81]!==L||e[82]!==I||e[83]!==G?(P=s.jsxs("tr",{children:[b,j,y,w,S,O,z,E,L,I,G]}),e[73]=b,e[74]=j,e[75]=y,e[76]=w,e[77]=S,e[78]=O,e[79]=z,e[80]=E,e[81]=L,e[82]=I,e[83]=G,e[84]=P):P=e[84];const Ee=`https://www.politicsandwar.com/nation/id=${r.id}`;let V;e[85]!==r.nation||e[86]!==Ee?(V=s.jsx("a",{className:"text-blue-500 hover:text-blue-600 active:text-blue-400 underline",href:Ee,children:r.nation}),e[85]=r.nation,e[86]=Ee,e[87]=V):V=e[87];let Y;e[88]!==l||e[89]!==t.att_fortified||e[90]!==t.def_fortified?(Y=(l?t.att_fortified:t.def_fortified)&&s.jsx("span",{className:"badge bg-secondary ms-1",title:"Fortified",children:s.jsx($,{name:"Shield",className:"h-4 inline"})}),e[88]=l,e[89]=t.att_fortified,e[90]=t.def_fortified,e[91]=Y):Y=e[91];let T;e[92]!==t.blockade?(T=t.blockade==-1&&s.jsx("span",{className:"badge bg-secondary ms-1",title:"Blockaded",children:s.jsx($,{name:"Sailboat",className:"h-4 inline"})}),e[92]=t.blockade,e[93]=T):T=e[93];let K;e[94]!==t.ac?(K=t.ac==1&&s.jsx("span",{className:"badge bg-secondary ms-1",title:"Air Control",children:s.jsx($,{name:"Plane",className:"h-4 inline"})}),e[94]=t.ac,e[95]=K):K=e[95];let H;e[96]!==t.gc?(H=t.gc==1&&s.jsx("span",{className:"badge bg-secondary ms-1",title:"Ground Control",children:s.jsx($,{name:"Settings",className:"h-4 inline"})}),e[96]=t.gc,e[97]=H):H=e[97];let q;e[98]!==V||e[99]!==Y||e[100]!==T||e[101]!==K||e[102]!==H?(q=s.jsxs("td",{className:"border border-gray-500/25 p-1",children:[V,Y,T,K,H]}),e[98]=V,e[99]=Y,e[100]=T,e[101]=K,e[102]=H,e[103]=q):q=e[103];const Le=`https://www.politicsandwar.com/alliance/id=${r.alliance_id}`;let J;e[104]!==r.alliance||e[105]!==Le?(J=s.jsx("td",{className:"border border-gray-500/25 p-1",children:s.jsx("a",{className:"text-blue-500 hover:text-blue-600 active:text-blue-400 underline",href:Le,children:r.alliance})}),e[104]=r.alliance,e[105]=Le,e[106]=J):J=e[106];let Q;e[107]!==r.cities?(Q=s.jsx("td",{className:"border border-gray-500/25 p-1",children:r.cities}),e[107]=r.cities,e[108]=Q):Q=e[108];const We=`rgb(0, ${Math.min(255,Math.max(0,255*r.strength/(4*t.ground_str)))}, 0)`;let X;e[109]!==We?(X={color:We},e[109]=We,e[110]=X):X=e[110];let Z;e[111]!==r.soldier||e[112]!==X?(Z=s.jsx("td",{className:"border border-gray-500/25 p-1",style:X,children:r.soldier}),e[111]=r.soldier,e[112]=X,e[113]=Z):Z=e[113];const Ie=`rgb(0, ${Math.min(255,Math.max(0,255*r.strength/(4*t.ground_str)))}, 0)`;let ee;e[114]!==Ie?(ee={color:Ie},e[114]=Ie,e[115]=ee):ee=e[115];let te;e[116]!==r.tank||e[117]!==ee?(te=s.jsx("td",{className:"border border-gray-500/25 p-1",style:ee,children:r.tank}),e[116]=r.tank,e[117]=ee,e[118]=te):te=e[118];const Ue=`rgb(0, ${Math.min(255,Math.max(0,255*r.aircraft/(5*t.target.aircraft)))}, 0)`;let se;e[119]!==Ue?(se={color:Ue},e[119]=Ue,e[120]=se):se=e[120];let re;e[121]!==r.aircraft||e[122]!==se?(re=s.jsx("td",{className:"border border-gray-500/25 p-1",style:se,children:r.aircraft}),e[121]=r.aircraft,e[122]=se,e[123]=re):re=e[123];const Ge=`rgb(0, ${Math.min(255,Math.max(0,255*r.ship/(5*t.target.ship)))}, 0)`;let ae;e[124]!==Ge?(ae={color:Ge},e[124]=Ge,e[125]=ae):ae=e[125];let le;e[126]!==r.ship||e[127]!==ae?(le=s.jsx("td",{className:"border border-gray-500/25 p-1",style:ae,children:r.ship}),e[126]=r.ship,e[127]=ae,e[128]=le):le=e[128];let ie;e[129]!==r.missile||e[130]!==r.nuke?(ie=s.jsxs("td",{className:"border border-gray-500/25 p-1",children:[r.missile,"/",r.nuke]}),e[129]=r.missile,e[130]=r.nuke,e[131]=ie):ie=e[131];let ne;e[132]!==r.def||e[133]!==r.off?(ne=s.jsxs("td",{className:"border border-gray-500/25 p-1",children:[r.off,"/",r.def]}),e[132]=r.def,e[133]=r.off,e[134]=ne):ne=e[134];const Pe=`${Math.max(10,(l?t.att_map:t.def_map)/.12)}%`,Ve=`rgb(${F(255-(l?t.att_map:t.def_map)*255/.12,0,255)}, ${F((l?t.att_map:t.def_map)*255/.12,0,255)}, 0)`;let ce;e[135]!==Pe||e[136]!==Ve?(ce={width:Pe,backgroundColor:Ve},e[135]=Pe,e[136]=Ve,e[137]=ce):ce=e[137];const Ye=l?t.att_map:t.def_map;let oe;e[138]!==ce||e[139]!==Ye?(oe=s.jsx("td",{className:"border border-gray-500/25 p-1",children:s.jsx("div",{className:"px-1 text-secondary font-bold text-center",style:ce,children:Ye})}),e[138]=ce,e[139]=Ye,e[140]=oe):oe=e[140];const Te=l?t.att_res:t.def_res,Ke=`${Math.max(10,l?t.att_res:t.def_res)}%`,He=`rgb(${F(255-(l?t.att_res:t.def_res)*255/100,0,255)}, ${F((l?t.att_res:t.def_res)*255/100,0,255)}, 0)`;let de;e[141]!==Ke||e[142]!==He?(de={width:Ke,backgroundColor:He},e[141]=Ke,e[142]=He,e[143]=de):de=e[143];const qe=l?t.att_res:t.def_res;let me;e[144]!==Te||e[145]!==de||e[146]!==qe?(me=s.jsx("td",{className:"border border-gray-500/25 p-1",children:s.jsx("div",{className:"px-1 text-secondary font-bold text-center","aria-valuenow":Te,"aria-valuemin":0,"aria-valuemax":100,style:de,children:qe})}),e[144]=Te,e[145]=de,e[146]=qe,e[147]=me):me=e[147];let fe;e[148]!==q||e[149]!==J||e[150]!==Q||e[151]!==Z||e[152]!==te||e[153]!==re||e[154]!==le||e[155]!==ie||e[156]!==ne||e[157]!==oe||e[158]!==me?(fe=s.jsxs("tr",{className:"border-t border border-secondary",children:[q,J,Q,Z,te,re,le,ie,ne,oe,me]}),e[148]=q,e[149]=J,e[150]=Q,e[151]=Z,e[152]=te,e[153]=re,e[154]=le,e[155]=ie,e[156]=ne,e[157]=oe,e[158]=me,e[159]=fe):fe=e[159];const Je=`https://politicsandwar.com/nation/war/timeline/war=${t.id}`;let he;e[160]!==Je?(he=s.jsx("td",{colSpan:3,children:s.jsx(M,{variant:"secondary",size:"sm",className:"w-full",asChild:!0,children:s.jsx(A,{to:Je,children:"War Link"})})}),e[160]=Je,e[161]=he):he=e[161];const Qe=`https://politicsandwar.com/nation/war/groundbattle/war=${t.id}`;let pe;e[162]!==Qe?(pe=s.jsx("td",{colSpan:2,children:s.jsx(M,{variant:"secondary",size:"sm",className:"w-full",asChild:!0,children:s.jsx(A,{to:Qe,children:"ðŸ’‚ ground attack"})})}),e[162]=Qe,e[163]=pe):pe=e[163];const Xe=`https://politicsandwar.com/nation/war/airstrike/war=${t.id}`;let ue;e[164]!==Xe?(ue=s.jsx("td",{children:s.jsx(M,{variant:"secondary",size:"sm",className:"w-full",asChild:!0,children:s.jsx(A,{to:Xe,children:"âœˆï¸ airstrike"})})}),e[164]=Xe,e[165]=ue):ue=e[165];const Ze=`https://politicsandwar.com/nation/war/navalbattle/war=${t.id}`;let xe;e[166]!==Ze?(xe=s.jsx("td",{children:s.jsx(M,{variant:"secondary",size:"sm",className:"w-full",asChild:!0,children:s.jsx(A,{to:Ze,children:"ðŸš¢ naval"})})}),e[166]=Ze,e[167]=xe):xe=e[167];const et=`https://politicsandwar.com/nation/war/missile/war=${t.id}`;let be;e[168]!==et?(be=s.jsx("div",{className:"w-1/2 p-0 inline-block",children:s.jsx(M,{variant:"secondary",size:"sm",asChild:!0,className:"w-full me-0.5",children:s.jsx(A,{to:et,children:"ðŸš€"})})}),e[168]=et,e[169]=be):be=e[169];const tt=`https://politicsandwar.com/nation/war/nuke/war=${t.id}`;let ge;e[170]!==tt?(ge=s.jsx("div",{className:"w-1/2 p-0 inline-block",children:s.jsx(M,{variant:"secondary",size:"sm",asChild:!0,className:"w-full ms-0.5",children:s.jsx(A,{to:tt,children:"â˜¢ï¸"})})}),e[170]=tt,e[171]=ge):ge=e[171];let je;e[172]!==be||e[173]!==ge?(je=s.jsx("td",{className:"d-flex justify-content-center",children:s.jsxs("div",{className:"w-full",children:[be,ge]})}),e[172]=be,e[173]=ge,e[174]=je):je=e[174];let ye;e[175]!==he||e[176]!==pe||e[177]!==ue||e[178]!==xe||e[179]!==je?(ye=s.jsxs("tr",{className:"border-t border border-secondary",children:[he,pe,ue,xe,je]}),e[175]=he,e[176]=pe,e[177]=ue,e[178]=xe,e[179]=je,e[180]=ye):ye=e[180];let _e;e[181]!==r||e[182]!==t?(_e=s.jsx(Et,{me:r,war:t}),e[181]=r,e[182]=t,e[183]=_e):_e=e[183];let ve;e[184]!==l||e[185]!==t.beigeReasons||e[186]!==t.id?(ve=t.beigeReasons!=null&&l&&!1,e[184]=l,e[185]=t.beigeReasons,e[186]=t.id,e[187]=ve):ve=e[187];let Ne;e[188]!==_e||e[189]!==ve?(Ne=s.jsx("tr",{className:"border-b border border-secondary mb-2",children:s.jsxs("td",{colSpan:100,children:[_e,ve]})}),e[188]=_e,e[189]=ve,e[190]=Ne):Ne=e[190];let Se;return e[191]!==P||e[192]!==fe||e[193]!==ye||e[194]!==Ne?(Se=s.jsx("div",{className:"border-2 border-red-200 dark:border-red-900 bg-slate-500/50 mb-5 rounded-md",children:s.jsxs("table",{className:"table-auto w-full",children:[i,s.jsxs("tbody",{className:"divide-solid",children:[P,fe,ye,Ne]})]})}),e[191]=P,e[192]=fe,e[193]=ye,e[194]=Ne,e[195]=Se):Se=e[195],Se}function we(a){const e=N.c(19),{title:r,attStr:t,defStr:l}=a;let m;e[0]!==t?(m=st(t),e[0]=t,e[1]=m):m=e[1];let i;e[2]!==l?(i=st(l),e[2]=l,e[3]=i):i=e[3];let f;e[4]!==m||e[5]!==i||e[6]!==r?(f=s.jsxs("h5",{children:["Odds ",r,": ",m," vs ",i]}),e[4]=m,e[5]=i,e[6]=r,e[7]=f):f=e[7];let c;e:{let o;e[8]!==t||e[9]!==l?(o=[0,1,2,3].map(p=>({success:p,odds:Wt(t,l,p)*100})).filter(zt),e[8]=t,e[9]=l,e[10]=o):o=e[10];const h=o;if(h.length===0){let p;e[11]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx(at,{odds:100,success:0}),e[11]=p):p=e[11],c=p;break e}let u;e[12]!==h?(u=h.map(Bt),e[12]=h,e[13]=u):u=e[13],c=u}let n;e[14]!==c?(n=s.jsx("div",{className:"flex w-full h-4 text-xs",children:c}),e[14]=c,e[15]=n):n=e[15];let d;return e[16]!==f||e[17]!==n?(d=s.jsxs("div",{children:[f,n]}),e[16]=f,e[17]=n,e[18]=d):d=e[18],d}function Bt(a){const{success:e,odds:r}=a;return s.jsx(at,{odds:r,success:e},e)}function zt(a){const{odds:e}=a;return e>0}function at(a){const e=N.c(13),{odds:r,success:t}=a;if(r<=0)return null;const m=`grow ${["bg-red-600","bg-yellow-600","bg-blue-600","bg-green-600"][t]}`,i=`${r}%`;let f;e[0]!==i?(f={width:i},e[0]=i,e[1]=f):f=e[1];let c;e[2]!==r?(c=Math.round(r),e[2]=r,e[3]=c):c=e[3];let n;e[4]===Symbol.for("react.memo_cache_sentinel")?(n=["Utter Failure","Pyrrhic Victory","Moderate Success","Immense Triumph"],e[4]=n):n=e[4];const d=n[t];let o;e[5]!==c||e[6]!==d?(o=s.jsxs("div",{className:"whitespace-nowrap break-keep overflow-hidden",children:[c,"% ",d]}),e[5]=c,e[6]=d,e[7]=o):o=e[7];let h;return e[8]!==r||e[9]!==m||e[10]!==f||e[11]!==o?(h=s.jsx("div",{className:m,style:f,"aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,children:o}),e[8]=r,e[9]=m,e[10]=f,e[11]=o,e[12]=h):h=e[12],h}function Et(a){const e=N.c(41),{me:r,war:t}=a,[l,m]=ke.useState(!1);let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=()=>m(Lt),e[0]=i):i=e[0];const f=i,c=`w-full btn-sm ${l?"":"collapsed"}`,n=`collapseodds${t.id}`;let d;e[1]!==l?(d=l?s.jsxs(s.Fragment,{children:[s.jsx($,{name:"ChevronUp",className:"inline"}),"Hide"]}):s.jsxs(s.Fragment,{children:[s.jsx($,{name:"ChevronDown",className:"inline"}),"Show"]}),e[1]=l,e[2]=d):d=e[2];let o;e[3]!==l||e[4]!==c||e[5]!==n||e[6]!==d?(o=s.jsxs("button",{className:c,type:"button",onClick:f,"aria-expanded":l,"aria-controls":n,children:[d," odds"]}),e[3]=l,e[4]=c,e[5]=n,e[6]=d,e[7]=o):o=e[7];const h=`collapseodds${t.id}`,u=`headingodds${t.id}`,p=`transition-all duration-200 ease-in-out ${l?"p-1 max-h-screen opacity-100":"max-h-0 opacity-0 overflow-hidden"}`;let x;e[8]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsxs("div",{children:[s.jsx("div",{className:"bg-red-600 align-middle inline-block me-1 border-2 border-black",style:{width:"1em",height:"1em"}}),"Utter Failure"]}),e[8]=x):x=e[8];let b;e[9]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsxs("div",{children:[s.jsx("div",{className:"bg-yellow-600 align-middle inline-block me-1 border-2 border-black",style:{width:"1em",height:"1em"}}),"Pyrrhic Victory"]}),e[9]=b):b=e[9];let v;e[10]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsxs("div",{children:[s.jsx("div",{className:"bg-blue-600 align-middle inline-block me-1 border-2 border-black",style:{width:"1em",height:"1em"}}),"Moderate Success"]}),e[10]=v):v=e[10];let j;e[11]===Symbol.for("react.memo_cache_sentinel")?(j=s.jsxs("div",{children:[s.jsx("div",{className:"bg-green-600 align-middle inline-block me-1 border-2 border-black",style:{width:"1em",height:"1em"}}),"Immense Triumph"]}),e[11]=j):j=e[11];let y;e[12]!==r.soldier||e[13]!==t.ground_str?(y=r.soldier>t.ground_str*.3&&s.jsx(we,{title:"Soldiers (unarmed) v Enemy",attStr:r.soldier,defStr:t.ground_str}),e[12]=r.soldier,e[13]=t.ground_str,e[14]=y):y=e[14];let g;e[15]!==r.soldier||e[16]!==t.ground_str?(g=r.soldier*1.75>t.ground_str*.3&&s.jsx(we,{title:"Soldiers (munitions) v Enemy",attStr:r.soldier*1.75,defStr:t.ground_str}),e[15]=r.soldier,e[16]=t.ground_str,e[17]=g):g=e[17];let _;e[18]!==r.strength||e[19]!==t.ground_str?(_=r.strength>0&&s.jsx(we,{title:"Ground",attStr:r.strength,defStr:t.ground_str}),e[18]=r.strength,e[19]=t.ground_str,e[20]=_):_=e[20];let w;e[21]!==r.aircraft||e[22]!==t.target?(w=r.aircraft>0&&s.jsx(we,{title:"Airstrike",attStr:r.aircraft,defStr:t.target.aircraft}),e[21]=r.aircraft,e[22]=t.target,e[23]=w):w=e[23];let C;e[24]!==r.ship||e[25]!==t.target?(C=r.ship>0&&s.jsx(we,{title:"Naval",attStr:r.ship,defStr:t.target.ship}),e[24]=r.ship,e[25]=t.target,e[26]=C):C=e[26];let k;e[27]!==y||e[28]!==g||e[29]!==_||e[30]!==w||e[31]!==C?(k=s.jsxs("div",{className:"text-sm",children:[x,b,v,j,y,g,_,w,C]}),e[27]=y,e[28]=g,e[29]=_,e[30]=w,e[31]=C,e[32]=k):k=e[32];let S;e[33]!==k||e[34]!==h||e[35]!==u||e[36]!==p?(S=s.jsx("div",{id:h,"aria-labelledby":u,className:p,children:k}),e[33]=k,e[34]=h,e[35]=u,e[36]=p,e[37]=S):S=e[37];let D;return e[38]!==S||e[39]!==o?(D=s.jsxs("div",{className:"bg-card/50 rounded",children:[o,S]}),e[38]=S,e[39]=o,e[40]=D):D=e[40],D}function Lt(a){return!a}function Wt(a,e,r){a=Math.pow(a,.75),e=Math.pow(e,.75);const t=a*.4,l=a,m=e*.4,i=e;if(a<=0)return 0;if(e*2.5<=a)return r===3?1:0;if(l<=m||i<=t)return 0;const f=(l-t)*(i-m),c=Math.min(l,i)-Math.max(t,m);let n=c*c*.5/f;if(a>e&&(n=1-n),n<=0)return 0;if(n>=1)return 1;const d=r,o=3,h=Math.pow(n,d)*Math.pow(1-n,o-d),u=$e(o)/($e(d)*$e(o-d));return h*u}function $e(a){return a<=1?1:a*$e(a-1)}export{_t as AnnouncementSection,gt as AuditComponent,xt as AuditSection,kt as BankAccess,Nt as BankSection,vt as DismissAnnouncements,Mt as GrantSection,Ct as MyWarsSection,we as OddsComponent,at as OddsSuccess,Et as ShowOddsComponent,rt as WarComponent,Dt as WarsComponent,is as default};
