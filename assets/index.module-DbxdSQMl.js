import{R as e,j as t,r as o,l as n}from"./index-Bs_rCQt5.js";function r(e){return()=>e}function i(e){e()}function l(e,t){return o=>e(t(o))}function s(e,t){return()=>e(t)}function c(e,t){return o=>e(t,o)}function u(e){return void 0!==e}function a(){}function d(e,t){return t(e),e}function f(e,t){return t(e)}function h(...e){return e}function m(e,t){return e(1,t)}function p(e,t){e(0,t)}function g(e){e(2)}function x(e){return e(4)}function v(e,t){return m(e,c(t,0))}function I(e,t){const o=e(1,(e=>{o(),t(e)}));return o}function T(e){let t,o;return n=>r=>{t=r,o&&clearTimeout(o),o=setTimeout((()=>{n(t)}),e)}}function S(e,t){return e===t}function w(e=S){let t;return o=>n=>{e(t,n)||(t=n,o(n))}}function C(e){return t=>o=>{e(o)&&t(o)}}function H(e){return t=>l(t,e)}function y(e){return t=>()=>{t(e)}}function R(e,...t){const o=function(...e){return t=>e.reduceRight(f,t)}(...t);return(t,n)=>{switch(t){case 2:return void g(e);case 1:return m(e,o(n))}}}function b(e,t){return o=>n=>{o(t=e(t,n))}}function z(e){return t=>o=>{e>0?e--:t(o)}}function E(e){let t,o=null;return n=>r=>{o=r,!t&&(t=setTimeout((()=>{t=void 0,n(o)}),e))}}function B(...e){const t=new Array(e.length);let o=0,n=null;const r=Math.pow(2,e.length)-1;return e.forEach(((e,i)=>{const l=Math.pow(2,i);m(e,(e=>{const s=o;o|=l,t[i]=e,s!==r&&o===r&&n&&(n(),n=null)}))})),e=>i=>{const l=()=>{e([i].concat(t))};o===r?l():n=l}}function k(e){let t=e;const o=L();return(e,n)=>{switch(e){case 0:t=n;break;case 1:n(t);break;case 4:return t}return o(e,n)}}function F(e,t){return d(k(t),(t=>v(e,t)))}function L(){const e=[];return(t,o)=>{switch(t){case 0:return void e.slice().forEach((e=>{e(o)}));case 2:return void e.splice(0,e.length);case 1:return e.push(o),()=>{const t=e.indexOf(o);t>-1&&e.splice(t,1)}}}}function M(e){return d(L(),(t=>v(e,t)))}function O(e,t=[],{singleton:o}={singleton:!0}){return{constructor:e,dependencies:t,id:j(),singleton:o}}const j=()=>Symbol();function W(...e){const t=L(),o=new Array(e.length);let n=0;const r=Math.pow(2,e.length)-1;return e.forEach(((e,i)=>{const l=Math.pow(2,i);m(e,(e=>{o[i]=e,n|=l,n===r&&p(t,o)}))})),function(e,i){switch(e){case 2:return void g(t);case 1:return n===r&&i(o),m(t,i)}}}function P(e,t=S){return R(e,w(t))}function A(...e){return function(t,o){switch(t){case 2:return;case 1:return function(...e){return()=>{e.map(i)}}(...e.map((e=>m(e,o))))}}}var D=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(D||{});const V=O((()=>{const e=k(3);return{log:k(((t,o,n=1)=>{var r;null!=(r=(typeof globalThis>"u"?window:globalThis).VIRTUOSO_LOG_LEVEL)||x(e)})),logLevel:e}}),[],{singleton:!0});function N(e,t,o){return G(e,t,o).callbackRef}function G(t,o,n){const r=e.useRef(null);let i=e=>{};if(typeof ResizeObserver<"u"){const l=e.useMemo((()=>new ResizeObserver((e=>{const o=()=>{const o=e[0].target;null!==o.offsetParent&&t(o)};n?o():requestAnimationFrame(o)}))),[t]);i=e=>{e&&o?(l.observe(e),r.current=e):(r.current&&l.unobserve(r.current),r.current=null)}}return{callbackRef:i,ref:r}}function _(t,o,n,r,i,l,s,c,u){const a=e.useCallback((e=>{const n=function(e,t,o,n){const r=e.length;if(0===r)return null;const i=[];for(let l=0;l<r;l++){const r=e.item(l);if(void 0===r.dataset.index)continue;const s=parseInt(r.dataset.index),c=parseFloat(r.dataset.knownSize),u=t(r,o);if(0===u&&n("Zero-sized element, this should not happen",{child:r},D.ERROR),u===c)continue;const a=i[i.length-1];0===i.length||a.size!==u||a.endIndex!==s-1?i.push({endIndex:s,size:u,startIndex:s}):i[i.length-1].endIndex++}return i}(e.children,o,c?"offsetWidth":"offsetHeight",i);let u=e.parentElement;for(;!u.dataset.virtuosoScroller;)u=u.parentElement;const a="window"===u.lastElementChild.dataset.viewportType;let d;a&&(d=u.ownerDocument.defaultView);const f=s?c?s.scrollLeft:s.scrollTop:a?c?d.scrollX||d.document.documentElement.scrollLeft:d.scrollY||d.document.documentElement.scrollTop:c?u.scrollLeft:u.scrollTop,h=s?c?s.scrollWidth:s.scrollHeight:a?c?d.document.documentElement.scrollWidth:d.document.documentElement.scrollHeight:c?u.scrollWidth:u.scrollHeight,m=s?c?s.offsetWidth:s.offsetHeight:a?c?d.innerWidth:d.innerHeight:c?u.offsetWidth:u.offsetHeight;r({scrollHeight:h,scrollTop:Math.max(f,0),viewportHeight:m}),null==l||l(c?U("column-gap",getComputedStyle(e).columnGap,i):U("row-gap",getComputedStyle(e).rowGap,i)),null!==n&&t(n)}),[t,o,i,l,s,r]);return G(a,n,u)}function U(e,t,o){return"normal"!==t&&!(null!=t&&t.endsWith("px"))&&o(`${e} was not resolved to pixel value correctly`,t,D.WARN),"normal"===t?0:parseInt(null!=t?t:"0",10)}function K(t,o,n){const r=e.useRef(null),i=e.useCallback((e=>{if(null==e||!e.offsetParent)return;const n=e.getBoundingClientRect(),i=n.width;let l,c;if(o){const e=o.getBoundingClientRect(),t=n.top-e.top;c=e.height-Math.max(0,t),l=t+o.scrollTop}else{const e=s.current.ownerDocument.defaultView;c=e.innerHeight-Math.max(0,n.top),l=n.top+e.scrollY}r.current={offsetTop:l,visibleHeight:c,visibleWidth:i},t(r.current)}),[t,o]),{callbackRef:l,ref:s}=G(i,!0,n),c=e.useCallback((()=>{i(s.current)}),[i,s]);return e.useEffect((()=>{var e;if(o){o.addEventListener("scroll",c);const e=new ResizeObserver((()=>{requestAnimationFrame(c)}));return e.observe(o),()=>{o.removeEventListener("scroll",c),e.unobserve(o)}}{const t=null==(e=s.current)?void 0:e.ownerDocument.defaultView;return null==t||t.addEventListener("scroll",c),null==t||t.addEventListener("resize",c),()=>{null==t||t.removeEventListener("scroll",c),null==t||t.removeEventListener("resize",c)}}}),[c,o]),l}const q=O((()=>{const e=L(),t=L(),o=k(0),n=L(),r=k(0),i=L(),l=L(),s=k(0),c=k(0),u=k(0),a=k(0),d=L(),f=L(),h=k(!1),m=k(!1),p=k(!1);return v(R(e,H((({scrollTop:e})=>e))),t),v(R(e,H((({scrollHeight:e})=>e))),l),v(t,r),{deviation:o,fixedFooterHeight:u,fixedHeaderHeight:c,footerHeight:a,headerHeight:s,horizontalDirection:m,scrollBy:f,scrollContainerState:e,scrollHeight:l,scrollingInProgress:h,scrollTo:d,scrollTop:t,skipAnimationFrameInResizeObserver:p,smoothScrollTargetReached:n,statefulScrollTop:r,viewportHeight:i}}),[],{singleton:!0}),$={lvl:0};function Y(e,t){const o=e.length;if(0===o)return[];let{index:n,value:r}=t(e[0]);const i=[];for(let l=1;l<o;l++){const{index:o,value:s}=t(e[l]);i.push({end:o-1,start:n,value:r}),n=o,r=s}return i.push({end:1/0,start:n,value:r}),i}function X(e){return e===$}function Z(e,t){if(!X(e))return t===e.k?e.v:t<e.k?Z(e.l,t):Z(e.r,t)}function J(e,t,o="k"){if(X(e))return[-1/0,void 0];if(Number(e[o])===t)return[e.k,e.v];if(Number(e[o])<t){const n=J(e.r,t,o);return n[0]===-1/0?[e.k,e.v]:n}return J(e.l,t,o)}function Q(e,t,o){return X(e)?ae(t,o,1):t===e.k?le(e,{k:t,v:o}):t<e.k?de(le(e,{l:Q(e.l,t,o)})):de(le(e,{r:Q(e.r,t,o)}))}function ee(){return $}function te(e,t,o){if(X(e))return[];return function(e){return Y(e,(({k:e,v:t})=>({index:e,value:t})))}(re(e,J(e,t)[0],o))}function oe(e,t){if(X(e))return $;const{k:o,l:n,r:r}=e;if(t===o){if(X(n))return r;if(X(r))return n;{const[t,o]=ue(n);return ie(le(e,{k:t,l:se(n),v:o}))}}return ie(le(e,t<o?{l:oe(n,t)}:{r:oe(r,t)}))}function ne(e){return X(e)?[]:[...ne(e.l),{k:e.k,v:e.v},...ne(e.r)]}function re(e,t,o){if(X(e))return[];const{k:n,l:r,r:i,v:l}=e;let s=[];return n>t&&(s=s.concat(re(r,t,o))),n>=t&&n<=o&&s.push({k:n,v:l}),n<=o&&(s=s.concat(re(i,t,o))),s}function ie(e){const{l:t,lvl:o,r:n}=e;if(n.lvl>=o-1&&t.lvl>=o-1)return e;if(o>n.lvl+1){if(ce(t))return fe(le(e,{lvl:o-1}));if(!X(t)&&!X(t.r))return le(t.r,{l:le(t,{r:t.r.l}),lvl:o,r:le(e,{l:t.r.r,lvl:o-1})});throw new Error("Unexpected empty nodes")}if(ce(e))return he(le(e,{lvl:o-1}));if(X(n)||X(n.l))throw new Error("Unexpected empty nodes");{const t=n.l,r=ce(t)?n.lvl-1:n.lvl;return le(t,{l:le(e,{lvl:o-1,r:t.l}),lvl:t.lvl+1,r:he(le(n,{l:t.r,lvl:r}))})}}function le(e,t){return ae(void 0!==t.k?t.k:e.k,void 0!==t.v?t.v:e.v,void 0!==t.lvl?t.lvl:e.lvl,void 0!==t.l?t.l:e.l,void 0!==t.r?t.r:e.r)}function se(e){return X(e.r)?e.l:ie(le(e,{r:se(e.r)}))}function ce(e){return X(e)||e.lvl>e.r.lvl}function ue(e){return X(e.r)?[e.k,e.v]:ue(e.r)}function ae(e,t,o,n=$,r=$){return{k:e,l:n,lvl:o,r:r,v:t}}function de(e){return he(fe(e))}function fe(e){const{l:t}=e;return X(t)||t.lvl!==e.lvl?e:le(t,{r:le(e,{l:t.r})})}function he(e){const{lvl:t,r:o}=e;return X(o)||X(o.r)||o.lvl!==t||o.r.lvl!==t?e:le(o,{l:le(e,{r:o.l}),lvl:t+1})}function me(e,t){return!(!e||e.startIndex!==t.startIndex||e.endIndex!==t.endIndex)}function pe(e,t){return!(!e||e[0]!==t[0]||e[1]!==t[1])}const ge=O((()=>({recalcInProgress:k(!1)})),[],{singleton:!0});function xe(e,t,o){return e[ve(e,t,o)]}function ve(e,t,o,n=0){let r=e.length-1;for(;n<=r;){const i=Math.floor((n+r)/2),l=o(e[i],t);if(0===l)return i;if(-1===l){if(r-n<2)return i-1;r=i-1}else{if(r===n)return i;n=i+1}}throw new Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function Ie(e,t){return Math.round(e.getBoundingClientRect()[t])}function Te(e){return!X(e.groupOffsetTree)}function Se({index:e},t){return t===e?0:t<e?-1:1}function we({offset:e},t){return t===e?0:t<e?-1:1}function Ce(e,t,o){if(0===t.length)return 0;const{index:n,offset:r,size:i}=xe(t,e,Se),l=e-n,s=i*l+(l-1)*o+r;return s>0?s+o:s}function He(e,t){if(!Te(t))return e;let o=0;for(;t.groupIndices[o]<=e+o;)o++;return e+o}function ye(e,t,o){if(function(e){return typeof e.groupIndex<"u"}(e))return t.groupIndices[e.groupIndex]+1;{let n=He("LAST"===e.index?o:e.index,t);return n=Math.max(0,n,Math.min(o,n)),n}}function Re(e,t,o,n=0){return n>0&&(t=Math.max(t,xe(e,n,Se).offset)),Y(function(e,t,o,n){const r=ve(e,t,n),i=ve(e,o,n,r);return e.slice(r,i+1)}(e,t,o,we),Be)}function be(e,[t,o,n,r]){t.length>0&&n("received item sizes",t,D.DEBUG);const i=e.sizeTree;let l=i,s=0;if(o.length>0&&X(i)&&2===t.length){const e=t[0].size,n=t[1].size;l=o.reduce(((t,o)=>Q(Q(t,o,e),o+1,n)),l)}else[l,s]=function(e,t){let o=X(e)?0:1/0;for(const n of t){const{endIndex:t,size:r,startIndex:i}=n;if(o=Math.min(o,i),X(e)){e=Q(e,0,r);continue}const l=te(e,i-1,t+1);if(l.some(ke(n)))continue;let s=!1,c=!1;for(const{end:o,start:n,value:u}of l)s?(t>=n||r===u)&&(e=oe(e,n)):(c=u!==r,s=!0),o>t&&t>=n&&u!==r&&(e=Q(e,t+1,u));c&&(e=Q(e,i,r))}return[e,o]}(l,t);if(l===i)return e;const{lastIndex:c,lastOffset:u,lastSize:a,offsetTree:d}=Ee(e.offsetTree,s,l,r);return{groupIndices:o,groupOffsetTree:o.reduce(((e,t)=>Q(e,t,Ce(t,d,r))),ee()),lastIndex:c,lastOffset:u,lastSize:a,offsetTree:d,sizeTree:l}}function ze(e,t){let o=0,n=0;for(;o<e;)o+=t[n+1]-t[n]-1,n++;return n-(o===e?0:1)}function Ee(e,t,o,n){let r=e,i=0,l=0,s=0,c=0;if(0!==t){c=ve(r,t-1,Se),s=r[c].offset;const e=J(o,t-1);i=e[0],l=e[1],r.length&&r[c].size===J(o,t)[1]&&(c-=1),r=r.slice(0,c+1)}else r=[];for(const{start:u,value:a}of te(o,t,1/0)){const e=u-i,t=e*l+s+e*n;r.push({index:u,offset:t,size:a}),i=u,s=t,l=a}return{lastIndex:i,lastOffset:s,lastSize:l,offsetTree:r}}function Be(e){return{index:e.index,value:e}}function ke(e){const{endIndex:t,size:o,startIndex:n}=e;return e=>e.start===n&&(e.end===t||e.end===1/0)&&e.value===o}const Fe={offsetHeight:"height",offsetWidth:"width"},Le=O((([{log:e},{recalcInProgress:t}])=>{const o=L(),n=L(),r=F(n,0),i=L(),l=L(),s=k(0),c=k([]),u=k(void 0),a=k(void 0),d=k(((e,t)=>Ie(e,Fe[t]))),f=k(void 0),h=k(0),g={groupIndices:[],groupOffsetTree:ee(),lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:ee()},I=F(R(o,B(c,e,h),b(be,g),w()),g),T=F(R(c,w(),b(((e,t)=>({current:t,prev:e.current})),{current:[],prev:[]}),H((({prev:e})=>e))),[]);v(R(c,C((e=>e.length>0)),B(I,h),H((([e,t,o])=>{const n=e.reduce(((e,n,r)=>Q(e,n,Ce(n,t.offsetTree,o)||r)),ee());return{...t,groupIndices:e,groupOffsetTree:n}}))),I),v(R(n,B(I),C((([e,{lastIndex:t}])=>e<t)),H((([e,{lastIndex:t,lastSize:o}])=>[{endIndex:t,size:o,startIndex:e}]))),o),v(u,a);const S=F(R(u,H((e=>void 0===e))),!0);v(R(a,C((e=>void 0!==e&&X(x(I).sizeTree))),H((e=>[{endIndex:0,size:e,startIndex:0}]))),o);const y=M(R(o,B(I),b((({sizes:e},[t,o])=>({changed:o!==e,sizes:o})),{changed:!1,sizes:g}),H((e=>e.changed))));m(R(s,b(((e,t)=>({diff:e.prev-t,prev:t})),{diff:0,prev:0}),H((e=>e.diff))),(e=>{const{groupIndices:o}=x(I);if(e>0)p(t,!0),p(i,e+ze(e,o));else if(e<0){const t=x(T);t.length>0&&(e-=ze(-e,t)),p(l,e)}})),m(R(s,B(e)),(([e,t])=>{e<0&&t("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:s},D.ERROR)}));const z=M(i);v(R(i,B(I),H((([e,t])=>{const o=t.groupIndices.length>0,n=[],r=t.lastSize;if(o){const o=Z(t.sizeTree,0);let i=0,l=0;for(;i<e;){const e=t.groupIndices[l],s=t.groupIndices.length===l+1?1/0:t.groupIndices[l+1]-e-1;n.push({endIndex:e,size:o,startIndex:e}),n.push({endIndex:e+1+s-1,size:r,startIndex:e+1}),l++,i+=s+1}const s=ne(t.sizeTree);return i!==e&&s.shift(),s.reduce(((t,{k:o,v:n})=>{let r=t.ranges;return 0!==t.prevSize&&(r=[...t.ranges,{endIndex:o+e-1,size:t.prevSize,startIndex:t.prevIndex}]),{prevIndex:o+e,prevSize:n,ranges:r}}),{prevIndex:e,prevSize:0,ranges:n}).ranges}return ne(t.sizeTree).reduce(((t,{k:o,v:n})=>({prevIndex:o+e,prevSize:n,ranges:[...t.ranges,{endIndex:o+e-1,size:t.prevSize,startIndex:t.prevIndex}]})),{prevIndex:0,prevSize:r,ranges:[]}).ranges}))),o);const E=M(R(l,B(I,h),H((([e,{offsetTree:t},o])=>Ce(-e,t,o)))));return v(R(l,B(I,h),H((([e,t,o])=>{if(t.groupIndices.length>0){if(X(t.sizeTree))return t;let n=ee();const r=x(T);let i=0,l=0,s=0;for(;i<-e;){s=r[l];const e=r[l+1]-s-1;l++,i+=e+1}if(n=ne(t.sizeTree).reduce(((t,{k:o,v:n})=>Q(t,Math.max(0,o+e),n)),n),i!==-e){n=Q(n,0,Z(t.sizeTree,s));n=Q(n,1,J(t.sizeTree,1-e)[1])}return{...t,sizeTree:n,...Ee(t.offsetTree,0,n,o)}}{const n=ne(t.sizeTree).reduce(((t,{k:o,v:n})=>Q(t,Math.max(0,o+e),n)),ee());return{...t,sizeTree:n,...Ee(t.offsetTree,0,n,o)}}}))),I),{beforeUnshiftWith:z,data:f,defaultItemSize:a,firstItemIndex:s,fixedItemSize:u,gap:h,groupIndices:c,itemSize:d,listRefresh:y,shiftWith:l,shiftWithOffset:E,sizeRanges:o,sizes:I,statefulTotalCount:r,totalCount:n,trackItemSizes:S,unshiftWith:i}}),h(V,ge),{singleton:!0});function Me(e){return e.reduce(((e,t)=>(e.groupIndices.push(e.totalCount),e.totalCount+=t+1,e)),{groupIndices:[],totalCount:0})}const Oe=O((([{groupIndices:e,sizes:t,totalCount:o},{headerHeight:n,scrollTop:r}])=>{const i=L(),l=L(),s=M(R(i,H(Me)));return v(R(s,H((e=>e.totalCount))),o),v(R(s,H((e=>e.groupIndices))),e),v(R(W(r,t,n),C((([e,t])=>Te(t))),H((([e,t,o])=>J(t.groupOffsetTree,Math.max(e-o,0),"v")[0])),w(),H((e=>[e]))),l),{groupCounts:i,topItemsIndexes:l}}),h(Le,q)),je=O((([{log:e}])=>{const t=k(!1),o=M(R(t,C((e=>e)),w()));return m(t,(t=>{t&&x(e)("props updated",{},D.DEBUG)})),{didMount:o,propsReady:t}}),h(V),{singleton:!0}),We=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function Pe(e){const t="number"==typeof e?{index:e}:e;return t.align||(t.align="start"),(!t.behavior||!We)&&(t.behavior="auto"),t.offset||(t.offset=0),t}const Ae=O((([{gap:e,listRefresh:t,sizes:o,totalCount:n},{fixedFooterHeight:r,fixedHeaderHeight:i,footerHeight:l,headerHeight:s,scrollingInProgress:c,scrollTo:u,smoothScrollTargetReached:a,viewportHeight:d},{log:f}])=>{const h=L(),g=L(),x=k(0);let T=null,S=null,w=null;function C(){T&&(T(),T=null),w&&(w(),w=null),S&&(clearTimeout(S),S=null),p(c,!1)}return v(R(h,B(o,d,n,x,s,l,f),B(e,i,r),H((([[e,o,n,r,i,l,s,u],d,f,x])=>{const v=Pe(e),{align:H,behavior:y,offset:b}=v,z=r-1,E=ye(v,o,z);let B=Ce(E,o.offsetTree,d)+l;"end"===H?(B+=f+J(o.sizeTree,E)[1]-n+x,E===z&&(B+=s)):"center"===H?B+=(f+J(o.sizeTree,E)[1]-n+x)/2:B-=i,b&&(B+=b);const k=t=>{C(),t?(u("retrying to scroll to",{location:e},D.DEBUG),p(h,e)):(p(g,!0),u("list did not change, scroll successful",{},D.DEBUG))};if(C(),"smooth"===y){let e=!1;w=m(t,(t=>{e=e||t})),T=I(a,(()=>{k(e)}))}else T=I(R(t,function(e){return t=>{const o=setTimeout((()=>{t(!1)}),e);return e=>{e&&(t(!0),clearTimeout(o))}}}(150)),k);return S=setTimeout((()=>{C()}),1200),p(c,!0),u("scrolling from index to",{behavior:y,index:E,top:B},D.DEBUG),{behavior:y,top:B}}))),u),{scrollTargetReached:g,scrollToIndex:h,topListHeight:x}}),h(Le,q,V),{singleton:!0});function De(e,t){0==e?t():requestAnimationFrame((()=>{De(e-1,t)}))}function Ve(e,t){const o=t-1;return"number"==typeof e?e:"LAST"===e.index?o:e.index}const Ne=O((([{defaultItemSize:e,listRefresh:t,sizes:o},{scrollTop:n},{scrollTargetReached:r,scrollToIndex:i},{didMount:l}])=>{const s=k(!0),c=k(0),a=k(!0);return v(R(l,B(c),C((([e,t])=>!!t)),y(!1)),s),v(R(l,B(c),C((([e,t])=>!!t)),y(!1)),a),m(R(W(t,l),B(s,o,e,a),C((([[,e],t,{sizeTree:o},n,r])=>e&&(!X(o)||u(n))&&!t&&!r)),B(c)),(([,e])=>{I(r,(()=>{p(a,!0)})),De(4,(()=>{I(n,(()=>{p(s,!0)})),p(i,e)}))})),{initialItemFinalLocationReached:a,initialTopMostItemIndex:c,scrolledToInitialItem:s}}),h(Le,q,Ae,je),{singleton:!0});function Ge(e,t){return Math.abs(e-t)<1.01}const _e="up",Ue="down",Ke={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},qe=O((([{footerHeight:e,headerHeight:t,scrollBy:o,scrollContainerState:n,scrollTop:r,viewportHeight:i}])=>{const l=k(!1),s=k(!0),c=L(),u=L(),a=k(4),d=k(0),f=F(R(A(R(P(r),z(1),y(!0)),R(P(r),z(1),y(!1),T(100))),w()),!1),h=F(R(A(R(o,y(!0)),R(o,y(!1),T(200))),w()),!1);v(R(W(P(r),P(d)),H((([e,t])=>e<=t)),w()),s),v(R(s,E(50)),u);const m=M(R(W(n,P(i),P(t),P(e),P(a)),b(((e,[{scrollHeight:t,scrollTop:o},n,r,i,l])=>{const s={scrollHeight:t,scrollTop:o,viewportHeight:n};if(o+n-t>-l){let t,n;return o>e.state.scrollTop?(t="SCROLLED_DOWN",n=e.state.scrollTop-o):(t="SIZE_DECREASED",n=e.state.scrollTop-o||e.scrollTopDelta),{atBottom:!0,atBottomBecause:t,scrollTopDelta:n,state:s}}let c;return c=s.scrollHeight>e.state.scrollHeight?"SIZE_INCREASED":n<e.state.viewportHeight?"VIEWPORT_HEIGHT_DECREASING":o<e.state.scrollTop?"SCROLLING_UPWARDS":"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:c,state:s}}),Ke),w(((e,t)=>e&&e.atBottom===t.atBottom)))),p=F(R(n,b(((e,{scrollHeight:t,scrollTop:o,viewportHeight:n})=>{if(Ge(e.scrollHeight,t))return{changed:!1,jump:0,scrollHeight:t,scrollTop:o};{const r=t-(o+n)<1;return e.scrollTop!==o&&r?{changed:!0,jump:e.scrollTop-o,scrollHeight:t,scrollTop:o}:{changed:!0,jump:0,scrollHeight:t,scrollTop:o}}}),{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),C((e=>e.changed)),H((e=>e.jump))),0);v(R(m,H((e=>e.atBottom))),l),v(R(l,E(50)),c);const g=k(Ue);v(R(n,H((({scrollTop:e})=>e)),w(),b(((e,t)=>x(h)?{direction:e.direction,prevScrollTop:t}:{direction:t<e.prevScrollTop?_e:Ue,prevScrollTop:t}),{direction:Ue,prevScrollTop:0}),H((e=>e.direction))),g),v(R(n,E(50),y("none")),g);const I=k(0);return v(R(f,C((e=>!e)),y(0)),I),v(R(r,E(100),B(f),C((([e,t])=>!!t)),b((([e,t],[o])=>[t,o]),[0,0]),H((([e,t])=>t-e))),I),{atBottomState:m,atBottomStateChange:c,atBottomThreshold:a,atTopStateChange:u,atTopThreshold:d,isAtBottom:l,isAtTop:s,isScrolling:f,lastJumpDueToItemResize:p,scrollDirection:g,scrollVelocity:I}}),h(q)),$e="top",Ye="bottom",Xe="none";function Ze(e,t,o){return"number"==typeof e?o===_e&&t===$e||o===Ue&&t===Ye?e:0:o===_e?t===$e?e.main:e.reverse:t===Ye?e.main:e.reverse}function Je(e,t){var o;return"number"==typeof e?e:null!=(o=e[t])?o:0}const Qe=O((([{deviation:e,fixedHeaderHeight:t,headerHeight:o,scrollTop:n,viewportHeight:r}])=>{const i=L(),l=k(0),s=k(0),c=k(0);return{increaseViewportBy:s,listBoundary:i,overscan:c,topListHeight:l,visibleRange:F(R(W(P(n),P(r),P(o),P(i,pe),P(c),P(l),P(t),P(e),P(s)),H((([e,t,o,[n,r],i,l,s,c,u])=>{const a=e-c,d=l+s,f=Math.max(o-a,0);let h=Xe;const m=Je(u,$e),p=Je(u,Ye);return n-=c,r+=o+s,(n+=o+s)>e+d-m&&(h=_e),(r-=c)<e-f+t+p&&(h=Ue),h!==Xe?[Math.max(a-o-Ze(i,$e,h)-m,0),a-f-s+t+Ze(i,Ye,h)+p]:null})),C((e=>null!=e)),w(pe)),[0,0])}}),h(q),{singleton:!0});const et={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function tt(e,t,o,n,r,i){const{lastIndex:l,lastOffset:s,lastSize:c}=r;let u=0,a=0;if(e.length>0){u=e[0].offset;const t=e[e.length-1];a=t.offset+t.size}const d=o-l,f=u,h=s+d*c+(d-1)*n-a;return{bottom:a,firstItemIndex:i,items:nt(e,r,i),offsetBottom:h,offsetTop:u,top:f,topItems:nt(t,r,i),topListHeight:t.reduce(((e,t)=>t.size+e),0),totalCount:o}}function ot(e,t,o,n,r,i){let l=0;if(o.groupIndices.length>0)for(const u of o.groupIndices){if(u-l>=e)break;l++}const s=e+l,c=Ve(t,s);return tt(Array.from({length:s}).map(((e,t)=>({data:i[t+c],index:t+c,offset:0,size:0}))),[],s,r,o,n)}function nt(e,t,o){if(0===e.length)return[];if(!Te(t))return e.map((e=>({...e,index:e.index+o,originalIndex:e.index})));const n=e[0].index,r=e[e.length-1].index,i=[],l=te(t.groupOffsetTree,n,r);let s,c=0;for(const u of e){let e;(!s||s.end<u.index)&&(s=l.shift(),c=t.groupIndices.indexOf(s.start)),e=u.index===s.start?{index:c,type:"group"}:{groupIndex:c,index:u.index-(c+1)+o},i.push({...e,data:u.data,offset:u.offset,originalIndex:u.index,size:u.size})}return i}const rt=O((([{data:e,firstItemIndex:t,gap:o,sizes:n,totalCount:r},i,{listBoundary:l,topListHeight:s,visibleRange:c},{initialTopMostItemIndex:a,scrolledToInitialItem:f},{topListHeight:h},m,{didMount:p},{recalcInProgress:g}])=>{const I=k([]),T=k(0),S=L();v(i.topItemsIndexes,I);const y=F(R(W(p,g,P(c,pe),P(r),P(n),P(a),f,P(I),P(t),P(o),e),C((([e,t,,o,,,,,,,n])=>{const r=n&&n.length!==o;return e&&!t&&!r})),H((([,,[e,t],o,n,r,i,l,s,c,u])=>{const a=n,{offsetTree:f,sizeTree:h}=a,m=x(T);if(0===o)return{...et,totalCount:o};if(0===e&&0===t)return 0===m?{...et,totalCount:o}:ot(m,r,n,s,c,u||[]);if(X(h))return m>0?null:tt(function(e,t,o){if(Te(t)){const n=He(e,t);return[{index:J(t.groupOffsetTree,n)[0],offset:0,size:0},{data:null==o?void 0:o[0],index:n,offset:0,size:0}]}return[{data:null==o?void 0:o[0],index:e,offset:0,size:0}]}(Ve(r,o),a,u),[],o,c,a,s);const p=[];if(l.length>0){const e=l[0],t=l[l.length-1];let o=0;for(const n of te(h,e,t)){const r=n.value,i=Math.max(n.start,e),l=Math.min(n.end,t);for(let e=i;e<=l;e++)p.push({data:null==u?void 0:u[e],index:e,offset:o,size:r}),o+=r}}if(!i)return tt([],p,o,c,a,s);const g=l.length>0?l[l.length-1]+1:0,v=Re(f,e,t,g);if(0===v.length)return null;const I=o-1;return tt(d([],(o=>{for(const n of v){const r=n.value;let i=r.offset,l=n.start;const s=r.size;if(r.offset<e){l+=Math.floor((e-r.offset+c)/(s+c));const t=l-n.start;i+=t*s+t*c}l<g&&(i+=(g-l)*s,l=g);const a=Math.min(n.end,I);for(let e=l;e<=a&&!(i>=t);e++)o.push({data:null==u?void 0:u[e],index:e,offset:i,size:s}),i+=s+c}})),p,o,c,a,s)})),C((e=>null!==e)),w()),et);v(R(e,C(u),H((e=>null==e?void 0:e.length))),r),v(R(y,H((e=>e.topListHeight))),h),v(h,s),v(R(y,H((e=>[e.top,e.bottom]))),l),v(R(y,H((e=>e.items))),S);const b=M(R(y,C((({items:e})=>e.length>0)),B(r,e),C((([{items:e},t])=>e[e.length-1].originalIndex===t-1)),H((([,e,t])=>[e-1,t])),w(pe),H((([e])=>e)))),z=M(R(y,E(200),C((({items:e,topItems:t})=>e.length>0&&e[0].originalIndex===t.length)),H((({items:e})=>e[0].index)),w())),O=M(R(y,C((({items:e})=>e.length>0)),H((({items:e})=>{let t=0,o=e.length-1;for(;"group"===e[t].type&&t<o;)t++;for(;"group"===e[o].type&&o>t;)o--;return{endIndex:e[o].index,startIndex:e[t].index}})),w(me)));return{endReached:b,initialItemCount:T,itemsRendered:S,listState:y,rangeChanged:O,startReached:z,topItemsIndexes:I,...m}}),h(Le,Oe,Qe,Ne,Ae,qe,je,ge),{singleton:!0}),it=O((([{fixedFooterHeight:e,fixedHeaderHeight:t,footerHeight:o,headerHeight:n},{listState:r}])=>{const i=L(),l=F(R(W(o,e,n,t,r),H((([e,t,o,n,r])=>e+t+o+n+r.offsetBottom+r.bottom))),0);return v(P(l),i),{totalListHeight:l,totalListHeightChanged:i}}),h(q,rt),{singleton:!0}),lt=O((([{viewportHeight:e},{totalListHeight:t}])=>{const o=k(!1);return{alignToBottom:o,paddingTopAddition:F(R(W(o,e,t),C((([e])=>e)),H((([,e,t])=>Math.max(0,e-t))),E(0),w()),0)}}),h(q,it),{singleton:!0});function st(e){return!!e&&("smooth"===e?"smooth":"auto")}const ct=O((([{listRefresh:e,totalCount:t},{atBottomState:o,isAtBottom:n},{scrollToIndex:r},{scrolledToInitialItem:i},{didMount:l,propsReady:s},{log:c},{scrollingInProgress:u}])=>{const a=k(!1),d=L();let f=null;function h(e){p(r,{align:"end",behavior:e,index:"LAST"})}function g(e){const t=I(o,(t=>{e&&!t.atBottom&&"SIZE_INCREASED"===t.notAtBottomBecause&&!f&&(x(c)("scrolling to bottom due to increased size",{},D.DEBUG),h("auto"))}));setTimeout(t,100)}return m(R(W(R(P(t),z(1)),l),B(P(a),n,i,u),H((([[e,t],o,n,r,i])=>{let l=t&&r,s="auto";return l&&(s=((e,t)=>"function"==typeof e?st(e(t)):t&&st(e))(o,n||i),l=l&&!!s),{followOutputBehavior:s,shouldFollow:l,totalCount:e}})),C((({shouldFollow:e})=>e))),(({followOutputBehavior:t,totalCount:o})=>{f&&(f(),f=null),f=I(e,(()=>{x(c)("following output to ",{totalCount:o},D.DEBUG),h(t),f=null}))})),m(R(W(P(a),t,s),C((([e,,t])=>e&&t)),b((({value:e},[,t])=>({refreshed:e===t,value:t})),{refreshed:!1,value:0}),C((({refreshed:e})=>e)),B(a,t)),(([,e])=>{x(i)&&g(!1!==e)})),m(d,(()=>{g(!1!==x(a))})),m(W(P(a),o),(([e,t])=>{e&&!t.atBottom&&"VIEWPORT_HEIGHT_DECREASING"===t.notAtBottomBecause&&h("auto")})),{autoscrollToBottom:d,followOutput:a}}),h(Le,qe,Ae,Ne,je,V,q)),ut=O((([{data:e,firstItemIndex:t,gap:o,sizes:n},{initialTopMostItemIndex:r},{initialItemCount:i,listState:l},{didMount:s}])=>(v(R(s,B(i),C((([,e])=>0!==e)),B(r,n,t,o,e),H((([[,e],t,o,n,r,i=[]])=>ot(e,t,o,n,r,i)))),l),{})),h(Le,Ne,rt,je),{singleton:!0}),at=O((([{didMount:e},{scrollTo:t},{listState:o}])=>{const n=k(0);return m(R(e,B(n),C((([,e])=>0!==e)),H((([,e])=>({top:e})))),(e=>{I(R(o,z(1),C((e=>e.items.length>1))),(()=>{requestAnimationFrame((()=>{p(t,e)}))}))})),{initialScrollTop:n}}),h(je,q,rt),{singleton:!0}),dt=({itemBottom:e,itemTop:t,locationParams:{align:o,behavior:n,...r},viewportBottom:i,viewportTop:l})=>t<l?{...r,align:null!=o?o:"start",behavior:n}:e>i?{...r,align:null!=o?o:"end",behavior:n}:null,ft=O((([{gap:e,sizes:t,totalCount:o},{fixedFooterHeight:n,fixedHeaderHeight:r,headerHeight:i,scrollingInProgress:l,scrollTop:s,viewportHeight:c},{scrollToIndex:u}])=>{const a=L();return v(R(a,B(t,c,o,i,r,n,s),B(e),H((([[e,t,o,n,r,i,s,c],u])=>{const{align:a,behavior:d,calculateViewLocation:f=dt,done:h,...m}=e,p=ye(e,t,n-1),g=Ce(p,t.offsetTree,u)+r+i,v=f({itemBottom:g+J(t.sizeTree,p)[1],itemTop:g,locationParams:{align:a,behavior:d,...m},viewportBottom:c+o-s,viewportTop:c+i});return v?h&&I(R(l,C((e=>!e)),z(x(l)?1:2)),h):h&&h(),v})),C((e=>null!==e))),u),{scrollIntoView:a}}),h(Le,q,Ae,rt,V),{singleton:!0}),ht=O((([{scrollVelocity:e}])=>{const t=k(!1),o=L(),n=k(!1);return v(R(e,B(n,t,o),C((([e,t])=>!!t)),H((([e,t,o,n])=>{const{enter:r,exit:i}=t;if(o){if(i(e,n))return!1}else if(r(e,n))return!0;return o})),w()),t),m(R(W(t,e,o),B(n)),(([[e,t,o],n])=>{e&&n&&n.change&&n.change(t,o)})),{isSeeking:t,scrollSeekConfiguration:n,scrollSeekRangeChanged:o,scrollVelocity:e}}),h(qe),{singleton:!0}),mt=O((([{scrollContainerState:e,scrollTo:t}])=>{const o=L(),n=L(),r=L(),i=k(!1),l=k(void 0);return v(R(W(o,n),H((([{scrollHeight:e,scrollTop:t,viewportHeight:o},{offsetTop:n}])=>({scrollHeight:e,scrollTop:Math.max(0,t-n),viewportHeight:o})))),e),v(R(t,B(n),H((([e,{offsetTop:t}])=>({...e,top:e.top+t})))),r),{customScrollParent:l,useWindowScroll:i,windowScrollContainerState:o,windowScrollTo:r,windowViewportRect:n}}),h(q)),pt=O((([{sizeRanges:e,sizes:t},{headerHeight:o,scrollTop:n},{initialTopMostItemIndex:r},{didMount:i},{useWindowScroll:l,windowScrollContainerState:s,windowViewportRect:c}])=>{const a=L(),d=k(void 0),f=k(null),h=k(null);return v(s,f),v(c,h),m(R(a,B(t,n,l,f,h,o)),(([e,t,o,n,r,i,l])=>{const s=function(e){return ne(e).map((({k:e,v:t},o,n)=>{const r=n[o+1];return{endIndex:r?r.k-1:1/0,size:t,startIndex:e}}))}(t.sizeTree);n&&null!==r&&null!==i&&(o=r.scrollTop-i.offsetTop),e({ranges:s,scrollTop:o-=l})})),v(R(d,C(u),H(gt)),r),v(R(i,B(d),C((([,e])=>void 0!==e)),w(),H((([,e])=>e.ranges))),e),{getState:a,restoreStateFrom:d}}),h(Le,q,Ne,je,mt));function gt(e){return{align:"start",index:0,offset:e.scrollTop}}const xt=O((([{topItemsIndexes:e}])=>{const t=k(0);return v(R(t,C((e=>e>=0)),H((e=>Array.from({length:e}).map(((e,t)=>t))))),e),{topItemCount:t}}),h(rt));function vt(e){let t,o=!1;return()=>(o||(o=!0,t=e()),t)}const It=vt((()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent))),Tt=O((([{deviation:e,scrollBy:t,scrollingInProgress:o,scrollTop:n},{isAtBottom:r,isScrolling:i,lastJumpDueToItemResize:l,scrollDirection:s},{listState:c},{beforeUnshiftWith:u,gap:a,shiftWithOffset:d,sizes:f},{log:h},{recalcInProgress:g}])=>{const x=M(R(c,B(l),b((([,e,t,o],[{bottom:n,items:r,offsetBottom:i,totalCount:l},s])=>{const c=n+i;let u=0;return t===l&&e.length>0&&r.length>0&&(0===r[0].originalIndex&&0===e[0].originalIndex||(u=c-o,0!==u&&(u+=s))),[u,r,l,c]}),[0,[],0,0]),C((([e])=>0!==e)),B(n,s,o,r,h,g),C((([,e,t,o,,,n])=>!n&&!o&&0!==e&&t===_e)),H((([[e],,,,,t])=>(t("Upward scrolling compensation",{amount:e},D.DEBUG),e)))));function I(o){o>0?(p(t,{behavior:"auto",top:-o}),p(e,0)):(p(e,0),p(t,{behavior:"auto",top:-o}))}return m(R(x,B(e,i)),(([t,o,n])=>{n&&It()?p(e,o-t):I(-t)})),m(R(W(F(i,!1),e,g),C((([e,t,o])=>!e&&!o&&0!==t)),H((([e,t])=>t)),E(1)),I),v(R(d,H((e=>({top:-e})))),t),m(R(u,B(f,a),H((([e,{groupIndices:t,lastSize:o,sizeTree:n},r])=>{function i(e){return e*(o+r)}if(0===t.length)return i(e);{let o=0;const r=Z(n,0);let l=0,s=0;for(;l<e;){l++,o+=r;let n=t.length===s+1?1/0:t[s+1]-t[s]-1;l+n>e&&(o-=r,n=e-l+1),l+=n,o+=i(n),s++}return o}}))),(o=>{p(e,o),requestAnimationFrame((()=>{p(t,{top:o}),requestAnimationFrame((()=>{p(e,0),p(g,!1)}))}))})),{deviation:e}}),h(q,qe,rt,Le,V,ge)),St=O((([e,t,o,n,r,i,l,s,c,u])=>({...e,...t,...o,...n,...r,...i,...l,...s,...c,...u})),h(Qe,ut,je,ht,it,at,lt,mt,ft,V)),wt=O((([{data:e,defaultItemSize:t,firstItemIndex:o,fixedItemSize:n,gap:r,groupIndices:i,itemSize:l,sizeRanges:s,sizes:c,statefulTotalCount:u,totalCount:a,trackItemSizes:d},{initialItemFinalLocationReached:f,initialTopMostItemIndex:h,scrolledToInitialItem:m},p,g,x,{listState:I,topItemsIndexes:T,...S},{scrollToIndex:w},C,{topItemCount:y},{groupCounts:b},z])=>(v(S.rangeChanged,z.scrollSeekRangeChanged),v(R(z.windowViewportRect,H((e=>e.visibleHeight))),p.viewportHeight),{data:e,defaultItemHeight:t,firstItemIndex:o,fixedItemHeight:n,gap:r,groupCounts:b,initialItemFinalLocationReached:f,initialTopMostItemIndex:h,scrolledToInitialItem:m,sizeRanges:s,topItemCount:y,topItemsIndexes:T,totalCount:a,...x,groupIndices:i,itemSize:l,listState:I,scrollToIndex:w,statefulTotalCount:u,trackItemSizes:d,...S,...z,...p,sizes:c,...g})),h(Le,Ne,q,pt,ct,rt,Ae,Tt,xt,Oe,St));function Ct(e,t){const o={},n={};let r=0;const i=e.length;for(;r<i;)n[e[r]]=1,r+=1;for(const l in t)Object.hasOwn(n,l)||(o[l]=t[l]);return o}const Ht=typeof document<"u"?e.useLayoutEffect:e.useEffect;function yt(o,n,i){const l=Object.keys(n.required||{}),u=Object.keys(n.optional||{}),f=Object.keys(n.methods||{}),h=Object.keys(n.events||{}),v=e.createContext({});function I(e,t){e.propsReady&&p(e.propsReady,!1);for(const o of l){p(e[n.required[o]],t[o])}for(const o of u)if(o in t){p(e[n.optional[o]],t[o])}e.propsReady&&p(e.propsReady,!0)}function T(e){return h.reduce(((t,o)=>(t[o]=function(e){let t,o;const n=()=>null==t?void 0:t();return function(r,i){switch(r){case 1:return i?o===i?void 0:(n(),o=i,t=m(e,i),t):(n(),a);case 2:return n(),void(o=null)}}}(e[n.events[o]]),t)),{})}const S=e.forwardRef(((c,a)=>{const{children:x,...S}=c,[w]=e.useState((()=>d(function(e){const t=new Map,o=({constructor:e,dependencies:n,id:r,singleton:i})=>{if(i&&t.has(r))return t.get(r);const l=e(n.map((e=>o(e))));return i&&t.set(r,l),l};return o(e)}(o),(e=>{I(e,S)})))),[C]=e.useState(s(T,w));Ht((()=>{for(const e of h)e in S&&m(C[e],S[e]);return()=>{Object.values(C).map(g)}}),[S,C,w]),Ht((()=>{I(w,S)})),e.useImperativeHandle(a,r(function(e){return f.reduce(((t,o)=>(t[o]=t=>{p(e[n.methods[o]],t)},t)),{})}(w)));const H=i;return t.jsx(v.Provider,{value:w,children:i?t.jsx(H,{...Ct([...l,...u,...h],S),children:x}):x})}));return{Component:S,useEmitter:(t,o)=>{const n=e.useContext(v)[t];Ht((()=>m(n,o)),[o,n])},useEmitterValue:e.version.startsWith("18")?t=>{const o=e.useContext(v)[t],n=e.useCallback((e=>m(o,e)),[o]);return e.useSyncExternalStore(n,(()=>x(o)),(()=>x(o)))}:t=>{const o=e.useContext(v)[t],[n,i]=e.useState(s(x,o));return Ht((()=>m(o,(e=>{e!==n&&i(r(e))}))),[o,n]),n},usePublisher:t=>e.useCallback(c(p,e.useContext(v)[t]),[t])}}const Rt=e.createContext(void 0),bt=e.createContext(void 0),zt=typeof document<"u"?e.useLayoutEffect:e.useEffect;function Et(e){return"self"in e}function Bt(t,o,r,i=a,l,s){const c=e.useRef(null),u=e.useRef(null),d=e.useRef(null),f=e.useCallback((e=>{let r,i,l;const c=e.target;if(function(e){return"body"in e}(c)||Et(c)){const e=Et(c)?c:c.defaultView;l=s?e.scrollX:e.scrollY,r=s?e.document.documentElement.scrollWidth:e.document.documentElement.scrollHeight,i=s?e.innerWidth:e.innerHeight}else l=s?c.scrollLeft:c.scrollTop,r=s?c.scrollWidth:c.scrollHeight,i=s?c.offsetWidth:c.offsetHeight;const a=()=>{t({scrollHeight:r,scrollTop:Math.max(l,0),viewportHeight:i})};e.suppressFlushSync?a():n.flushSync(a),null!==u.current&&(l===u.current||l<=0||l===r-i)&&(u.current=null,o(!0),d.current&&(clearTimeout(d.current),d.current=null))}),[t,o]);return e.useEffect((()=>{const e=l||c.current;return i(l||c.current),f({suppressFlushSync:!0,target:e}),e.addEventListener("scroll",f,{passive:!0}),()=>{i(null),e.removeEventListener("scroll",f)}}),[c,f,r,i,l]),{scrollByCallback:function(e){s&&(e={behavior:e.behavior,left:e.top}),c.current.scrollBy(e)},scrollerRef:c,scrollToCallback:function(e){const n=c.current;if(!n||(s?"offsetWidth"in n&&0===n.offsetWidth:"offsetHeight"in n&&0===n.offsetHeight))return;const r="smooth"===e.behavior;let i,l,a;Et(n)?(l=Math.max(Ie(n.document.documentElement,s?"width":"height"),s?n.document.documentElement.scrollWidth:n.document.documentElement.scrollHeight),i=s?n.innerWidth:n.innerHeight,a=s?window.scrollX:window.scrollY):(l=n[s?"scrollWidth":"scrollHeight"],i=Ie(n,s?"width":"height"),a=n[s?"scrollLeft":"scrollTop"]);const f=l-i;if(e.top=Math.ceil(Math.max(Math.min(f,e.top),0)),Ge(i,l)||e.top===a)return t({scrollHeight:l,scrollTop:a,viewportHeight:i}),void(r&&o(!0));r?(u.current=e.top,d.current&&clearTimeout(d.current),d.current=setTimeout((()=>{d.current=null,u.current=null,o(!0)}),1e3)):u.current=null,s&&(e={behavior:e.behavior,left:e.top}),n.scrollTo(e)}}}const kt="-webkit-sticky",Ft="sticky",Lt=vt((()=>{if(typeof document>"u")return Ft;const e=document.createElement("div");return e.style.position=kt,e.style.position===kt?kt:Ft}));function Mt(e){return e}const Ot=O((([e,t])=>({...e,...t})),h(wt,O((()=>{const e=k((e=>`Item ${e}`)),t=k(null),o=k((e=>`Group ${e}`)),n=k({}),r=k(Mt),i=k("div"),l=k(a),s=(e,t=null)=>F(R(n,H((t=>t[e])),w()),t);return{components:n,computeItemKey:r,context:t,EmptyPlaceholder:s("EmptyPlaceholder"),FooterComponent:s("Footer"),GroupComponent:s("Group","div"),groupContent:o,HeaderComponent:s("Header"),HeaderFooterTag:i,ItemComponent:s("Item","div"),itemContent:e,ListComponent:s("List","div"),ScrollerComponent:s("Scroller","div"),scrollerRef:l,ScrollSeekPlaceholder:s("ScrollSeekPlaceholder"),TopItemListComponent:s("TopItemList")}})))),jt=({height:e})=>t.jsx("div",{style:{height:e}}),Wt={overflowAnchor:"none",position:Lt(),zIndex:1},Pt={overflowAnchor:"none"},At={...Pt,display:"inline-block",height:"100%"},Dt=e.memo((function({showTopList:n=!1}){const r=no("listState"),i=ro("sizeRanges"),l=no("useWindowScroll"),s=no("customScrollParent"),c=ro("windowScrollContainerState"),u=ro("scrollContainerState"),d=s||l?c:u,f=no("itemContent"),h=no("context"),m=no("groupContent"),p=no("trackItemSizes"),g=no("itemSize"),x=no("log"),v=ro("gap"),I=no("horizontalDirection"),{callbackRef:T}=_(i,g,p,n?a:d,x,v,s,I,no("skipAnimationFrameInResizeObserver")),[S,w]=e.useState(0);oo("deviation",(e=>{S!==e&&w(e)}));const C=no("EmptyPlaceholder"),H=no("ScrollSeekPlaceholder")||jt,y=no("ListComponent"),R=no("ItemComponent"),b=no("GroupComponent"),z=no("computeItemKey"),E=no("isSeeking"),B=no("groupIndices").length>0,k=no("alignToBottom"),F=no("initialItemFinalLocationReached"),L=n?{}:{boxSizing:"border-box",...I?{display:"inline-block",height:"100%",marginLeft:0!==S?S:k?"auto":0,paddingLeft:r.offsetTop,paddingRight:r.offsetBottom,whiteSpace:"nowrap"}:{marginTop:0!==S?S:k?"auto":0,paddingBottom:r.offsetBottom,paddingTop:r.offsetTop},...F?{}:{visibility:"hidden"}};return!n&&0===r.totalCount&&C?t.jsx(C,{...Ut(C,h)}):t.jsx(y,{...Ut(y,h),"data-testid":n?"virtuoso-top-item-list":"virtuoso-item-list",ref:T,style:L,children:(n?r.topItems:r.items).map((e=>{const t=e.originalIndex,n=z(t+r.firstItemIndex,e.data,h);return E?o.createElement(H,{...Ut(H,h),height:e.size,index:e.index,key:n,type:e.type||"item",..."group"===e.type?{}:{groupIndex:e.groupIndex}}):"group"===e.type?o.createElement(b,{...Ut(b,h),"data-index":t,"data-item-index":e.index,"data-known-size":e.size,key:n,style:Wt},m(e.index,h)):o.createElement(R,{...Ut(R,h),...Kt(R,e.data),"data-index":t,"data-item-group-index":e.groupIndex,"data-item-index":e.index,"data-known-size":e.size,key:n,style:I?At:Pt},B?f(e.index,e.groupIndex,e.data,h):f(e.index,e.data,h))}))})})),Vt={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},Nt={outline:"none",overflowX:"auto",position:"relative"},Gt=e=>({height:"100%",position:"absolute",top:0,width:"100%",...e?{display:"flex",flexDirection:"column"}:{}}),_t={position:Lt(),top:0,width:"100%",zIndex:1};function Ut(e,t){if("string"!=typeof e)return{context:t}}function Kt(e,t){return{item:"string"==typeof e?void 0:t}}const qt=e.memo((function(){const o=no("HeaderComponent"),n=ro("headerHeight"),r=no("HeaderFooterTag"),i=N(e.useMemo((()=>e=>{n(Ie(e,"height"))}),[n]),!0,no("skipAnimationFrameInResizeObserver")),l=no("context");return o?t.jsx(r,{ref:i,children:t.jsx(o,{...Ut(o,l)})}):null})),$t=e.memo((function(){const o=no("FooterComponent"),n=ro("footerHeight"),r=no("HeaderFooterTag"),i=N(e.useMemo((()=>e=>{n(Ie(e,"height"))}),[n]),!0,no("skipAnimationFrameInResizeObserver")),l=no("context");return o?t.jsx(r,{ref:i,children:t.jsx(o,{...Ut(o,l)})}):null}));function Yt({useEmitter:o,useEmitterValue:n,usePublisher:r}){return e.memo((function({children:e,style:i,...l}){const s=r("scrollContainerState"),c=n("ScrollerComponent"),u=r("smoothScrollTargetReached"),a=n("scrollerRef"),d=n("context"),f=n("horizontalDirection")||!1,{scrollByCallback:h,scrollerRef:m,scrollToCallback:p}=Bt(s,u,c,a,void 0,f);return o("scrollTo",p),o("scrollBy",h),t.jsx(c,{"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,ref:m,style:{...f?Nt:Vt,...i},tabIndex:0,...l,...Ut(c,d),children:e})}))}function Xt({useEmitter:o,useEmitterValue:n,usePublisher:r}){return e.memo((function({children:i,style:l,...s}){const c=r("windowScrollContainerState"),u=n("ScrollerComponent"),a=r("smoothScrollTargetReached"),d=n("totalListHeight"),f=n("deviation"),h=n("customScrollParent"),m=n("context"),p=e.useRef(null),g=n("scrollerRef"),{scrollByCallback:x,scrollerRef:v,scrollToCallback:I}=Bt(c,a,u,g,h);return zt((()=>{var e;return v.current=h||(null==(e=p.current)?void 0:e.ownerDocument.defaultView),()=>{v.current=null}}),[v,h]),o("windowScrollTo",I),o("scrollBy",x),t.jsx(u,{ref:p,"data-virtuoso-scroller":!0,style:{position:"relative",...l,...0!==d?{height:d+f}:{}},...s,...Ut(u,m),children:i})}))}const Zt=({children:o})=>{const n=e.useContext(Rt),r=ro("viewportHeight"),i=ro("fixedItemHeight"),s=no("alignToBottom"),c=no("horizontalDirection"),u=N(e.useMemo((()=>l(r,(e=>Ie(e,c?"width":"height")))),[r,c]),!0,no("skipAnimationFrameInResizeObserver"));return e.useEffect((()=>{n&&(r(n.viewportHeight),i(n.itemHeight))}),[n,r,i]),t.jsx("div",{"data-viewport-type":"element",ref:u,style:Gt(s),children:o})},Jt=({children:o})=>{const n=e.useContext(Rt),r=ro("windowViewportRect"),i=ro("fixedItemHeight"),l=no("customScrollParent"),s=K(r,l,no("skipAnimationFrameInResizeObserver")),c=no("alignToBottom");return e.useEffect((()=>{n&&(i(n.itemHeight),r({offsetTop:0,visibleHeight:n.viewportHeight,visibleWidth:100}))}),[n,r,i]),t.jsx("div",{"data-viewport-type":"window",ref:s,style:Gt(c),children:o})},Qt=({children:e})=>{const o=no("TopItemListComponent")||"div",n=no("headerHeight"),r={..._t,marginTop:`${n}px`},i=no("context");return t.jsx(o,{style:r,...Ut(o,i),children:e})},eo=e.memo((function(e){const o=no("useWindowScroll"),n=no("topItemsIndexes").length>0,r=no("customScrollParent"),i=no("context"),l=r||o?lo:io,s=r||o?Jt:Zt;return t.jsxs(l,{...e,...Ut(l,i),children:[n&&t.jsx(Qt,{children:t.jsx(Dt,{showTopList:!0})}),t.jsxs(s,{children:[t.jsx(qt,{}),t.jsx(Dt,{}),t.jsx($t,{})]})]})})),{Component:to,useEmitter:oo,useEmitterValue:no,usePublisher:ro}=yt(Ot,{events:{atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",endReached:"endReached",groupIndices:"groupIndices",isScrolling:"isScrolling",itemsRendered:"itemsRendered",rangeChanged:"rangeChanged",startReached:"startReached",totalListHeightChanged:"totalListHeightChanged"},methods:{autoscrollToBottom:"autoscrollToBottom",getState:"getState",scrollBy:"scrollBy",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollToIndex:"scrollToIndex"},optional:{alignToBottom:"alignToBottom",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",components:"components",computeItemKey:"computeItemKey",context:"context",customScrollParent:"customScrollParent",data:"data",defaultItemHeight:"defaultItemHeight",firstItemIndex:"firstItemIndex",fixedItemHeight:"fixedItemHeight",followOutput:"followOutput",groupContent:"groupContent",groupCounts:"groupCounts",headerFooterTag:"HeaderFooterTag",horizontalDirection:"horizontalDirection",increaseViewportBy:"increaseViewportBy",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",initialTopMostItemIndex:"initialTopMostItemIndex",itemContent:"itemContent",itemSize:"itemSize",logLevel:"logLevel",overscan:"overscan",restoreStateFrom:"restoreStateFrom",scrollerRef:"scrollerRef",scrollSeekConfiguration:"scrollSeekConfiguration",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver",topItemCount:"topItemCount",totalCount:"totalCount",useWindowScroll:"useWindowScroll"},required:{}},eo),io=Yt({useEmitter:oo,useEmitterValue:no,usePublisher:ro}),lo=Xt({useEmitter:oo,useEmitterValue:no,usePublisher:ro}),so=to,co=O((([e,t])=>({...e,...t})),h(wt,O((()=>{const e=k((e=>t.jsxs("td",{children:["Item $",e]}))),o=k(null),n=k(null),r=k(null),i=k({}),l=k(Mt),s=k(a),c=(e,t=null)=>F(R(i,H((t=>t[e])),w()),t);return{components:i,computeItemKey:l,context:o,EmptyPlaceholder:c("EmptyPlaceholder"),FillerRow:c("FillerRow"),fixedFooterContent:r,fixedHeaderContent:n,itemContent:e,ScrollerComponent:c("Scroller","div"),scrollerRef:s,ScrollSeekPlaceholder:c("ScrollSeekPlaceholder"),TableBodyComponent:c("TableBody","tbody"),TableComponent:c("Table","table"),TableFooterComponent:c("TableFoot","tfoot"),TableHeadComponent:c("TableHead","thead"),TableRowComponent:c("TableRow","tr")}})))),uo=({height:e})=>t.jsx("tr",{children:t.jsx("td",{style:{height:e}})}),ao=({height:e})=>t.jsx("tr",{children:t.jsx("td",{style:{border:0,height:e,padding:0}})}),fo={overflowAnchor:"none"},ho=e.memo((function({showTopList:e=!1}){const n=To("listState"),r=To("computeItemKey"),i=To("firstItemIndex"),l=To("isSeeking"),s=To("ScrollSeekPlaceholder")||uo,c=To("context"),u=To("TableRowComponent"),a=To("fixedHeaderHeight"),d=To("itemContent"),f=(e?n.topItems:[]).reduce(((e,t,o)=>(0===o?e.push(t.size):e.push(e[o-1]+t.size),e)),[]),h=(e?n.topItems:n.items).map((t=>{const n=t.originalIndex,h=r(n+i,t.data,c),m=e?0===n?0:f[n-1]:0;return l?o.createElement(s,{...Ut(s,c),height:t.size,index:t.index,key:h,type:t.type||"item"}):o.createElement(u,{...Ut(u,c),...Kt(u,t.data),"data-index":n,"data-item-index":t.index,"data-known-size":t.size,key:h,style:e?{overflowAnchor:"none",position:"sticky",top:a+m,zIndex:2}:fo},d(t.index,t.data,c))}));return t.jsx(t.Fragment,{children:h})})),mo=e.memo((function(){const o=To("listState"),n=To("topItemsIndexes").length>0,r=So("sizeRanges"),i=To("useWindowScroll"),l=To("customScrollParent"),s=So("windowScrollContainerState"),c=So("scrollContainerState"),u=l||i?s:c,a=To("trackItemSizes"),d=To("itemSize"),f=To("log"),{callbackRef:h,ref:m}=_(r,d,a,u,f,void 0,l,!1,To("skipAnimationFrameInResizeObserver")),[p,g]=e.useState(0);Io("deviation",(e=>{p!==e&&(m.current.style.marginTop=`${e}px`,g(e))}));const x=To("EmptyPlaceholder"),v=To("FillerRow")||ao,I=To("TableBodyComponent"),T=To("paddingTopAddition"),S=To("statefulTotalCount"),w=To("context");if(0===S&&x)return t.jsx(x,{...Ut(x,w)});const C=(n?o.topItems:[]).reduce(((e,t)=>e+t.size),0),H=o.offsetTop+T+p-C,y=o.offsetBottom,R=H>0?t.jsx(v,{context:w,height:H},"padding-top"):null,b=y>0?t.jsx(v,{context:w,height:y},"padding-bottom"):null;return t.jsxs(I,{"data-testid":"virtuoso-item-list",ref:h,...Ut(I,w),children:[R,n&&t.jsx(ho,{showTopList:!0}),t.jsx(ho,{}),b]})})),po=({children:o})=>{const n=e.useContext(Rt),r=So("viewportHeight"),i=So("fixedItemHeight"),s=N(e.useMemo((()=>l(r,(e=>Ie(e,"height")))),[r]),!0,To("skipAnimationFrameInResizeObserver"));return e.useEffect((()=>{n&&(r(n.viewportHeight),i(n.itemHeight))}),[n,r,i]),t.jsx("div",{"data-viewport-type":"element",ref:s,style:Gt(!1),children:o})},go=({children:o})=>{const n=e.useContext(Rt),r=So("windowViewportRect"),i=So("fixedItemHeight"),l=To("customScrollParent"),s=K(r,l,To("skipAnimationFrameInResizeObserver"));return e.useEffect((()=>{n&&(i(n.itemHeight),r({offsetTop:0,visibleHeight:n.viewportHeight,visibleWidth:100}))}),[n,r,i]),t.jsx("div",{"data-viewport-type":"window",ref:s,style:Gt(!1),children:o})},xo=e.memo((function(o){const n=To("useWindowScroll"),r=To("customScrollParent"),i=So("fixedHeaderHeight"),s=So("fixedFooterHeight"),c=To("fixedHeaderContent"),u=To("fixedFooterContent"),a=To("context"),d=N(e.useMemo((()=>l(i,(e=>Ie(e,"height")))),[i]),!0,To("skipAnimationFrameInResizeObserver")),f=N(e.useMemo((()=>l(s,(e=>Ie(e,"height")))),[s]),!0,To("skipAnimationFrameInResizeObserver")),h=r||n?Co:wo,m=r||n?go:po,p=To("TableComponent"),g=To("TableHeadComponent"),x=To("TableFooterComponent"),v=c?t.jsx(g,{ref:d,style:{position:"sticky",top:0,zIndex:2},...Ut(g,a),children:c()},"TableHead"):null,I=u?t.jsx(x,{ref:f,style:{bottom:0,position:"sticky",zIndex:1},...Ut(x,a),children:u()},"TableFoot"):null;return t.jsx(h,{...o,...Ut(h,a),children:t.jsx(m,{children:t.jsxs(p,{style:{borderSpacing:0,overflowAnchor:"none"},...Ut(p,a),children:[v,t.jsx(mo,{},"TableBody"),I]})})})})),{Component:vo,useEmitter:Io,useEmitterValue:To,usePublisher:So}=yt(co,{events:{atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",endReached:"endReached",groupIndices:"groupIndices",isScrolling:"isScrolling",itemsRendered:"itemsRendered",rangeChanged:"rangeChanged",startReached:"startReached",totalListHeightChanged:"totalListHeightChanged"},methods:{getState:"getState",scrollBy:"scrollBy",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollToIndex:"scrollToIndex"},optional:{alignToBottom:"alignToBottom",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",components:"components",computeItemKey:"computeItemKey",context:"context",customScrollParent:"customScrollParent",data:"data",defaultItemHeight:"defaultItemHeight",firstItemIndex:"firstItemIndex",fixedFooterContent:"fixedFooterContent",fixedHeaderContent:"fixedHeaderContent",fixedItemHeight:"fixedItemHeight",followOutput:"followOutput",groupCounts:"groupCounts",increaseViewportBy:"increaseViewportBy",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",initialTopMostItemIndex:"initialTopMostItemIndex",itemContent:"itemContent",itemSize:"itemSize",logLevel:"logLevel",overscan:"overscan",restoreStateFrom:"restoreStateFrom",scrollerRef:"scrollerRef",scrollSeekConfiguration:"scrollSeekConfiguration",topItemCount:"topItemCount",totalCount:"totalCount",useWindowScroll:"useWindowScroll"},required:{}},xo),wo=Yt({useEmitter:Io,useEmitterValue:To,usePublisher:So}),Co=Xt({useEmitter:Io,useEmitterValue:To,usePublisher:So}),Ho=vo,yo={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},Ro={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:bo,floor:zo,max:Eo,min:Bo,round:ko}=Math;function Fo(e,t,o){return Array.from({length:t-e+1}).map(((t,n)=>({data:null===o?null:o[n+e],index:n+e})))}function Lo(e,t){return e&&e.width===t.width&&e.height===t.height}function Mo(e,t){return e&&e.column===t.column&&e.row===t.row}const Oo=O((([{increaseViewportBy:e,listBoundary:t,overscan:o,visibleRange:n},{footerHeight:r,headerHeight:i,scrollBy:l,scrollContainerState:s,scrollTo:c,scrollTop:u,smoothScrollTargetReached:a,viewportHeight:d},f,h,{didMount:g,propsReady:x},{customScrollParent:T,useWindowScroll:S,windowScrollContainerState:b,windowScrollTo:O,windowViewportRect:j},A])=>{const D=k(0),V=k(0),N=k(yo),G=k({height:0,width:0}),_=k({height:0,width:0}),U=L(),K=L(),q=k(0),$=k(null),Y=k({column:0,row:0}),X=L(),Z=L(),J=k(!1),Q=k(0),ee=k(!0),te=k(!1),oe=k(!1);m(R(g,B(Q),C((([e,t])=>!!t))),(()=>{p(ee,!1)})),m(R(W(g,ee,_,G,Q,te),C((([e,t,o,n,,r])=>e&&!t&&0!==o.height&&0!==n.height&&!r))),(([,,,,e])=>{p(te,!0),De(1,(()=>{p(U,e)})),I(R(u),(()=>{p(t,[0,0]),p(ee,!0)}))})),v(R(Z,C((e=>null!=e&&e.scrollTop>0)),y(0)),V),m(R(g,B(Z),C((([,e])=>null!=e))),(([,e])=>{e&&(p(G,e.viewport),p(_,e.item),p(Y,e.gap),e.scrollTop>0&&(p(J,!0),I(R(u,z(1)),(e=>{p(J,!1)})),p(c,{top:e.scrollTop})))})),v(R(G,H((({height:e})=>e))),d),v(R(W(P(G,Lo),P(_,Lo),P(Y,((e,t)=>e&&e.column===t.column&&e.row===t.row)),P(u)),H((([e,t,o,n])=>({gap:o,item:t,scrollTop:n,viewport:e})))),X),v(R(W(P(D),n,P(Y,Mo),P(_,Lo),P(G,Lo),P($),P(V),P(J),P(ee),P(Q)),C((([,,,,,,,e])=>!e)),H((([e,[t,o],n,r,i,l,s,,c,u])=>{const{column:a,row:d}=n,{height:f,width:h}=r,{width:m}=i;if(0===s&&(0===e||0===m))return yo;if(0===h){const t=Ve(u,e);return function(e){return{...Ro,items:e}}(Fo(t,t+Math.max(s-1,0),l))}const p=jo(m,h,a);let g,x;c?0===t&&0===o&&s>0?(g=0,x=s-1):(g=p*zo((t+d)/(f+d)),x=p*bo((o+d)/(f+d))-1,x=Bo(e-1,Eo(x,p-1)),g=Bo(x,Eo(0,g))):(g=0,x=-1);const v=Fo(g,x,l),{bottom:I,top:T}=Wo(i,n,r,v),S=bo(e/p);return{bottom:I,itemHeight:f,items:v,itemWidth:h,offsetBottom:S*f+(S-1)*d-I,offsetTop:T,top:T}}))),N),v(R($,C((e=>null!==e)),H((e=>e.length))),D),v(R(W(G,_,N,Y),C((([e,t,{items:o}])=>o.length>0&&0!==t.height&&0!==e.height)),H((([e,t,{items:o},n])=>{const{bottom:r,top:i}=Wo(e,n,t,o);return[i,r]})),w(pe)),t);const ne=k(!1);v(R(u,B(ne),H((([e,t])=>t||0!==e))),ne);const re=M(R(W(N,D),C((([{items:e}])=>e.length>0)),B(ne),C((([[e,t],o])=>{const n=e.items[e.items.length-1].index===t-1;return(o||e.bottom>0&&e.itemHeight>0&&0===e.offsetBottom&&e.items.length===t)&&n})),H((([[,e]])=>e-1)),w())),ie=M(R(P(N),C((({items:e})=>e.length>0&&0===e[0].index)),y(0),w())),le=M(R(P(N),B(J),C((([{items:e},t])=>e.length>0&&!t)),H((([{items:e}])=>({endIndex:e[e.length-1].index,startIndex:e[0].index}))),w(me),E(0)));v(le,h.scrollSeekRangeChanged),v(R(U,B(G,_,D,Y),H((([e,t,o,n,r])=>{const i=Pe(e),{align:l,behavior:s,offset:c}=i;let u=i.index;"LAST"===u&&(u=n-1),u=Eo(0,u,Bo(n-1,u));let a=Po(t,r,o,u);return"end"===l?a=ko(a-t.height+o.height):"center"===l&&(a=ko(a-t.height/2+o.height/2)),c&&(a+=c),{behavior:s,top:a}}))),c);const se=F(R(N,H((e=>e.offsetBottom+e.bottom))),0);return v(R(j,H((e=>({height:e.visibleHeight,width:e.visibleWidth})))),G),{customScrollParent:T,data:$,deviation:q,footerHeight:r,gap:Y,headerHeight:i,increaseViewportBy:e,initialItemCount:V,itemDimensions:_,overscan:o,restoreStateFrom:Z,scrollBy:l,scrollContainerState:s,scrollHeight:K,scrollTo:c,scrollToIndex:U,scrollTop:u,smoothScrollTargetReached:a,totalCount:D,useWindowScroll:S,viewportDimensions:G,windowScrollContainerState:b,windowScrollTo:O,windowViewportRect:j,...h,gridState:N,horizontalDirection:oe,initialTopMostItemIndex:Q,totalListHeight:se,...f,endReached:re,propsReady:x,rangeChanged:le,startReached:ie,stateChanged:X,stateRestoreInProgress:J,...A}}),h(Qe,q,qe,ht,je,mt,V));function jo(e,t,o){return Eo(1,zo((e+o)/(zo(t)+o)))}function Wo(e,t,o,n){const{height:r}=o;if(void 0===r||0===n.length)return{bottom:0,top:0};const i=Po(e,t,o,n[0].index);return{bottom:Po(e,t,o,n[n.length-1].index)+r,top:i}}function Po(e,t,o,n){const r=jo(e.width,o.width,t.column),i=zo(n/r),l=i*o.height+Eo(0,i-1)*t.row;return l>0?l+t.row:l}const Ao=O((([e,t])=>({...e,...t})),h(Oo,O((()=>{const e=k((e=>`Item ${e}`)),t=k({}),o=k(null),n=k("virtuoso-grid-item"),r=k("virtuoso-grid-list"),i=k(Mt),l=k("div"),s=k(a),c=(e,o=null)=>F(R(t,H((t=>t[e])),w()),o),u=k(!1),d=k(!1);return v(P(d),u),{components:t,computeItemKey:i,context:o,FooterComponent:c("Footer"),HeaderComponent:c("Header"),headerFooterTag:l,itemClassName:n,ItemComponent:c("Item","div"),itemContent:e,listClassName:r,ListComponent:c("List","div"),readyStateChanged:u,reportReadyState:d,ScrollerComponent:c("Scroller","div"),scrollerRef:s,ScrollSeekPlaceholder:c("ScrollSeekPlaceholder","div")}})))),Do=e.memo((function(){const n=qo("gridState"),r=qo("listClassName"),i=qo("itemClassName"),l=qo("itemContent"),s=qo("computeItemKey"),c=qo("isSeeking"),u=$o("scrollHeight"),a=qo("ItemComponent"),d=qo("ListComponent"),f=qo("ScrollSeekPlaceholder"),h=qo("context"),m=$o("itemDimensions"),p=$o("gap"),g=qo("log"),x=qo("stateRestoreInProgress"),v=$o("reportReadyState"),I=N(e.useMemo((()=>e=>{const t=e.parentElement.parentElement.scrollHeight;u(t);const o=e.firstChild;if(o){const{height:e,width:t}=o.getBoundingClientRect();m({height:e,width:t})}p({column:Zo("column-gap",getComputedStyle(e).columnGap,g),row:Zo("row-gap",getComputedStyle(e).rowGap,g)})}),[u,m,p,g]),!0,!1);return zt((()=>{n.itemHeight>0&&n.itemWidth>0&&v(!0)}),[n]),x?null:t.jsx(d,{className:r,ref:I,...Ut(d,h),"data-testid":"virtuoso-item-list",style:{paddingBottom:n.offsetBottom,paddingTop:n.offsetTop},children:n.items.map((e=>{const r=s(e.index,e.data,h);return c?t.jsx(f,{...Ut(f,h),height:n.itemHeight,index:e.index,width:n.itemWidth},r):o.createElement(a,{...Ut(a,h),className:i,"data-index":e.index,key:r},l(e.index,e.data,h))}))})})),Vo=e.memo((function(){const o=qo("HeaderComponent"),n=$o("headerHeight"),r=qo("headerFooterTag"),i=N(e.useMemo((()=>e=>{n(Ie(e,"height"))}),[n]),!0,!1),l=qo("context");return o?t.jsx(r,{ref:i,children:t.jsx(o,{...Ut(o,l)})}):null})),No=e.memo((function(){const o=qo("FooterComponent"),n=$o("footerHeight"),r=qo("headerFooterTag"),i=N(e.useMemo((()=>e=>{n(Ie(e,"height"))}),[n]),!0,!1),l=qo("context");return o?t.jsx(r,{ref:i,children:t.jsx(o,{...Ut(o,l)})}):null})),Go=({children:o})=>{const n=e.useContext(bt),r=$o("itemDimensions"),i=$o("viewportDimensions"),l=N(e.useMemo((()=>e=>{i(e.getBoundingClientRect())}),[i]),!0,!1);return e.useEffect((()=>{n&&(i({height:n.viewportHeight,width:n.viewportWidth}),r({height:n.itemHeight,width:n.itemWidth}))}),[n,i,r]),t.jsx("div",{ref:l,style:Gt(!1),children:o})},_o=({children:o})=>{const n=e.useContext(bt),r=$o("windowViewportRect"),i=$o("itemDimensions"),l=qo("customScrollParent"),s=K(r,l,!1);return e.useEffect((()=>{n&&(i({height:n.itemHeight,width:n.itemWidth}),r({offsetTop:0,visibleHeight:n.viewportHeight,visibleWidth:n.viewportWidth}))}),[n,r,i]),t.jsx("div",{ref:s,style:Gt(!1),children:o})},Uo=e.memo((function({...e}){const o=qo("useWindowScroll"),n=qo("customScrollParent"),r=n||o?Xo:Yo,i=n||o?_o:Go,l=qo("context");return t.jsx(r,{...e,...Ut(r,l),children:t.jsxs(i,{children:[t.jsx(Vo,{}),t.jsx(Do,{}),t.jsx(No,{})]})})})),{useEmitter:Ko,useEmitterValue:qo,usePublisher:$o}=yt(Ao,{events:{atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",endReached:"endReached",isScrolling:"isScrolling",rangeChanged:"rangeChanged",readyStateChanged:"readyStateChanged",startReached:"startReached",stateChanged:"stateChanged"},methods:{scrollBy:"scrollBy",scrollTo:"scrollTo",scrollToIndex:"scrollToIndex"},optional:{components:"components",computeItemKey:"computeItemKey",context:"context",customScrollParent:"customScrollParent",data:"data",headerFooterTag:"headerFooterTag",increaseViewportBy:"increaseViewportBy",initialItemCount:"initialItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",itemClassName:"itemClassName",itemContent:"itemContent",listClassName:"listClassName",logLevel:"logLevel",overscan:"overscan",restoreStateFrom:"restoreStateFrom",scrollerRef:"scrollerRef",scrollSeekConfiguration:"scrollSeekConfiguration",totalCount:"totalCount",useWindowScroll:"useWindowScroll"}},Uo),Yo=Yt({useEmitter:Ko,useEmitterValue:qo,usePublisher:$o}),Xo=Xt({useEmitter:Ko,useEmitterValue:qo,usePublisher:$o});function Zo(e,t,o){return"normal"!==t&&!(null!=t&&t.endsWith("px"))&&o(`${e} was not resolved to pixel value correctly`,t,D.WARN),"normal"===t?0:parseInt(null!=t?t:"0",10)}function Jo(e,t,n){var r=this,i=o.useRef(null),l=o.useRef(0),s=o.useRef(null),c=o.useRef([]),u=o.useRef(),a=o.useRef(),d=o.useRef(e),f=o.useRef(!0);d.current=e;var h="undefined"!=typeof window,m=!t&&0!==t&&h;if("function"!=typeof e)throw new TypeError("Expected a function");t=+t||0;var p=!!(n=n||{}).leading,g=!("trailing"in n)||!!n.trailing,x="maxWait"in n,v="debounceOnServer"in n&&!!n.debounceOnServer,I=x?Math.max(+n.maxWait||0,t):null;o.useEffect((function(){return f.current=!0,function(){f.current=!1}}),[]);var T=o.useMemo((function(){var e=function(e){var t=c.current,o=u.current;return c.current=u.current=null,l.current=e,a.current=d.current.apply(o,t)},o=function(e,t){m&&cancelAnimationFrame(s.current),s.current=m?requestAnimationFrame(e):setTimeout(e,t)},n=function(e){if(!f.current)return!1;var o=e-i.current;return!i.current||o>=t||o<0||x&&e-l.current>=I},T=function(t){return s.current=null,g&&c.current?e(t):(c.current=u.current=null,a.current)},S=function e(){var r=Date.now();if(n(r))return T(r);if(f.current){var s=t-(r-i.current),c=x?Math.min(s,I-(r-l.current)):s;o(e,c)}},w=function(){if(h||v){var d=Date.now(),m=n(d);if(c.current=[].slice.call(arguments),u.current=r,i.current=d,m){if(!s.current&&f.current)return l.current=i.current,o(S,t),p?e(i.current):a.current;if(x)return o(S,t),e(i.current)}return s.current||o(S,t),a.current}};return w.cancel=function(){s.current&&(m?cancelAnimationFrame(s.current):clearTimeout(s.current)),l.current=0,c.current=i.current=u.current=s.current=null},w.isPending=function(){return!!s.current},w.flush=function(){return s.current?T(Date.now()):a.current},w}),[p,x,t,I,g,m,h,v]);return T}function Qo(e,t){return e===t}function en(e,t,n){var r=Qo,i=o.useRef(e),l=o.useState({})[1],s=Jo(o.useCallback((function(e){i.current=e,l({})}),[l]),t,n),c=o.useRef(e);return r(c.current,e)||(s(e),c.current=e),[i.current,s]}export{so as K,en as a,Jo as c,Ho as q};
