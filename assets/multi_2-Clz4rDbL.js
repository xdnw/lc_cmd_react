import{c as v,b as _,R as y,j as i,L as N}from"./index-SOjtd1du.js";import{L as g,w as I}from"./queries-BzWnpVnq.js";import{g as D,B as b}from"./button-C6_F57E5.js";import{r as f,T as j}from"./multi-EgrQW9ag.js";import{E as L}from"./bulkwrapper-CSppeL3K.js";import"./command-utils-BF18nFEX.js";import"./command-meta-Dt1HocaT.js";import"./timestamp-BafVWTh4.js";import"./DialogContext-DiRAa5qs.js";import"./table_util-BV1C7Yj5.js";import"./DataTable-CoJvVKo_.js";import"./dropdown-menu-B_MP3PX6.js";import"./useSuspenseQuery-7uza5ut4.js";function W(){const e=v.c(16),{nation:n}=_(),[s,x]=y.useState(!0);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{x(S)},e[0]=a):a=e[0];const u=a;let t;e[1]!==s?(t=i.jsxs(b,{variant:"ghost",size:"md",className:"text-2xl w-full border-b border-secondary px-2 bg-primary/10 justify-start",onClick:u,children:["Column descriptions ",s?i.jsx(g,{name:"ChevronDown"}):i.jsx(g,{name:"ChevronUp"})]}),e[1]=s,e[2]=t):t=e[2];const d=`transition-all duration-200 ease-in-out ${s?"max-h-0 opacity-0 overflow-hidden":"p-2 opacity-100"}`;let c,h;e[3]===Symbol.for("react.memo_cache_sentinel")?(c=i.jsxs("ul",{className:"p-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Nation"}),": The name of the nation."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Alliance"}),": The name of the alliance the nation belongs to."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Age"}),": The age of the nation in days."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Cities"}),": The number of cities in the nation."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Shared IPs"}),": The number of shared IP addresses between the two nations."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Shared IP %"}),": Percent of nations in both multi reports that are the same (weighted by IP)."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Shared Nation %"}),": Percent of nations in both multi reports that are the same."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Same IP"}),": Last login used the same IP address."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Banned"}),": Indicates if the nation is banned."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Login Diff"}),": The time difference between their last logins."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Same Activity %"}),": The percentage turns both are active within the past 2 weeks."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"% Online"}),": The percentage of turns the nation is active in general within the past 2w."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Discord"}),": The Discord handle of the nation (may be blank even if they have verified in the past)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Discord Linked"}),": Indicates if the Discord account is linked with this bot."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"IRL Verified"}),": Indicates if the nation is verified their IRL identity."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Customization"}),": The amount of basic customization done to the nation (such as flag)."]})]}),h=i.jsx("p",{className:"p-2 bg-primary/20",children:"If the shared % says N/A, it means the nation has not been checked for shared IPs. You can try loading the multi page for that nation, then refreshing this page."}),e[3]=c,e[4]=h):(c=e[3],h=e[4]);let r;e[5]!==d?(r=i.jsxs("div",{className:d,children:[c,h]}),e[5]=d,e[6]=r):r=e[6];let o;e[7]!==t||e[8]!==r?(o=i.jsxs("div",{className:"bg-light/10 border border-light/10 mb-2 rounded",children:[t,r]}),e[7]=t,e[8]=r,e[9]=o):o=e[9];let m;e[10]===Symbol.for("react.memo_cache_sentinel")?(m=D().get("update")??"false",e[10]=m):m=e[10];let l;e[11]!==n?(l=i.jsx(L,{endpoint:I,args:{nation:n,forceUpdate:m},children:k}),e[11]=n,e[12]=l):l=e[12];let p;return e[13]!==o||e[14]!==l?(p=i.jsxs(i.Fragment,{children:[o,l]}),e[13]=o,e[14]=l,e[15]=p):p=e[15],p}function k(e){const{data:n}=e,s=["Nation","Alliance","Age","Cities","Last Active","% Online","Discord","Discord Linked","IRL Verified","Customization","Updated"],x=[[f(n.nationId,n.nation,"nation",n.banned?"BANNED":void 0,void 0),f(n.allianceId,n.alliance,"alliance",void 0,void 0),n.age,n.cities,n.lastActive,n.percentOnline,n.discord,n.discord_linked,n.irl_verified,n.customization,n.dateFetched]],a=["normal","normal","duration_day","comma","diff_ms","percent","normal","normal","normal","percent_100","diff_ms"],u=["Nation","Alliance","Age","Cities","Shared IPs","Shared IP %","Shared Nation %","Same IP","Banned","Login Diff","Same Activity %","% Online","Discord","Discord Linked","IRL Verified","Customization"],t=n.rows.map(C),d=["normal","normal","duration_day","comma","comma","percent","percent","normal","normal","duration_ms","percent","percent","normal","normal","normal","percent_100"];return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-light/10 border border-light/10 p-2",children:[i.jsx(j,{columns:s,data:x,renderers:a}),i.jsx("hr",{className:"my-1"}),n.dateFetched<Date.now()-864e5&&i.jsx(b,{variant:"outline",size:"sm",className:"border-red-800/70",asChild:!0,children:i.jsx(N,{to:"?update=true",children:"Update"})})]}),i.jsx("hr",{className:"my-2"}),i.jsxs("div",{className:"bg-light/10 border border-light/10 rounded-t",children:[i.jsx("h2",{className:"text-2xl w-full border-b border-secondary px-2 bg-primary/10",children:"Shared Networks (Unique IDs)"}),i.jsx("div",{className:"p-2",children:i.jsx(j,{columns:u,data:t,renderers:d,sort:{idx:5,dir:"desc"}})})]})]})}function C(e){return[f(e.id,e.Nation,"nation",e.banned?"BANNED":void 0,"multi_v2"),f(e.alliance_id,e.alliance,"alliance",void 0,void 0),e.age,e.cities,e.shared_ips,e.shared_percent,e.shared_nation_percent,e.same_ip,e.banned?"true":"",e.login_diff,e.same_activity_percent,e.percentOnline,e.discord,e.discord_linked,e.irl_verified,e.customization]}function S(e){return!e}export{W as default};
