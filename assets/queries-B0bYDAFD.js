const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/arrow-right-to-line-B64UyYaA.js","assets/createLucideIcon-C-oU25Wc.js","assets/index-nW9DkA3u.js","assets/index-B6-_B6wI.css","assets/check-D-xPLtpv.js","assets/chevron-down-CuY1qwpa.js","assets/chevron-left-BcUC32Ew.js","assets/chevron-right-Ctt3g0CI.js","assets/chevron-up-Zl_o5PrL.js","assets/circle-t9txqHvg.js","assets/clipboard-C7Ax4qIl.js","assets/dot-DiLebVd8.js","assets/download-CYYonPNb.js","assets/external-link-CqLb5tdO.js","assets/key-round-D4V1gwJK.js","assets/mail-zhmqETg9.js","assets/moon-DtAj6Ogr.js","assets/more-horizontal-DsBK2hf1.js","assets/plane-DNhz8xhM.js","assets/sailboat-CO2TBlQ-.js","assets/settings-bkKxtziO.js","assets/sheet-CoaX5HP2.js","assets/shield-BfWHn98V.js","assets/sun-pxI2s_Tz.js","assets/x-CQqW9oOT.js","assets/git-pull-request-CZgQDvAO.js","assets/book-open-text-CurGUDR3.js","assets/copy-BMBjESXA.js","assets/infinity-C0jLr3xg.js","assets/github-DS18mxxh.js","assets/message-square-text-4jgpM5p7.js","assets/circle-user-round-bUkKLwkb.js","assets/joystick-DdTxNe9C.js","assets/at-sign-CNXgrO_D.js","assets/list-x-DRAWSLY6.js","assets/list-checks-CMDnRfJn.js","assets/eye-off-CQ5IIpAh.js","assets/bug-D_cV3j5n.js","assets/rotate-ccw-h_FGTEOG.js","assets/search-CECQy2_Y.js","assets/log-out-_t-axR2X.js","assets/users-DU4GrkWA.js","assets/message-circle-DnGNrdhJ.js","assets/triangle-alert-DgbSVuTk.js","assets/pause-U9trvXk9.js","assets/play-BOhtv05I.js","assets/user-BjBfS692.js"])))=>i.map(i=>d[i]);
import{S as vt,x as je,y as X,s as ve,z as we,A as Bt,B as Be,C as qe,D as It,E as kt,F as Nt,G as Qe,n as ht,r as w,u as Ct,j as H,_ as E,c as Lt,i as ge}from"./index-nW9DkA3u.js";import{A as Ut,l as Mt}from"./command-utils-CoW9iswN.js";var Vi=class extends vt{constructor(t,e){super(),this.options=e,this.#n=t,this.#i=null,this.#r=je(),this.options.experimental_prefetchInRender||this.#r.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#n;#e=void 0;#d=void 0;#t=void 0;#s;#u;#r;#i;#y;#f;#p;#o;#l;#a;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),Ye(this.#e,this.options)?this.#c():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ie(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ie(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#S(),this.#e.removeObserver(this)}setOptions(t,e){const n=this.options,i=this.#e;if(this.options=this.#n.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof X(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#T(),this.#e.setOptions(this.options),n._defaulted&&!ve(this.options,n)&&this.#n.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&Ke(this.#e,i,this.options,n)&&this.#c(),this.updateResult(e),r&&(this.#e!==i||X(this.options.enabled,this.#e)!==X(n.enabled,this.#e)||we(this.options.staleTime,this.#e)!==we(n.staleTime,this.#e))&&this.#m();const a=this.#g();r&&(this.#e!==i||X(this.options.enabled,this.#e)!==X(n.enabled,this.#e)||a!==this.#a)&&this.#b(a)}getOptimisticResult(t){const e=this.#n.getQueryCache().build(this.#n,t),n=this.createResult(e,t);return Gt(this,n)&&(this.#t=n,this.#u=this.options,this.#s=this.#e.state),n}getCurrentResult(){return this.#t}trackResult(t,e){const n={};return Object.keys(t).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),e?.(i),t[i])})}),n}trackProp(t){this.#h.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#n.defaultQueryOptions(t),n=this.#n.getQueryCache().build(this.#n,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#c({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#t))}#c(t){this.#T();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Bt)),e}#m(){this.#w();const t=we(this.options.staleTime,this.#e);if(Be||this.#t.isStale||!qe(t))return;const n=It(this.#t.dataUpdatedAt,t)+1;this.#o=setTimeout(()=>{this.#t.isStale||this.updateResult()},n)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#b(t){this.#S(),this.#a=t,!(Be||X(this.options.enabled,this.#e)===!1||!qe(this.#a)||this.#a===0)&&(this.#l=setInterval(()=>{(this.options.refetchIntervalInBackground||kt.isFocused())&&this.#c()},this.#a))}#_(){this.#m(),this.#b(this.#g())}#w(){this.#o&&(clearTimeout(this.#o),this.#o=void 0)}#S(){this.#l&&(clearInterval(this.#l),this.#l=void 0)}createResult(t,e){const n=this.#e,i=this.options,r=this.#t,a=this.#s,l=this.#u,m=t!==n?t.state:this.#d,{state:S}=t;let _={...S},R=!1,D;if(e._optimisticResults){const V=this.hasListeners(),K=!V&&Ye(t,e),F=V&&Ke(t,n,e,i);(K||F)&&(_={..._,...Nt(S.data,t.options)}),e._optimisticResults==="isRestoring"&&(_.fetchStatus="idle")}let{error:G,errorUpdatedAt:$,status:P}=_;if(e.select&&_.data!==void 0)if(r&&_.data===a?.data&&e.select===this.#y)D=this.#f;else try{this.#y=e.select,D=e.select(_.data),D=Qe(r?.data,D,e),this.#f=D,this.#i=null}catch(V){this.#i=V}else D=_.data;if(e.placeholderData!==void 0&&D===void 0&&P==="pending"){let V;if(r?.isPlaceholderData&&e.placeholderData===l?.placeholderData)V=r.data;else if(V=typeof e.placeholderData=="function"?e.placeholderData(this.#p?.state.data,this.#p):e.placeholderData,e.select&&V!==void 0)try{V=e.select(V),this.#i=null}catch(K){this.#i=K}V!==void 0&&(P="success",D=Qe(r?.data,V,e),R=!0)}this.#i&&(G=this.#i,D=this.#f,$=Date.now(),P="error");const oe=_.fetchStatus==="fetching",ne=P==="pending",ce=P==="error",ue=ne&&oe,C=D!==void 0,Q={status:P,fetchStatus:_.fetchStatus,isPending:ne,isSuccess:P==="success",isError:ce,isInitialLoading:ue,isLoading:ue,data:D,dataUpdatedAt:_.dataUpdatedAt,error:G,errorUpdatedAt:$,failureCount:_.fetchFailureCount,failureReason:_.fetchFailureReason,errorUpdateCount:_.errorUpdateCount,isFetched:_.dataUpdateCount>0||_.errorUpdateCount>0,isFetchedAfterMount:_.dataUpdateCount>m.dataUpdateCount||_.errorUpdateCount>m.errorUpdateCount,isFetching:oe,isRefetching:oe&&!ne,isLoadingError:ce&&!C,isPaused:_.fetchStatus==="paused",isPlaceholderData:R,isRefetchError:ce&&C,isStale:Pe(t,e),refetch:this.refetch,promise:this.#r};if(this.options.experimental_prefetchInRender){const V=ie=>{Q.status==="error"?ie.reject(Q.error):Q.data!==void 0&&ie.resolve(Q.data)},K=()=>{const ie=this.#r=Q.promise=je();V(ie)},F=this.#r;switch(F.status){case"pending":t.queryHash===n.queryHash&&V(F);break;case"fulfilled":(Q.status==="error"||Q.data!==F.value)&&K();break;case"rejected":(Q.status!=="error"||Q.error!==F.reason)&&K();break}}return Q}updateResult(t){const e=this.#t,n=this.createResult(this.#e,this.options);if(this.#s=this.#e.state,this.#u=this.options,this.#s.data!==void 0&&(this.#p=this.#e),ve(n,e))return;this.#t=n;const i={},r=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!this.#h.size)return!0;const f=new Set(l??this.#h);return this.options.throwOnError&&f.add("error"),Object.keys(this.#t).some(m=>{const S=m;return this.#t[S]!==e[S]&&f.has(S)})};t?.listeners!==!1&&r()&&(i.listeners=!0),this.#x({...i,...t})}#T(){const t=this.#n.getQueryCache().build(this.#n,this.options);if(t===this.#e)return;const e=this.#e;this.#e=t,this.#d=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#x(t){ht.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#t)}),this.#n.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Pt(t,e){return X(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Ye(t,e){return Pt(t,e)||t.state.data!==void 0&&Ie(t,e,e.refetchOnMount)}function Ie(t,e,n){if(X(e.enabled,t)!==!1){const i=typeof n=="function"?n(t):n;return i==="always"||i!==!1&&Pe(t,e)}return!1}function Ke(t,e,n,i){return(t!==e||X(i.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Pe(t,n)}function Pe(t,e){return X(e.enabled,t)!==!1&&t.isStaleByTime(we(e.staleTime,t))}function Gt(t,e){return!ve(t.getCurrentResult(),e)}var dt=w.createContext(!1),Vt=()=>w.useContext(dt);dt.Provider;function Wt(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var zt=w.createContext(Wt()),Ft=()=>w.useContext(zt);function jt(t,e){return typeof t=="function"?t(...e):!!t}function He(){}var qt=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Qt=t=>{w.useEffect(()=>{t.clearReset()},[t])},Yt=({result:t,errorResetBoundary:e,throwOnError:n,query:i,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(r&&t.data===void 0||jt(n,[t.error,i])),Wi=(t,e)=>e.state.data===void 0,Kt=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...n)=>Math.max(e(...n),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Ht=(t,e)=>t.isLoading&&t.isFetching&&!e,$t=(t,e)=>t?.suspense&&e.isPending,$e=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function zi(t,e,n){const i=Ct(),r=Vt(),a=Ft(),l=i.defaultQueryOptions(t);i.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=r?"isRestoring":"optimistic",Kt(l),qt(l,a),Qt(a);const f=!i.getQueryCache().get(l.queryHash),[m]=w.useState(()=>new e(i,l)),S=m.getOptimisticResult(l),_=!r&&t.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(R=>{const D=_?m.subscribe(ht.batchCalls(R)):He;return m.updateResult(),D},[m,_]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),w.useEffect(()=>{m.setOptions(l,{listeners:!1})},[l,m]),$t(l,S))throw $e(l,m,a);if(Yt({result:S,errorResetBoundary:a,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw S.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(l,S),l.experimental_prefetchInRender&&!Be&&Ht(S,r)&&(f?$e(l,m,a):i.getQueryCache().get(l.queryHash)?.promise)?.catch(He).finally(()=>{m.updateResult()}),l.notifyOnChangeProps?S:m.trackResult(S)}const Jt={arrowrighttoline:w.lazy(()=>E(()=>import("./arrow-right-to-line-B64UyYaA.js"),__vite__mapDeps([0,1,2,3]))),check:w.lazy(()=>E(()=>import("./check-D-xPLtpv.js"),__vite__mapDeps([4,1,2,3]))),checkicon:w.lazy(()=>E(()=>import("./check-D-xPLtpv.js"),__vite__mapDeps([4,1,2,3]))),chevrondown:w.lazy(()=>E(()=>import("./chevron-down-CuY1qwpa.js"),__vite__mapDeps([5,1,2,3]))),chevronleft:w.lazy(()=>E(()=>import("./chevron-left-BcUC32Ew.js"),__vite__mapDeps([6,1,2,3]))),chevronright:w.lazy(()=>E(()=>import("./chevron-right-Ctt3g0CI.js"),__vite__mapDeps([7,1,2,3]))),chevronup:w.lazy(()=>E(()=>import("./chevron-up-Zl_o5PrL.js"),__vite__mapDeps([8,1,2,3]))),circle:w.lazy(()=>E(()=>import("./circle-t9txqHvg.js"),__vite__mapDeps([9,1,2,3]))),clipboardicon:w.lazy(()=>E(()=>import("./clipboard-C7Ax4qIl.js"),__vite__mapDeps([10,1,2,3]))),dot:w.lazy(()=>E(()=>import("./dot-DiLebVd8.js"),__vite__mapDeps([11,1,2,3]))),download:w.lazy(()=>E(()=>import("./download-CYYonPNb.js"),__vite__mapDeps([12,1,2,3]))),externallink:w.lazy(()=>E(()=>import("./external-link-CqLb5tdO.js"),__vite__mapDeps([13,1,2,3]))),keyround:w.lazy(()=>E(()=>import("./key-round-D4V1gwJK.js"),__vite__mapDeps([14,1,2,3]))),mail:w.lazy(()=>E(()=>import("./mail-zhmqETg9.js"),__vite__mapDeps([15,1,2,3]))),moon:w.lazy(()=>E(()=>import("./moon-DtAj6Ogr.js"),__vite__mapDeps([16,1,2,3]))),morehorizontal:w.lazy(()=>E(()=>import("./more-horizontal-DsBK2hf1.js"),__vite__mapDeps([17,1,2,3]))),plane:w.lazy(()=>E(()=>import("./plane-DNhz8xhM.js"),__vite__mapDeps([18,1,2,3]))),sailboat:w.lazy(()=>E(()=>import("./sailboat-CO2TBlQ-.js"),__vite__mapDeps([19,1,2,3]))),settings:w.lazy(()=>E(()=>import("./settings-bkKxtziO.js"),__vite__mapDeps([20,1,2,3]))),sheet:w.lazy(()=>E(()=>import("./sheet-CoaX5HP2.js"),__vite__mapDeps([21,1,2,3]))),shield:w.lazy(()=>E(()=>import("./shield-BfWHn98V.js"),__vite__mapDeps([22,1,2,3]))),sun:w.lazy(()=>E(()=>import("./sun-pxI2s_Tz.js"),__vite__mapDeps([23,1,2,3]))),x:w.lazy(()=>E(()=>import("./x-CQqW9oOT.js"),__vite__mapDeps([24,1,2,3]))),gitpullrequest:w.lazy(()=>E(()=>import("./git-pull-request-CZgQDvAO.js"),__vite__mapDeps([25,1,2,3]))),bookopentext:w.lazy(()=>E(()=>import("./book-open-text-CurGUDR3.js"),__vite__mapDeps([26,1,2,3]))),copy:w.lazy(()=>E(()=>import("./copy-BMBjESXA.js"),__vite__mapDeps([27,1,2,3]))),infinity:w.lazy(()=>E(()=>import("./infinity-C0jLr3xg.js"),__vite__mapDeps([28,1,2,3]))),github:w.lazy(()=>E(()=>import("./github-DS18mxxh.js"),__vite__mapDeps([29,1,2,3]))),messagesquaretext:w.lazy(()=>E(()=>import("./message-square-text-4jgpM5p7.js"),__vite__mapDeps([30,1,2,3]))),circleuserround:w.lazy(()=>E(()=>import("./circle-user-round-bUkKLwkb.js"),__vite__mapDeps([31,1,2,3]))),joystick:w.lazy(()=>E(()=>import("./joystick-DdTxNe9C.js"),__vite__mapDeps([32,1,2,3]))),atsign:w.lazy(()=>E(()=>import("./at-sign-CNXgrO_D.js"),__vite__mapDeps([33,1,2,3]))),listx:w.lazy(()=>E(()=>import("./list-x-DRAWSLY6.js"),__vite__mapDeps([34,1,2,3]))),listchecks:w.lazy(()=>E(()=>import("./list-checks-CMDnRfJn.js"),__vite__mapDeps([35,1,2,3]))),eyeoff:w.lazy(()=>E(()=>import("./eye-off-CQ5IIpAh.js"),__vite__mapDeps([36,1,2,3]))),bug:w.lazy(()=>E(()=>import("./bug-D_cV3j5n.js"),__vite__mapDeps([37,1,2,3]))),rotateccw:w.lazy(()=>E(()=>import("./rotate-ccw-h_FGTEOG.js"),__vite__mapDeps([38,1,2,3]))),search:w.lazy(()=>E(()=>import("./search-CECQy2_Y.js"),__vite__mapDeps([39,1,2,3]))),logout:w.lazy(()=>E(()=>import("./log-out-_t-axR2X.js"),__vite__mapDeps([40,1,2,3]))),users:w.lazy(()=>E(()=>import("./users-DU4GrkWA.js"),__vite__mapDeps([41,1,2,3]))),messagecircle:w.lazy(()=>E(()=>import("./message-circle-DnGNrdhJ.js"),__vite__mapDeps([42,1,2,3]))),trianglealert:w.lazy(()=>E(()=>import("./triangle-alert-DgbSVuTk.js"),__vite__mapDeps([43,1,2,3]))),pause:w.lazy(()=>E(()=>import("./pause-U9trvXk9.js"),__vite__mapDeps([44,1,2,3]))),play:w.lazy(()=>E(()=>import("./play-BOhtv05I.js"),__vite__mapDeps([45,1,2,3]))),user:w.lazy(()=>E(()=>import("./user-BjBfS692.js"),__vite__mapDeps([46,1,2,3])))},Fi=H.jsxs("svg",{width:22,height:22,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[H.jsx("circle",{cx:"12",cy:"12",r:"9"}),H.jsx("path",{d:"M12 8v5"}),H.jsx("path",{d:"M12 16h.01"})]}),Xt=t=>{const e=Lt.c(6),{size:n,className:i}=t,r=n===void 0?22:n;let a,l,f;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=H.jsx("circle",{cx:"12",cy:"12",r:"9"}),l=H.jsx("path",{d:"M12 8v5"}),f=H.jsx("path",{d:"M12 16h.01"}),e[0]=a,e[1]=l,e[2]=f):(a=e[0],l=e[1],f=e[2]);let m;return e[3]!==i||e[4]!==r?(m=H.jsxs("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:i,"aria-hidden":"true",children:[a,l,f]}),e[3]=i,e[4]=r,e[5]=m):m=e[5],m},ji=w.memo(({name:t,size:e=22,className:n,fallback:i=H.jsx(Xt,{size:e,className:n}),onClick:r,...a})=>{const l=t.toLowerCase(),f=Jt[l];return H.jsx(w.Suspense,{fallback:i,children:H.jsx(f,{size:e,className:n,onClick:r,...a})})});var ke;try{ke=new TextDecoder}catch{}var y,ee,s=0,L={},v,ae,Y=0,Z=0,z,te,q=[],O,Je={useRecords:!1,mapsAsObjects:!0};class yt{}const mt=new yt;mt.name="MessagePack 0xC1";var se=!1,gt=2,Zt;try{new Function("")}catch{gt=1/0}class pe{constructor(e){e&&(e.useRecords===!1&&e.mapsAsObjects===void 0&&(e.mapsAsObjects=!0),e.sequential&&e.trusted!==!1&&(e.trusted=!0,!e.structures&&e.useRecords!=!1&&(e.structures=[],e.maxSharedStructures||(e.maxSharedStructures=0))),e.structures?e.structures.sharedLength=e.structures.length:e.getStructures&&((e.structures=[]).uninitialized=!0,e.structures.sharedLength=0),e.int64AsNumber&&(e.int64AsType="number")),Object.assign(this,e)}unpack(e,n){if(y)return xt(()=>(Ce(),this?this.unpack(e,n):pe.prototype.unpack.call(Je,e,n)));!e.buffer&&e.constructor===ArrayBuffer&&(e=typeof Buffer<"u"?Buffer.from(e):new Uint8Array(e)),typeof n=="object"?(ee=n.end||e.length,s=n.start||0):(s=0,ee=n>-1?n:e.length),Z=0,ae=null,z=null,y=e;try{O=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(i){throw y=null,e instanceof Uint8Array?i:new Error("Source must be a Uint8Array or Buffer but was a "+(e&&typeof e=="object"?e.constructor.name:typeof e))}if(this instanceof pe){if(L=this,this.structures)return v=this.structures,be(n);(!v||v.length>0)&&(v=[])}else L=Je,(!v||v.length>0)&&(v=[]);return be(n)}unpackMultiple(e,n){let i,r=0;try{se=!0;let a=e.length,l=this?this.unpack(e,a):xe.unpack(e,a);if(n){if(n(l,r,s)===!1)return;for(;s<a;)if(r=s,n(be(),r,s)===!1)return}else{for(i=[l];s<a;)r=s,i.push(be());return i}}catch(a){throw a.lastPosition=r,a.values=i,a}finally{se=!1,Ce()}}_mergeStructures(e,n){e=e||[],Object.isFrozen(e)&&(e=e.map(i=>i.slice(0)));for(let i=0,r=e.length;i<r;i++){let a=e[i];a&&(a.isShared=!0,i>=32&&(a.highByte=i-32>>5))}e.sharedLength=e.length;for(let i in n||[])if(i>=0){let r=e[i],a=n[i];a&&(r&&((e.restoreStructures||(e.restoreStructures=[]))[i]=r),e[i]=a)}return this.structures=e}decode(e,n){return this.unpack(e,n)}}function be(t){try{if(!L.trusted&&!se){let n=v.sharedLength||0;n<v.length&&(v.length=n)}let e;if(L.randomAccessStructure&&y[s]<64&&y[s]>=32&&Zt||(e=M()),z&&(s=z.postBundlePosition,z=null),se&&(v.restoreStructures=null),s==ee)v&&v.restoreStructures&&Xe(),v=null,y=null,te&&(te=null);else{if(s>ee)throw new Error("Unexpected end of MessagePack data");if(!se){let n;try{n=JSON.stringify(e,(i,r)=>typeof r=="bigint"?`${r}n`:r).slice(0,100)}catch(i){n="(JSON view not available "+i+")"}throw new Error("Data read, but end of buffer not reached "+n)}}return e}catch(e){throw v&&v.restoreStructures&&Xe(),Ce(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer")||s>ee)&&(e.incomplete=!0),e}}function Xe(){for(let t in v.restoreStructures)v[t]=v.restoreStructures[t];v.restoreStructures=null}function M(){let t=y[s++];if(t<160)if(t<128){if(t<64)return t;{let e=v[t&63]||L.getStructures&&bt()[t&63];return e?(e.read||(e.read=Ge(e,t&63)),e.read()):t}}else if(t<144)if(t-=128,L.mapsAsObjects){let e={};for(let n=0;n<t;n++){let i=wt();i==="__proto__"&&(i="__proto_"),e[i]=M()}return e}else{let e=new Map;for(let n=0;n<t;n++)e.set(M(),M());return e}else{t-=144;let e=new Array(t);for(let n=0;n<t;n++)e[n]=M();return L.freezeData?Object.freeze(e):e}else if(t<192){let e=t-160;if(Z>=s)return ae.slice(s-Y,(s+=e)-Y);if(Z==0&&ee<140){let n=e<16?Ve(e):_t(e);if(n!=null)return n}return Ne(e)}else{let e;switch(t){case 192:return null;case 193:return z?(e=M(),e>0?z[1].slice(z.position1,z.position1+=e):z[0].slice(z.position0,z.position0-=e)):mt;case 194:return!1;case 195:return!0;case 196:if(e=y[s++],e===void 0)throw new Error("Unexpected end of buffer");return Ee(e);case 197:return e=O.getUint16(s),s+=2,Ee(e);case 198:return e=O.getUint32(s),s+=4,Ee(e);case 199:return le(y[s++]);case 200:return e=O.getUint16(s),s+=2,le(e);case 201:return e=O.getUint32(s),s+=4,le(e);case 202:if(e=O.getFloat32(s),L.useFloat32>2){let n=We[(y[s]&127)<<1|y[s+1]>>7];return s+=4,(n*e+(e>0?.5:-.5)>>0)/n}return s+=4,e;case 203:return e=O.getFloat64(s),s+=8,e;case 204:return y[s++];case 205:return e=O.getUint16(s),s+=2,e;case 206:return e=O.getUint32(s),s+=4,e;case 207:return L.int64AsType==="number"?(e=O.getUint32(s)*4294967296,e+=O.getUint32(s+4)):L.int64AsType==="string"?e=O.getBigUint64(s).toString():L.int64AsType==="auto"?(e=O.getBigUint64(s),e<=BigInt(2)<<BigInt(52)&&(e=Number(e))):e=O.getBigUint64(s),s+=8,e;case 208:return O.getInt8(s++);case 209:return e=O.getInt16(s),s+=2,e;case 210:return e=O.getInt32(s),s+=4,e;case 211:return L.int64AsType==="number"?(e=O.getInt32(s)*4294967296,e+=O.getUint32(s+4)):L.int64AsType==="string"?e=O.getBigInt64(s).toString():L.int64AsType==="auto"?(e=O.getBigInt64(s),e>=BigInt(-2)<<BigInt(52)&&e<=BigInt(2)<<BigInt(52)&&(e=Number(e))):e=O.getBigInt64(s),s+=8,e;case 212:if(e=y[s++],e==114)return rt(y[s++]&63);{let n=q[e];if(n)return n.read?(s++,n.read(M())):n.noBuffer?(s++,n()):n(y.subarray(s,++s));throw new Error("Unknown extension "+e)}case 213:return e=y[s],e==114?(s++,rt(y[s++]&63,y[s++])):le(2);case 214:return le(4);case 215:return le(8);case 216:return le(16);case 217:return e=y[s++],Z>=s?ae.slice(s-Y,(s+=e)-Y):tn(e);case 218:return e=O.getUint16(s),s+=2,Z>=s?ae.slice(s-Y,(s+=e)-Y):nn(e);case 219:return e=O.getUint32(s),s+=4,Z>=s?ae.slice(s-Y,(s+=e)-Y):rn(e);case 220:return e=O.getUint16(s),s+=2,et(e);case 221:return e=O.getUint32(s),s+=4,et(e);case 222:return e=O.getUint16(s),s+=2,tt(e);case 223:return e=O.getUint32(s),s+=4,tt(e);default:if(t>=224)return t-256;if(t===void 0){let n=new Error("Unexpected end of MessagePack data");throw n.incomplete=!0,n}throw new Error("Unknown MessagePack token "+t)}}}const en=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function Ge(t,e){function n(){if(n.count++>gt){let r=t.read=new Function("r","return function(){return "+(L.freezeData?"Object.freeze":"")+"({"+t.map(a=>a==="__proto__"?"__proto_:r()":en.test(a)?a+":r()":"["+JSON.stringify(a)+"]:r()").join(",")+"})}")(M);return t.highByte===0&&(t.read=Ze(e,t.read)),r()}let i={};for(let r=0,a=t.length;r<a;r++){let l=t[r];l==="__proto__"&&(l="__proto_"),i[l]=M()}return L.freezeData?Object.freeze(i):i}return n.count=0,t.highByte===0?Ze(e,n):n}const Ze=(t,e)=>function(){let n=y[s++];if(n===0)return e();let i=t<32?-(t+(n<<5)):t+(n<<5),r=v[i]||bt()[i];if(!r)throw new Error("Record id is not defined for "+i);return r.read||(r.read=Ge(r,t)),r.read()};function bt(){let t=xt(()=>(y=null,L.getStructures()));return v=L._mergeStructures(t,v)}var Ne=me,tn=me,nn=me,rn=me;function me(t){let e;if(t<16&&(e=Ve(t)))return e;if(t>64&&ke)return ke.decode(y.subarray(s,s+=t));const n=s+t,i=[];for(e="";s<n;){const r=y[s++];if((r&128)===0)i.push(r);else if((r&224)===192){const a=y[s++]&63;i.push((r&31)<<6|a)}else if((r&240)===224){const a=y[s++]&63,l=y[s++]&63;i.push((r&31)<<12|a<<6|l)}else if((r&248)===240){const a=y[s++]&63,l=y[s++]&63,f=y[s++]&63;let m=(r&7)<<18|a<<12|l<<6|f;m>65535&&(m-=65536,i.push(m>>>10&1023|55296),m=56320|m&1023),i.push(m)}else i.push(r);i.length>=4096&&(e+=W.apply(String,i),i.length=0)}return i.length>0&&(e+=W.apply(String,i)),e}function et(t){let e=new Array(t);for(let n=0;n<t;n++)e[n]=M();return L.freezeData?Object.freeze(e):e}function tt(t){if(L.mapsAsObjects){let e={};for(let n=0;n<t;n++){let i=wt();i==="__proto__"&&(i="__proto_"),e[i]=M()}return e}else{let e=new Map;for(let n=0;n<t;n++)e.set(M(),M());return e}}var W=String.fromCharCode;function _t(t){let e=s,n=new Array(t);for(let i=0;i<t;i++){const r=y[s++];if((r&128)>0){s=e;return}n[i]=r}return W.apply(String,n)}function Ve(t){if(t<4)if(t<2){if(t===0)return"";{let e=y[s++];if((e&128)>1){s-=1;return}return W(e)}}else{let e=y[s++],n=y[s++];if((e&128)>0||(n&128)>0){s-=2;return}if(t<3)return W(e,n);let i=y[s++];if((i&128)>0){s-=3;return}return W(e,n,i)}else{let e=y[s++],n=y[s++],i=y[s++],r=y[s++];if((e&128)>0||(n&128)>0||(i&128)>0||(r&128)>0){s-=4;return}if(t<6){if(t===4)return W(e,n,i,r);{let a=y[s++];if((a&128)>0){s-=5;return}return W(e,n,i,r,a)}}else if(t<8){let a=y[s++],l=y[s++];if((a&128)>0||(l&128)>0){s-=6;return}if(t<7)return W(e,n,i,r,a,l);let f=y[s++];if((f&128)>0){s-=7;return}return W(e,n,i,r,a,l,f)}else{let a=y[s++],l=y[s++],f=y[s++],m=y[s++];if((a&128)>0||(l&128)>0||(f&128)>0||(m&128)>0){s-=8;return}if(t<10){if(t===8)return W(e,n,i,r,a,l,f,m);{let S=y[s++];if((S&128)>0){s-=9;return}return W(e,n,i,r,a,l,f,m,S)}}else if(t<12){let S=y[s++],_=y[s++];if((S&128)>0||(_&128)>0){s-=10;return}if(t<11)return W(e,n,i,r,a,l,f,m,S,_);let R=y[s++];if((R&128)>0){s-=11;return}return W(e,n,i,r,a,l,f,m,S,_,R)}else{let S=y[s++],_=y[s++],R=y[s++],D=y[s++];if((S&128)>0||(_&128)>0||(R&128)>0||(D&128)>0){s-=12;return}if(t<14){if(t===12)return W(e,n,i,r,a,l,f,m,S,_,R,D);{let G=y[s++];if((G&128)>0){s-=13;return}return W(e,n,i,r,a,l,f,m,S,_,R,D,G)}}else{let G=y[s++],$=y[s++];if((G&128)>0||($&128)>0){s-=14;return}if(t<15)return W(e,n,i,r,a,l,f,m,S,_,R,D,G,$);let P=y[s++];if((P&128)>0){s-=15;return}return W(e,n,i,r,a,l,f,m,S,_,R,D,G,$,P)}}}}}function nt(){let t=y[s++],e;if(t<192)e=t-160;else switch(t){case 217:e=y[s++];break;case 218:e=O.getUint16(s),s+=2;break;case 219:e=O.getUint32(s),s+=4;break;default:throw new Error("Expected string")}return me(e)}function Ee(t){return L.copyBuffers?Uint8Array.prototype.slice.call(y,s,s+=t):y.subarray(s,s+=t)}function le(t){let e=y[s++];if(q[e]){let n;return q[e](y.subarray(s,n=s+=t),i=>{s=i;try{return M()}finally{s=n}})}else throw new Error("Unknown extension type "+e)}var it=new Array(4096);function wt(){let t=y[s++];if(t>=160&&t<192){if(t=t-160,Z>=s)return ae.slice(s-Y,(s+=t)-Y);if(!(Z==0&&ee<180))return Ne(t)}else return s--,St(M());let e=(t<<5^(t>1?O.getUint16(s):t>0?y[s]:0))&4095,n=it[e],i=s,r=s+t-3,a,l=0;if(n&&n.bytes==t){for(;i<r;){if(a=O.getUint32(i),a!=n[l++]){i=1879048192;break}i+=4}for(r+=3;i<r;)if(a=y[i++],a!=n[l++]){i=1879048192;break}if(i===r)return s=i,n.string;r-=3,i=s}for(n=[],it[e]=n,n.bytes=t;i<r;)a=O.getUint32(i),n.push(a),i+=4;for(r+=3;i<r;)a=y[i++],n.push(a);let f=t<16?Ve(t):_t(t);return f!=null?n.string=f:n.string=Ne(t)}function St(t){if(typeof t=="string")return t;if(typeof t=="number"||typeof t=="boolean"||typeof t=="bigint")return t.toString();if(t==null)return t+"";if(L.allowArraysInMapKeys&&Array.isArray(t)&&t.flat().every(e=>["string","number","boolean","bigint"].includes(typeof e)))return t.flat().toString();throw new Error(`Invalid property type for record: ${typeof t}`)}const rt=(t,e)=>{let n=M().map(St),i=t;e!==void 0&&(t=t<32?-((e<<5)+t):(e<<5)+t,n.highByte=e);let r=v[t];return r&&(r.isShared||se)&&((v.restoreStructures||(v.restoreStructures=[]))[t]=r),v[t]=n,n.read=Ge(n,i),n.read()};q[0]=()=>{};q[0].noBuffer=!0;q[66]=t=>{let e=t.byteLength%8||8,n=BigInt(t[0]&128?t[0]-256:t[0]);for(let i=1;i<e;i++)n<<=BigInt(8),n+=BigInt(t[i]);if(t.byteLength!==e){let i=new DataView(t.buffer,t.byteOffset,t.byteLength),r=(a,l)=>{let f=l-a;if(f<=40){let R=i.getBigUint64(a);for(let D=a+8;D<l;D+=8)R<<=64n,R|=i.getBigUint64(D);return R}let m=a+(f>>4<<3),S=r(a,m),_=r(m,l);return S<<BigInt((l-m)*8)|_};n=n<<BigInt((i.byteLength-e)*8)|r(e,i.byteLength)}return n};let at={Error,EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError,AggregateError:typeof AggregateError=="function"?AggregateError:null};q[101]=()=>{let t=M();if(!at[t[0]]){let e=Error(t[1],{cause:t[2]});return e.name=t[0],e}return at[t[0]](t[1],{cause:t[2]})};q[105]=t=>{if(L.structuredClone===!1)throw new Error("Structured clone extension is disabled");let e=O.getUint32(s-4);te||(te=new Map);let n=y[s],i;n>=144&&n<160||n==220||n==221?i=[]:n>=128&&n<144||n==222||n==223?i=new Map:(n>=199&&n<=201||n>=212&&n<=216)&&y[s+1]===115?i=new Set:i={};let r={target:i};te.set(e,r);let a=M();if(r.used)Object.assign(i,a);else return r.target=a;if(i instanceof Map)for(let[l,f]of a.entries())i.set(l,f);if(i instanceof Set)for(let l of Array.from(a))i.add(l);return i};q[112]=t=>{if(L.structuredClone===!1)throw new Error("Structured clone extension is disabled");let e=O.getUint32(s-4),n=te.get(e);return n.used=!0,n.target};q[115]=()=>new Set(M());const Tt=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(t=>t+"Array");let an=typeof globalThis=="object"?globalThis:window;q[116]=t=>{let e=t[0],n=Uint8Array.prototype.slice.call(t,1).buffer,i=Tt[e];if(!i){if(e===16)return n;if(e===17)return new DataView(n);throw new Error("Could not find typed array for code "+e)}return new an[i](n)};q[120]=()=>{let t=M();return new RegExp(t[0],t[1])};const sn=[];q[98]=t=>{let e=(t[0]<<24)+(t[1]<<16)+(t[2]<<8)+t[3],n=s;return s+=e-t.length,z=sn,z=[nt(),nt()],z.position0=0,z.position1=0,z.postBundlePosition=s,s=n,M()};q[255]=t=>t.length==4?new Date((t[0]*16777216+(t[1]<<16)+(t[2]<<8)+t[3])*1e3):t.length==8?new Date(((t[0]<<22)+(t[1]<<14)+(t[2]<<6)+(t[3]>>2))/1e6+((t[3]&3)*4294967296+t[4]*16777216+(t[5]<<16)+(t[6]<<8)+t[7])*1e3):t.length==12?new Date(((t[0]<<24)+(t[1]<<16)+(t[2]<<8)+t[3])/1e6+((t[4]&128?-281474976710656:0)+t[6]*1099511627776+t[7]*4294967296+t[8]*16777216+(t[9]<<16)+(t[10]<<8)+t[11])*1e3):new Date("invalid");function xt(t){let e=ee,n=s,i=Y,r=Z,a=ae,l=te,f=z,m=new Uint8Array(y.slice(0,ee)),S=v,_=v.slice(0,v.length),R=L,D=se,G=t();return ee=e,s=n,Y=i,Z=r,ae=a,te=l,z=f,y=m,se=D,v=S,v.splice(0,v.length,..._),L=R,O=new DataView(y.buffer,y.byteOffset,y.byteLength),G}function Ce(){y=null,te=null,v=null}const We=new Array(147);for(let t=0;t<256;t++)We[t]=+("1e"+Math.floor(45.15-t*.30103));var xe=new pe({useRecords:!1});xe.unpack;xe.unpackMultiple;xe.unpack;let on=new Float32Array(1);new Uint8Array(on.buffer,0,4);let Se;try{Se=new TextEncoder}catch{}let Le,Ue;const he=typeof Buffer<"u",_e=he?function(t){return Buffer.allocUnsafeSlow(t)}:Uint8Array,At=he?Buffer:Uint8Array,st=he?4294967296:2144337920;let c,ye,N,o=0,j,U=null,ln;const cn=21760,un=/[\u0080-\uFFFF]/,fe=Symbol("record-id");class fn extends pe{constructor(e){super(e),this.offset=0;let n,i,r,a,l=At.prototype.utf8Write?function(u,g){return c.utf8Write(u,g,c.byteLength-g)}:Se&&Se.encodeInto?function(u,g){return Se.encodeInto(u,c.subarray(g)).written}:!1,f=this;e||(e={});let m=e&&e.sequential,S=e.structures||e.saveStructures,_=e.maxSharedStructures;if(_==null&&(_=S?32:0),_>8160)throw new Error("Maximum maxSharedStructure is 8160");e.structuredClone&&e.moreTypes==null&&(this.moreTypes=!0);let R=e.maxOwnStructures;R==null&&(R=S?32:64),!this.structures&&e.useRecords!=!1&&(this.structures=[]);let D=_>32||R+_>64,G=_+64,$=_+R+64;if($>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let P=[],oe=0,ne=0;this.pack=this.encode=function(u,g){if(c||(c=new _e(8192),N=c.dataView||(c.dataView=new DataView(c.buffer,0,8192)),o=0),j=c.length-10,j-o<2048?(c=new _e(c.length),N=c.dataView||(c.dataView=new DataView(c.buffer,0,c.length)),j=c.length-10,o=0):o=o+7&2147483640,n=o,g&mn&&(o+=g&255),a=f.structuredClone?new Map:null,f.bundleStrings&&typeof u!="string"?(U=[],U.size=1/0):U=null,r=f.structures,r){r.uninitialized&&(r=f._mergeStructures(f.getStructures()));let p=r.sharedLength||0;if(p>_)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+r.sharedLength);if(!r.transitions){r.transitions=Object.create(null);for(let h=0;h<p;h++){let x=r[h];if(!x)continue;let A,T=r.transitions;for(let I=0,k=x.length;I<k;I++){let J=x[I];A=T[J],A||(A=T[J]=Object.create(null)),T=A}T[fe]=h+64}this.lastNamedStructuresLength=p}m||(r.nextId=p+64)}i&&(i=!1);let d;try{f.randomAccessStructure&&u&&typeof u=="object"?u.constructor===Object?Fe(u):u.constructor!==Map&&!Array.isArray(u)&&!Ue.some(h=>u instanceof h)?Fe(u.toJSON?u.toJSON():u):C(u):C(u);let p=U;if(U&&lt(n,C,0),a&&a.idsToInsert){let h=a.idsToInsert.sort((I,k)=>I.offset>k.offset?1:-1),x=h.length,A=-1;for(;p&&x>0;){let I=h[--x].offset+n;I<p.stringsPosition+n&&A===-1&&(A=0),I>p.position+n?A>=0&&(A+=6):(A>=0&&(N.setUint32(p.position+n,N.getUint32(p.position+n)+A),A=-1),p=p.previous,x++)}A>=0&&p&&N.setUint32(p.position+n,N.getUint32(p.position+n)+A),o+=h.length*6,o>j&&F(o),f.offset=o;let T=pn(c.subarray(n,o),h);return a=null,T}return f.offset=o,g&dn?(c.start=n,c.end=o,c):c.subarray(n,o)}catch(p){throw d=p,p}finally{if(r&&(ce(),i&&f.saveStructures)){let p=r.sharedLength||0,h=c.subarray(n,o),x=hn(r,f);if(!d)return f.saveStructures(x,x.isCompatible)===!1?f.pack(u,g):(f.lastNamedStructuresLength=p,c.length>1073741824&&(c=null),h)}c.length>1073741824&&(c=null),g&yn&&(o=n)}};const ce=()=>{ne<10&&ne++;let u=r.sharedLength||0;if(r.length>u&&!m&&(r.length=u),oe>1e4)r.transitions=null,ne=0,oe=0,P.length>0&&(P=[]);else if(P.length>0&&!m){for(let g=0,d=P.length;g<d;g++)P[g][fe]=0;P=[]}},ue=u=>{var g=u.length;g<16?c[o++]=144|g:g<65536?(c[o++]=220,c[o++]=g>>8,c[o++]=g&255):(c[o++]=221,N.setUint32(o,g),o+=4);for(let d=0;d<g;d++)C(u[d])},C=u=>{o>j&&(c=F(o));var g=typeof u,d;if(g==="string"){let p=u.length;if(U&&p>=4&&p<4096){if((U.size+=p)>cn){let T,I=(U[0]?U[0].length*3+U[1].length:0)+10;o+I>j&&(c=F(o+I));let k;U.position?(k=U,c[o]=200,o+=3,c[o++]=98,T=o-n,o+=4,lt(n,C,0),N.setUint16(T+n-3,o-n-T)):(c[o++]=214,c[o++]=98,T=o-n,o+=4),U=["",""],U.previous=k,U.size=0,U.position=T}let A=un.test(u);U[A?0:1]+=u,c[o++]=193,C(A?-p:p);return}let h;p<32?h=1:p<256?h=2:p<65536?h=3:h=5;let x=p*3;if(o+x>j&&(c=F(o+x)),p<64||!l){let A,T,I,k=o+h;for(A=0;A<p;A++)T=u.charCodeAt(A),T<128?c[k++]=T:T<2048?(c[k++]=T>>6|192,c[k++]=T&63|128):(T&64512)===55296&&((I=u.charCodeAt(A+1))&64512)===56320?(T=65536+((T&1023)<<10)+(I&1023),A++,c[k++]=T>>18|240,c[k++]=T>>12&63|128,c[k++]=T>>6&63|128,c[k++]=T&63|128):(c[k++]=T>>12|224,c[k++]=T>>6&63|128,c[k++]=T&63|128);d=k-o-h}else d=l(u,o+h);d<32?c[o++]=160|d:d<256?(h<2&&c.copyWithin(o+2,o+1,o+1+d),c[o++]=217,c[o++]=d):d<65536?(h<3&&c.copyWithin(o+3,o+2,o+2+d),c[o++]=218,c[o++]=d>>8,c[o++]=d&255):(h<5&&c.copyWithin(o+5,o+3,o+3+d),c[o++]=219,N.setUint32(o,d),o+=4),o+=d}else if(g==="number")if(u>>>0===u)u<32||u<128&&this.useRecords===!1||u<64&&!this.randomAccessStructure?c[o++]=u:u<256?(c[o++]=204,c[o++]=u):u<65536?(c[o++]=205,c[o++]=u>>8,c[o++]=u&255):(c[o++]=206,N.setUint32(o,u),o+=4);else if(u>>0===u)u>=-32?c[o++]=256+u:u>=-128?(c[o++]=208,c[o++]=u+256):u>=-32768?(c[o++]=209,N.setInt16(o,u),o+=2):(c[o++]=210,N.setInt32(o,u),o+=4);else{let p;if((p=this.useFloat32)>0&&u<4294967296&&u>=-2147483648){c[o++]=202,N.setFloat32(o,u);let h;if(p<4||(h=u*We[(c[o]&127)<<1|c[o+1]>>7])>>0===h){o+=4;return}else o--}c[o++]=203,N.setFloat64(o,u),o+=8}else if(g==="object"||g==="function")if(!u)c[o++]=192;else{if(a){let h=a.get(u);if(h){if(!h.id){let x=a.idsToInsert||(a.idsToInsert=[]);h.id=x.push(h)}c[o++]=214,c[o++]=112,N.setUint32(o,h.id),o+=4;return}else a.set(u,{offset:o-n})}let p=u.constructor;if(p===Object)K(u);else if(p===Array)ue(u);else if(p===Map)if(this.mapAsEmptyObject)c[o++]=128;else{d=u.size,d<16?c[o++]=128|d:d<65536?(c[o++]=222,c[o++]=d>>8,c[o++]=d&255):(c[o++]=223,N.setUint32(o,d),o+=4);for(let[h,x]of u)C(h),C(x)}else{for(let h=0,x=Le.length;h<x;h++){let A=Ue[h];if(u instanceof A){let T=Le[h];if(T.write){T.type&&(c[o++]=212,c[o++]=T.type,c[o++]=0);let de=T.write.call(this,u);de===u?Array.isArray(u)?ue(u):K(u):C(de);return}let I=c,k=N,J=o;c=null;let re;try{re=T.pack.call(this,u,de=>(c=I,I=null,o+=de,o>j&&F(o),{target:c,targetView:N,position:o-de}),C)}finally{I&&(c=I,N=k,o=J,j=c.length-10)}re&&(re.length+o>j&&F(re.length+o),o=ot(re,c,o,T.type));return}}if(Array.isArray(u))ue(u);else{if(u.toJSON){const h=u.toJSON();if(h!==u)return C(h)}if(g==="function")return C(this.writeFunction&&this.writeFunction(u));K(u)}}}else if(g==="boolean")c[o++]=u?195:194;else if(g==="bigint"){if(u<9223372036854776e3&&u>=-9223372036854776e3)c[o++]=211,N.setBigInt64(o,u);else if(u<18446744073709552e3&&u>0)c[o++]=207,N.setBigUint64(o,u);else if(this.largeBigIntToFloat)c[o++]=203,N.setFloat64(o,Number(u));else{if(this.largeBigIntToString)return C(u.toString());if(this.useBigIntExtension||this.moreTypes){let p=u<0?BigInt(-1):BigInt(0),h;if(u>>BigInt(65536)===p){let x=BigInt(18446744073709552e3)-BigInt(1),A=[];for(;A.push(u&x),u>>BigInt(63)!==p;)u>>=BigInt(64);h=new Uint8Array(new BigUint64Array(A).buffer),h.reverse()}else{let x=u<0,A=(x?~u:u).toString(16);if(A.length%2?A="0"+A:parseInt(A.charAt(0),16)>=8&&(A="00"+A),he)h=Buffer.from(A,"hex");else{h=new Uint8Array(A.length/2);for(let T=0;T<h.length;T++)h[T]=parseInt(A.slice(T*2,T*2+2),16)}if(x)for(let T=0;T<h.length;T++)h[T]=~h[T]}h.length+o>j&&F(h.length+o),o=ot(h,c,o,66);return}else throw new RangeError(u+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension, or set largeBigIntToFloat to convert to float-64, or set largeBigIntToString to convert to string")}o+=8}else if(g==="undefined")this.encodeUndefinedAsNil?c[o++]=192:(c[o++]=212,c[o++]=0,c[o++]=0);else throw new Error("Unknown type: "+g)},Ae=this.variableMapSize||this.coercibleKeyAsNumber||this.skipValues?u=>{let g;if(this.skipValues){g=[];for(let h in u)(typeof u.hasOwnProperty!="function"||u.hasOwnProperty(h))&&!this.skipValues.includes(u[h])&&g.push(h)}else g=Object.keys(u);let d=g.length;d<16?c[o++]=128|d:d<65536?(c[o++]=222,c[o++]=d>>8,c[o++]=d&255):(c[o++]=223,N.setUint32(o,d),o+=4);let p;if(this.coercibleKeyAsNumber)for(let h=0;h<d;h++){p=g[h];let x=Number(p);C(isNaN(x)?p:x),C(u[p])}else for(let h=0;h<d;h++)C(p=g[h]),C(u[p])}:u=>{c[o++]=222;let g=o-n;o+=2;let d=0;for(let p in u)(typeof u.hasOwnProperty!="function"||u.hasOwnProperty(p))&&(C(p),C(u[p]),d++);if(d>65535)throw new Error('Object is too large to serialize with fast 16-bit map size, use the "variableMapSize" option to serialize this object');c[g+++n]=d>>8,c[g+n]=d&255},Q=this.useRecords===!1?Ae:e.progressiveRecords&&!D?u=>{let g,d=r.transitions||(r.transitions=Object.create(null)),p=o++-n,h;for(let x in u)if(typeof u.hasOwnProperty!="function"||u.hasOwnProperty(x)){if(g=d[x],g)d=g;else{let A=Object.keys(u),T=d;d=r.transitions;let I=0;for(let k=0,J=A.length;k<J;k++){let re=A[k];g=d[re],g||(g=d[re]=Object.create(null),I++),d=g}p+n+1==o?(o--,ie(d,A,I)):ze(d,A,p,I),h=!0,d=T[x]}C(u[x])}if(!h){let x=d[fe];x?c[p+n]=x:ze(d,Object.keys(u),p,0)}}:u=>{let g,d=r.transitions||(r.transitions=Object.create(null)),p=0;for(let x in u)(typeof u.hasOwnProperty!="function"||u.hasOwnProperty(x))&&(g=d[x],g||(g=d[x]=Object.create(null),p++),d=g);let h=d[fe];h?h>=96&&D?(c[o++]=((h-=96)&31)+96,c[o++]=h>>5):c[o++]=h:ie(d,d.__keys__||Object.keys(u),p);for(let x in u)(typeof u.hasOwnProperty!="function"||u.hasOwnProperty(x))&&C(u[x])},V=typeof this.useRecords=="function"&&this.useRecords,K=V?u=>{V(u)?Q(u):Ae(u)}:Q,F=u=>{let g;if(u>16777216){if(u-n>st)throw new Error("Packed buffer would be larger than maximum buffer size");g=Math.min(st,Math.round(Math.max((u-n)*(u>67108864?1.25:2),4194304)/4096)*4096)}else g=(Math.max(u-n<<2,c.length-1)>>12)+1<<12;let d=new _e(g);return N=d.dataView||(d.dataView=new DataView(d.buffer,0,g)),u=Math.min(u,c.length),c.copy?c.copy(d,0,n,u):d.set(c.slice(n,u)),o-=n,n=0,j=d.length-10,c=d},ie=(u,g,d)=>{let p=r.nextId;p||(p=64),p<G&&this.shouldShareStructure&&!this.shouldShareStructure(g)?(p=r.nextOwnId,p<$||(p=G),r.nextOwnId=p+1):(p>=$&&(p=G),r.nextId=p+1);let h=g.highByte=p>=96&&D?p-96>>5:-1;u[fe]=p,u.__keys__=g,r[p-64]=g,p<G?(g.isShared=!0,r.sharedLength=p-63,i=!0,h>=0?(c[o++]=(p&31)+96,c[o++]=h):c[o++]=p):(h>=0?(c[o++]=213,c[o++]=114,c[o++]=(p&31)+96,c[o++]=h):(c[o++]=212,c[o++]=114,c[o++]=p),d&&(oe+=ne*d),P.length>=R&&(P.shift()[fe]=0),P.push(u),C(g))},ze=(u,g,d,p)=>{let h=c,x=o,A=j,T=n;c=ye,o=0,n=0,c||(ye=c=new _e(8192)),j=c.length-10,ie(u,g,p),ye=c;let I=o;if(c=h,o=x,j=A,n=T,I>1){let k=o+I-1;k>j&&F(k);let J=d+n;c.copyWithin(J+I,J+1,o),c.set(ye.slice(0,I),J),o=k}else c[d+n]=ye[0]},Fe=u=>{let g=ln(u,c,n,o,r,F,(d,p,h)=>{if(h)return i=!0;o=p;let x=c;return C(d),ce(),x!==c?{position:o,targetView:N,target:c}:o},this);if(g===0)return K(u);o=g}}useBuffer(e){c=e,c.dataView||(c.dataView=new DataView(c.buffer,c.byteOffset,c.byteLength)),N=c.dataView,o=0}set position(e){o=e}get position(){return o}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}Ue=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,DataView,yt];Le=[{pack(t,e,n){let i=t.getTime()/1e3;if((this.useTimestamp32||t.getMilliseconds()===0)&&i>=0&&i<4294967296){let{target:r,targetView:a,position:l}=e(6);r[l++]=214,r[l++]=255,a.setUint32(l,i)}else if(i>0&&i<4294967296){let{target:r,targetView:a,position:l}=e(10);r[l++]=215,r[l++]=255,a.setUint32(l,t.getMilliseconds()*4e6+(i/1e3/4294967296>>0)),a.setUint32(l+4,i)}else if(isNaN(i)){if(this.onInvalidDate)return e(0),n(this.onInvalidDate());let{target:r,targetView:a,position:l}=e(3);r[l++]=212,r[l++]=255,r[l++]=255}else{let{target:r,targetView:a,position:l}=e(15);r[l++]=199,r[l++]=12,r[l++]=255,a.setUint32(l,t.getMilliseconds()*1e6),a.setBigInt64(l+4,BigInt(Math.floor(i)))}}},{pack(t,e,n){if(this.setAsEmptyObject)return e(0),n({});let i=Array.from(t),{target:r,position:a}=e(this.moreTypes?3:0);this.moreTypes&&(r[a++]=212,r[a++]=115,r[a++]=0),n(i)}},{pack(t,e,n){let{target:i,position:r}=e(this.moreTypes?3:0);this.moreTypes&&(i[r++]=212,i[r++]=101,i[r++]=0),n([t.name,t.message,t.cause])}},{pack(t,e,n){let{target:i,position:r}=e(this.moreTypes?3:0);this.moreTypes&&(i[r++]=212,i[r++]=120,i[r++]=0),n([t.source,t.flags])}},{pack(t,e){this.moreTypes?De(t,16,e):Re(he?Buffer.from(t):new Uint8Array(t),e)}},{pack(t,e){let n=t.constructor;n!==At&&this.moreTypes?De(t,Tt.indexOf(n.name),e):Re(t,e)}},{pack(t,e){this.moreTypes?De(t,17,e):Re(he?Buffer.from(t):new Uint8Array(t),e)}},{pack(t,e){let{target:n,position:i}=e(1);n[i]=193}}];function De(t,e,n,i){let r=t.byteLength;if(r+1<256){var{target:a,position:l}=n(4+r);a[l++]=199,a[l++]=r+1}else if(r+1<65536){var{target:a,position:l}=n(5+r);a[l++]=200,a[l++]=r+1>>8,a[l++]=r+1&255}else{var{target:a,position:l,targetView:f}=n(7+r);a[l++]=201,f.setUint32(l,r+1),l+=4}a[l++]=116,a[l++]=e,t.buffer||(t=new Uint8Array(t)),a.set(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),l)}function Re(t,e){let n=t.byteLength;var i,r;if(n<256){var{target:i,position:r}=e(n+2);i[r++]=196,i[r++]=n}else if(n<65536){var{target:i,position:r}=e(n+3);i[r++]=197,i[r++]=n>>8,i[r++]=n&255}else{var{target:i,position:r,targetView:a}=e(n+5);i[r++]=198,a.setUint32(r,n),r+=4}i.set(t,r)}function ot(t,e,n,i){let r=t.length;switch(r){case 1:e[n++]=212;break;case 2:e[n++]=213;break;case 4:e[n++]=214;break;case 8:e[n++]=215;break;case 16:e[n++]=216;break;default:r<256?(e[n++]=199,e[n++]=r):r<65536?(e[n++]=200,e[n++]=r>>8,e[n++]=r&255):(e[n++]=201,e[n++]=r>>24,e[n++]=r>>16&255,e[n++]=r>>8&255,e[n++]=r&255)}return e[n++]=i,e.set(t,n),n+=r,n}function pn(t,e){let n,i=e.length*6,r=t.length-i;for(;n=e.pop();){let a=n.offset,l=n.id;t.copyWithin(a+i,a,r),i-=6;let f=a+i;t[f++]=214,t[f++]=105,t[f++]=l>>24,t[f++]=l>>16&255,t[f++]=l>>8&255,t[f++]=l&255,r=a}return t}function lt(t,e,n){if(U.length>0){N.setUint32(U.position+t,o+n-U.position-t),U.stringsPosition=o-t;let i=U;U=null,e(i[0]),e(i[1])}}function hn(t,e){return t.isCompatible=n=>{let i=!n||(e.lastNamedStructuresLength||0)===n.length;return i||e._mergeStructures(n),i},t}let Et=new fn({useRecords:!1});Et.pack;Et.pack;const dn=512,yn=1024,mn=2048,gn=new pe({largeBigIntToFloat:!0,mapsAsObjects:!0,bundleStrings:!0,int64AsType:"number"});var bn=Object.defineProperty,_n=(t,e,n)=>e in t?bn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,B=(t,e,n)=>_n(t,typeof e!="symbol"?e+"":e,n);class Te{constructor(e){B(this,"endpoint"),B(this,"query"),B(this,"update_ms"),B(this,"cache"),B(this,"data"),B(this,"error"),this.endpoint=e.endpoint,this.query=Dt(e.query),this.update_ms=e.update_ms,this.cache=e.cache,this.data=e.data??null,this.error=e.error??null}clone(){return new Te({endpoint:this.endpoint,query:this.query,update_ms:this.update_ms,cache:this.cache?{...this.cache}:void 0,data:this.data,error:this.error})}}class wn{constructor(e){B(this,"apiUrl"),B(this,"batchEndpoint"),B(this,"defaultBatchWaitMs"),B(this,"maxBatchSize"),B(this,"defaultCacheType"),B(this,"defaultCacheDurationMs"),B(this,"credentials"),B(this,"extraHeaders"),B(this,"fetchFn"),B(this,"unpackFn"),B(this,"debug"),B(this,"pendingByKey",new Map),B(this,"queue",[]),B(this,"dispatchTimer",null),B(this,"dispatchDeadlineMs",null),B(this,"memoryCache",new Map),B(this,"lastMemorySweepMs",0),this.apiUrl=e.apiUrl,this.batchEndpoint=e.batchEndpoint??"query",this.defaultBatchWaitMs=e.defaultBatchWaitMs??50,this.maxBatchSize=e.maxBatchSize,this.defaultCacheType=e.defaultCacheType??"Memory",this.defaultCacheDurationMs=e.defaultCacheDurationMs??3e4,this.credentials=e.credentials??"include",this.extraHeaders=e.headers,this.fetchFn=e.fetchFn??fetch.bind(globalThis),this.unpackFn=e.unpackFn??(n=>gn.unpack(n)),this.debug=e.debug??!1}fillOutCache(e,n,i={}){const r=this.hashQuery(n);return this.normalizeCache(e,r,i)}fetchBulk(e){const{endpoint:n,query:i}=e,r=e.cache!=null,a=this.hashQuery(i),l=r?this.normalizeCache(n,a,e.cache):void 0;if(l){const S=this.loadFromCache(l);if(S!=null)return Promise.resolve(new Te({endpoint:n,query:i,update_ms:Date.now(),cache:l?pt(l):void 0,data:S,error:null}))}const f=this.makeGroupKey(n,a,r);let m=this.pendingByKey.get(f);if(m||(m={key:f,endpoint:n,query:Dt(i),useCache:r,status:"queued",subscribers:[]},this.pendingByKey.set(f,m),this.queue.push(f)),m.status==="queued"){const S=e.batch_wait_ms??this.defaultBatchWaitMs;this.scheduleDispatch(S),this.maxBatchSize!=null&&this.queue.length>=this.maxBatchSize&&this.scheduleDispatch(0)}return new Promise((S,_)=>{m.subscribers.push({cache:l?pt(l):void 0,resolve:R=>S(R),reject:_})})}async fetchSingle(e,n,i){const r=i!=null,a=this.hashQuery(n),l=r?this.normalizeCache(e,a,i):void 0;if(l){const G=this.loadFromCache(l);if(G!=null)return G}const f=this.buildUrl(e),m=Tn(n),S=ct({"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8",Accept:"application/msgpack"},this.extraHeaders),_=await this.fetchFn(f,{method:"POST",headers:S,body:m,credentials:this.credentials});if(!_.ok)throw new Error(`Failed to fetch: ${_.status} ${_.statusText}`);const R=await _.arrayBuffer(),D=this.unpackFn(new Uint8Array(R));return l&&this.extractError(D)==null&&this.saveToCache(l,D),D}scheduleDispatch(e){const n=Math.max(0,e),r=Date.now()+n;if(this.dispatchTimer==null){this.dispatchDeadlineMs=r,this.dispatchTimer=setTimeout(()=>{this.dispatchTimer=null,this.dispatchDeadlineMs=null,this.dispatch()},n);return}if(this.dispatchDeadlineMs!=null&&r<this.dispatchDeadlineMs){clearTimeout(this.dispatchTimer);const a=Math.max(0,r-Date.now());this.dispatchDeadlineMs=r,this.dispatchTimer=setTimeout(()=>{this.dispatchTimer=null,this.dispatchDeadlineMs=null,this.dispatch()},a)}}async dispatch(){const e=this.maxBatchSize??this.queue.length,n=this.queue.splice(0,e);if(n.length===0)return;const i=[];for(const a of n){const l=this.pendingByKey.get(a);!l||l.status!=="queued"||(l.status="fetching",i.push(l))}if(i.length===0){this.queue.length>0&&this.scheduleDispatch(0);return}const r=[];for(const a of i)a.useCache&&this.tryResolveGroupFromCache(a)||r.push(a);if(r.length===0){this.queue.length>0&&this.scheduleDispatch(0);return}this.log("dispatchBatch",r.map(a=>[a.endpoint,a.query]));try{const a=await this.fetchBatchPayload(r),l=a?.results;if(!Array.isArray(l)){const f=a?.message??`Invalid response format: ${ut(a)}`;for(const m of r)this.resolveGroup(m,null,`Invalid response format
${String(f)}`);this.queue.length>0&&this.scheduleDispatch(0);return}for(let f=0;f<r.length;f++){const m=r[f],S=l[f];let _=null;if(S==null?_="Empty result":_=this.extractError(S),!_){const R=new Map;for(const D of m.subscribers)D.cache&&R.set(D.cache.key,D.cache);for(const D of R.values())this.saveToCache(D,S)}this.resolveGroup(m,S,_)}}catch(a){const l=a instanceof Error?a:new Error(String(a));for(const f of r)this.rejectGroup(f,l)}finally{this.queue.length>0&&this.scheduleDispatch(0)}}async fetchBatchPayload(e){const n=e.map(m=>[m.endpoint,m.query]),i=new URLSearchParams({queries:JSON.stringify(n)}).toString(),r=this.buildUrl(this.batchEndpoint),a=ct({"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8",Accept:"application/msgpack"},this.extraHeaders),l=await this.fetchFn(r,{method:"POST",headers:a,body:i,credentials:this.credentials});if(!l.ok)throw new Error(`Batch query failed: ${l.status} ${l.statusText}`);const f=await l.arrayBuffer();return this.unpackFn(new Uint8Array(f))}tryResolveGroupFromCache(e){const n=[],i=new Set;for(const r of e.subscribers){const a=r.cache;!a||i.has(a.key)||(i.add(a.key),n.push(a))}for(const r of n){const a=this.loadFromCache(r);if(a!=null){for(const l of n)this.saveToCache(l,a);return this.resolveGroup(e,a,null),!0}}return!1}resolveGroup(e,n,i){const r=Date.now();for(const a of e.subscribers)a.resolve(new Te({endpoint:e.endpoint,query:e.query,update_ms:r,cache:a.cache,data:i?null:n,error:i}));e.subscribers.length=0,this.pendingByKey.delete(e.key)}rejectGroup(e,n){for(const i of e.subscribers)i.reject(n);e.subscribers.length=0,this.pendingByKey.delete(e.key)}normalizeCache(e,n,i){const r=i.cache_type??this.defaultCacheType,a=i.duration_ms??(typeof i.duration=="number"?i.duration*1e3:void 0)??this.defaultCacheDurationMs,l=i.key??i.cookie_id??`${e}-${n}`;return{cache_type:r,duration_ms:Math.max(0,a),key:l}}loadFromCache(e){const n=Date.now();switch(e.cache_type){case"Memory":{this.sweepMemoryCache(n);const i=this.memoryCache.get(e.key);return i?i.expiresAt<=n?(this.memoryCache.delete(e.key),null):i.data:null}case"Cookie":{if(!Oe())return null;const i=ge.get(e.key);if(!i)return null;try{return JSON.parse(i)}catch{return ge.remove(e.key),null}}case"LocalStorage":return this.loadFromWebStorage("localStorage",e.key,n);case"SessionStorage":return this.loadFromWebStorage("sessionStorage",e.key,n);default:return null}}loadFromWebStorage(e,n,i){const r=this.getStorage(e);if(!r)return null;let a=null;try{a=r.getItem(n)}catch{return null}if(!a)return null;try{const l=JSON.parse(a),f=typeof l.expiresAt=="number"?l.expiresAt:typeof l.expirationTime=="number"?l.expirationTime:void 0;return typeof f=="number"&&i>f?(r.removeItem(n),null):l.data??null}catch{try{r.removeItem(n)}catch{}return null}}saveToCache(e,n){const i=Date.now(),r=i+e.duration_ms;if(e.duration_ms<=0){this.removeFromCache(e);return}switch(e.cache_type){case"Memory":this.sweepMemoryCache(i),this.memoryCache.set(e.key,{expiresAt:r,data:n});return;case"Cookie":{if(!Oe())return;try{ge.set(e.key,JSON.stringify(n),{expires:new Date(r)})}catch{}return}case"LocalStorage":this.saveToWebStorage("localStorage",e.key,n,r);return;case"SessionStorage":this.saveToWebStorage("sessionStorage",e.key,n,r);return;default:return}}saveToWebStorage(e,n,i,r){const a=this.getStorage(e);if(a)try{a.setItem(n,JSON.stringify({data:i,expiresAt:r}))}catch{}}removeFromCache(e){switch(e.cache_type){case"Memory":this.memoryCache.delete(e.key);return;case"Cookie":if(!Oe())return;ge.remove(e.key);return;case"LocalStorage":{const n=this.getStorage("localStorage");if(!n)return;try{n.removeItem(e.key)}catch{}return}case"SessionStorage":{const n=this.getStorage("sessionStorage");if(!n)return;try{n.removeItem(e.key)}catch{}return}default:return}}sweepMemoryCache(e){if(!(e-this.lastMemorySweepMs<6e4)){this.lastMemorySweepMs=e;for(const[n,i]of this.memoryCache)i.expiresAt<=e&&this.memoryCache.delete(n)}}getStorage(e){if(typeof window>"u")return null;try{return e==="localStorage"?window.localStorage:window.sessionStorage}catch{return null}}extractError(e){if(!e||typeof e!="object")return null;const n=e;if(n.success===!1){const i=n.error??n.message??"Unknown error";return typeof i=="string"?i:ut(i)}return null}hashQuery(e){return Mt(Sn(e))}makeGroupKey(e,n,i){return`${e}-${n}:${i?"cache":"nocache"}`}buildUrl(e){return xn(this.apiUrl,e)}log(...e){this.debug}}function Oe(){return typeof document<"u"}function Dt(t){const e={};for(const[n,i]of Object.entries(t))e[n]=Array.isArray(i)?[...i]:i;return e}function Sn(t){const e=Object.keys(t).sort(),n={};for(const i of e){const r=t[i];n[i]=Array.isArray(r)?[...r]:r}return JSON.stringify(n)}function Tn(t){const e=new URLSearchParams;for(const[n,i]of Object.entries(t))if(Array.isArray(i))for(const r of i)e.append(n,r);else e.append(n,i);return e.toString()}function xn(t,e){if(!t)return e;const n=t.endsWith("/")?t.slice(0,-1):t,i=e.startsWith("/")?e:`/${e}`;return`${n}${i}`}function ct(t,e){const n=new Headers(t);return e&&new Headers(e).forEach((i,r)=>n.set(r,i)),n}function ut(t){try{return typeof t=="string"?t:JSON.stringify(t)}catch{return String(t)}}const ft=globalThis,Rt=ft.__bulkQueryClient??(ft.__bulkQueryClient=new wn({apiUrl:"https://api.locutus.link/api/"}));function pt(t){return{...t,cookie_id:t.key,duration:t.duration_ms/1e3}}function An(t,e,n){return Rt.fetchSingle(t,e,n)}function Ot({endpoint:t,query:e,cache:n,batch_wait_ms:i}){return Rt.fetchBulk({endpoint:t,query:e,cache:n,batch_wait_ms:i})}class b{constructor(e,n,i,r,a,l,f,m,S){B(this,"name"),B(this,"url"),B(this,"args"),B(this,"cast"),B(this,"cache_duration"),B(this,"cache_type"),B(this,"typeName"),B(this,"desc"),B(this,"argsLower"),B(this,"isPost"),this.name=e,this.url=n,this.args={};for(const[_,R]of Object.entries(i))this.args[_]=new Ut(_,R);this.argsLower=Object.fromEntries(Object.entries(i).map(([_,R])=>[_.toLowerCase(),_])),this.cast=r,this.cache_duration=a??5e3,this.cache_type=l,this.typeName=f,this.desc=m,this.isPost=S}async call(e){return An(this.url,e,void 0)}}const En={endpoint:new b("register","register",{confirm:{name:"confirm",type:"boolean"}},t=>t,2592e3,"None","WebSuccess","Register a new user mapping after confirmation",!0)},Dn={endpoint:new b("query","query",{queries:{name:"queries",type:"List<Entry<String,Map<String,Object>>>"}},t=>t,2592e3,"None","WebBulkQuery","Execute a batch of API queries and return their results",!0)},Rn={endpoint:new b("session","session",{},t=>t,2592e3,"LocalStorage","WebSession","Retrieve the current web session information",!1)},On={endpoint:new b("command","command",{data:{name:"data",type:"Map<String,Object>"}},t=>t,2592e3,"None","WebViewCommand","Execute an arbitrary Web endpoint command string and capture output",!0)},vn={endpoint:new b("unregister","unregister",{confirm:{name:"confirm",type:"boolean"}},t=>t,2592e3,"None","WebValue","Unregister the current user from the system after confirmation",!0)},Bn={endpoint:new b("permission","permission",{command:{name:"command",type:"ICommand<?>"}},t=>t,2592e3,"None","WebPermission","Check whether the given user and guild have permission for a command",!0)},In={endpoint:new b("logout","logout",{},t=>t,2592e3,"None","WebSuccess","Log out the current user and clear authentication cookies",!0)},kn={endpoint:new b("login_mail","login_mail",{nation:{name:"nation",type:"DBNation"}},t=>t,2592e3,"None","WebUrl","Get mail login URL for the specified nation",!0)},Nn={endpoint:new b("set_token","set_token",{token:{name:"token",type:"UUID"},guild_id:{name:"guild_id",optional:!0,type:"Long"}},t=>t,2592e3,"None","WebSuccess","Set authentication token cookie and optionally guild ID",!0)},Cn={endpoint:new b("set_guild","set_guild",{guild:{name:"guild",type:"Guild"}},t=>t,2592e3,"None","SetGuild","Select a guild for the session and return its basic info",!0)},Ln={endpoint:new b("set_oauth_code","set_oauth_code",{code:{name:"code",type:"String"}},t=>t,2592e3,"None","WebSuccess","Exchange OAuth code for an auth token and set session cookie",!0)},Un={endpoint:new b("unset_guild","unset_guild",{},t=>t,2592e3,"None","WebSuccess","Clear the current guild selection cookie",!0)},Mn={endpoint:new b("input_options","input_options",{type:{name:"type",type:"String"}},t=>t,30,"LocalStorage","WebOptions","Fetch UI options for an input type based on current user/guild/nation context",!1)},Pn={endpoint:new b("tradepricebydayjson","tradePriceByDayJson",{resources:{name:"resources",type:"Set<ResourceType>"},days:{name:"days",type:"int",min:1}},t=>t,2592e3,"None","WebGraph","Graph average trade price per unit by day for given resources",!1)},Gn={endpoint:new b("raid","raid",{nation:{name:"nation",optional:!0,type:"DBNation"},nations:{name:"nations",optional:!0,type:"Set<DBNation>",def:"*,#position<=1"},weak_ground:{name:"weak_ground",optional:!0,type:"boolean",def:"false"},vm_turns:{name:"vm_turns",optional:!0,type:"int",def:"0"},beige_turns:{name:"beige_turns",optional:!0,type:"int",def:"0"},ignore_dnr:{name:"ignore_dnr",optional:!0,type:"boolean",def:"false"},time_inactive:{name:"time_inactive",optional:!0,type:"long[Timediff]",def:"7d"},min_loot:{name:"min_loot",optional:!0,type:"double",def:"-1"},num_results:{name:"num_results",optional:!0,type:"int",def:"8"}},t=>t,2592e3,"None","WebTargets","Compute raid targets based on provided parameters",!1)},Vn={endpoint:new b("balance","balance",{nation:{name:"nation",optional:!0,type:"DBNation"}},t=>t,2592e3,"None","WebBalance","Get bank balance breakdown for a nation",!1)},Wn={endpoint:new b("records","records",{nation:{name:"nation",optional:!0,type:"DBNation"}},t=>t,2592e3,"None","WebTable","Fetch bank transaction records for a nation",!1)},zn={endpoint:new b("withdraw","withdraw",{receiver:{name:"receiver",type:"NationOrAlliance"},amount:{name:"amount",type:"Map<ResourceType,Double>"},note:{name:"note",type:"DepositType"}},t=>t,2592e3,"None","WebTransferResult","Withdraw funds from a nation bank account to another entity",!0)},Fn={endpoint:new b("announcements","announcements",{},t=>t,30,"SessionStorage","WebAnnouncements","List player announcements for the current nation",!1)},jn={endpoint:new b("my_wars","my_wars",{},t=>t,2592e3,"None","WebMyWars","Retrieve summary of nation presently involved in the most wars",!1)},qn={endpoint:new b("my_audits","my_audits",{},t=>t,30,"SessionStorage","WebAudits","Return IA audit results for the current nation",!1)},Qn={endpoint:new b("unread_announcement","unread_announcement",{ann_id:{name:"ann_id",type:"int"}},t=>t,2592e3,"None","WebSuccess","Mark a single announcement as unread",!0)},Yn={endpoint:new b("announcement_titles","announcement_titles",{read:{name:"read",optional:!0,flag:"r",type:"boolean"}},t=>t,2592e3,"None","WebAnnouncements","Get announcement titles, optionally filtering by read state",!1)},Kn={endpoint:new b("unprotected","unprotected",{nation:{name:"nation",optional:!0,type:"DBNation"},nations:{name:"nations",optional:!0,type:"Set<DBNation>",def:"*"},includeAllies:{name:"includeAllies",optional:!0,flag:"a",type:"boolean"},ignoreODP:{name:"ignoreODP",optional:!0,flag:"o",type:"boolean"},ignore_dnr:{name:"ignore_dnr",optional:!0,type:"boolean",def:"false"},maxRelativeTargetStrength:{name:"maxRelativeTargetStrength",optional:!0,flag:"s",desc:"The maximum allowed military strength of the target nation relative to you",type:"Double",def:"1.2"},maxRelativeCounterStrength:{name:"maxRelativeCounterStrength",optional:!0,flag:"c",desc:"The maximum allowed military strength of counters relative to you",type:"Double",def:"1.2"},num_results:{name:"num_results",optional:!0,desc:"Only list targets within range of ALL attackers",type:"int",def:"8"}},t=>t,2592e3,"None","WebTargets","List unprotected counter targets with various filters",!1)},Hn={endpoint:new b("mark_all_read","mark_all_read",{},t=>t,2592e3,"None","WebSuccess","Mark all announcements as read",!0)},$n={endpoint:new b("view_announcement","view_announcement",{ann_id:{name:"ann_id",type:"int"}},t=>t,2592e3,"SessionStorage","WebAnnouncement","View a specific announcement and mark it read",!1)},Jn={endpoint:new b("bank_access","bank_access",{},t=>t,2592e3,"None","WebBankAccess","Retrieve allowed bank accounts and access types",!1)},Xn={endpoint:new b("unread_count","unread_count",{},t=>t,2592e3,"None","WebInt","Return count of unread announcements",!1)},Zn={endpoint:new b("read_announcement","read_announcement",{ann_id:{name:"ann_id",type:"int"}},t=>t,2592e3,"None","WebSuccess","Mark a specific announcement as read",!0)},ei={endpoint:new b("locutus_tasks","locutus_tasks",{},t=>t,15,"SessionStorage","TaskList","List repeating tasks, hiding errors for non-admins",!1)},ti={endpoint:new b("locutus_task","locutus_task",{id:{name:"id",type:"int"}},t=>t,15,"SessionStorage","TaskDetails","Get detailed information and recent history for a specific repeating task",!1)},ni={endpoint:new b("table","table",{type:{name:"type",type:"Class<?>[PlaceholderType]"},selection_str:{name:"selection_str",type:"String"},columns:{name:"columns",type:"List<String>[TextArea]"}},t=>t,2592e3,"None","WebTable","Render a custom WebTable using a placeholder type and specified columns",!1)},ii={endpoint:new b("conflictalliances","conflictAlliances",{conflicts:{name:"conflicts",type:"Set<Conflict>"}},t=>t,2592e3,"None","ConflictAlliances","Fetch alliance names and participant lists for given conflicts",!1)},ri={endpoint:new b("removevirtualconflict","removeVirtualConflict",{conflict:{name:"conflict",type:"Conflict"}},t=>t,2592e3,"None","WebSuccess","Delete a specified temporary conflict if the caller has appropriate permissions",!0)},ai={endpoint:new b("virtualconflictinfo","virtualConflictInfo",{conflict:{name:"conflict",type:"Conflict"}},t=>t,2592e3,"None","WebVirtualConflict","Retrieve detailed information about a specific temporary conflict",!1)},si={endpoint:new b("virtualconflicts","virtualConflicts",{all:{name:"all",optional:!0,flag:"a",type:"boolean"}},t=>t,2592e3,"None","WebOptions","List temporary virtual conflicts accessible to the current user",!1)},oi={endpoint:new b("globalstats","globalStats",{metrics:{name:"metrics",type:"Set<AllianceMetric>"},start:{name:"start",type:"long[Timestamp]"},end:{name:"end",type:"long[Timestamp]"},topX:{name:"topX",type:"int"}},t=>t,2592e3,"None","CoalitionGraphs","Generate coalition graphs for specified metrics across spheres",!1)},li={endpoint:new b("globaltierstats","globalTierStats",{metrics:{name:"metrics",type:"Set<TypedFunction<DBNation,Double>>"},topX:{name:"topX",type:"int"},groupBy:{name:"groupBy",optional:!0,type:"TypedFunction<DBNation,Double>",def:"getCities"},total:{name:"total",optional:!0,flag:"t",type:"boolean"}},t=>t,2592e3,"None","CoalitionGraphs","Generate tiered coalition graphs with custom grouping for nation metrics",!1)},ci={endpoint:new b("citytiergraph","cityTierGraph",{coalition1:{name:"coalition1",type:"Set<DBNation>"},coalition2:{name:"coalition2",type:"Set<DBNation>"},includeInactives:{name:"includeInactives",optional:!0,flag:"i",type:"boolean"},barGraph:{name:"barGraph",optional:!0,flag:"b",type:"boolean"},includeApplicants:{name:"includeApplicants",optional:!0,flag:"a",type:"boolean"},snapshotDate:{name:"snapshotDate",optional:!0,flag:"s",type:"Long[Timestamp]"}},t=>t,2592e3,"None","WebGraph","Generate a bar char comparing the nation at each city count (tiering) between two coalitions",!1)},ui={endpoint:new b("strengthtiergraph","strengthTierGraph",{coalition1:{name:"coalition1",type:"Set<DBNation>"},coalition2:{name:"coalition2",type:"Set<DBNation>"},includeInactives:{name:"includeInactives",optional:!0,flag:"i",type:"boolean"},includeApplicants:{name:"includeApplicants",optional:!0,flag:"n",type:"boolean"},col1MMR:{name:"col1MMR",optional:!0,flag:"a",desc:"Use the score/strength of coalition 1 nations at specific military unit levels",type:"MMRDouble"},col2MMR:{name:"col2MMR",optional:!0,flag:"b",desc:"Use the score/strength of coalition 2 nations at specific military unit levels",type:"MMRDouble"},col1Infra:{name:"col1Infra",optional:!0,flag:"c",desc:"Use the score of coalition 1 nations at specific average infrastructure levels",type:"Double"},col2Infra:{name:"col2Infra",optional:!0,flag:"d",desc:"Use the score of coalition 2 nations at specific average infrastructure levels",type:"Double"},snapshotDate:{name:"snapshotDate",optional:!0,flag:"s",type:"Long[Timestamp]"}},t=>t,2592e3,"None","WebGraph",`Generate a graph of nation military strength by score between two coalitions
1 tank = 1/32 aircraft for strength calculations
Effective score range is limited to 1.75x with a linear reduction of strength up to 40% to account for up-declares`,!1)},fi={endpoint:new b("comparestockpilevaluebyday","compareStockpileValueByDay",{stockpile1:{name:"stockpile1",type:"Map<ResourceType,Double>"},stockpile2:{name:"stockpile2",type:"Map<ResourceType,Double>"},numDays:{name:"numDays",type:"int",min:1,max:3e3}},t=>t,2592e3,"None","WebGraph","Generate a graph comparing market values of two resource amounts by day",!1)},pi={endpoint:new b("tradevolumebyday","tradeVolumeByDay",{resource:{name:"resource",type:"ResourceType"},start:{name:"start",type:"long[Timestamp]"},end:{name:"end",optional:!0,type:"Long[Timestamp]"}},t=>t,2592e3,"None","WebGraph","Generate a graph of average trade buy and sell volume by day",!1)},hi={endpoint:new b("trademarginbyday","tradeMarginByDay",{resources:{name:"resources",type:"Set<ResourceType>"},start:{name:"start",type:"long[Timestamp]"},end:{name:"end",optional:!0,type:"Long[Timestamp]"},percent:{name:"percent",optional:!0,desc:"Use the margin percent instead of absolute difference",type:"boolean",def:"true"}},t=>t,2592e3,"None","WebGraph","Generate a graph of average trade buy and sell margin by day",!1)},di={endpoint:new b("tradetotalbyday","tradeTotalByDay",{resource:{name:"resource",type:"ResourceType"},start:{name:"start",type:"long[Timestamp]"},end:{name:"end",optional:!0,type:"Long[Timestamp]"}},t=>t,2592e3,"None","WebGraph","Generate a graph of average trade buy and sell total by day",!1)},yi={endpoint:new b("tradepricebyday","tradePriceByDay",{resources:{name:"resources",type:"Set<ResourceType>"},numDays:{name:"numDays",type:"int"}},t=>t,2592e3,"None","WebGraph","Generate a graph of average buy and sell trade price by day",!1)},mi={endpoint:new b("comparetierstats","compareTierStats",{metric:{name:"metric",type:"TypedFunction<DBNation,Double>"},groupBy:{name:"groupBy",type:"TypedFunction<DBNation,Double>"},coalition1:{name:"coalition1",type:"Set<DBNation>"},coalition2:{name:"coalition2",optional:!0,type:"Set<DBNation>"},coalition3:{name:"coalition3",optional:!0,type:"Set<DBNation>"},coalition4:{name:"coalition4",optional:!0,type:"Set<DBNation>"},coalition5:{name:"coalition5",optional:!0,type:"Set<DBNation>"},coalition6:{name:"coalition6",optional:!0,type:"Set<DBNation>"},coalition7:{name:"coalition7",optional:!0,type:"Set<DBNation>"},coalition8:{name:"coalition8",optional:!0,type:"Set<DBNation>"},coalition9:{name:"coalition9",optional:!0,type:"Set<DBNation>"},coalition10:{name:"coalition10",optional:!0,type:"Set<DBNation>"},total:{name:"total",optional:!0,flag:"t",type:"boolean"},includeApps:{name:"includeApps",optional:!0,flag:"a",type:"boolean"},includeVm:{name:"includeVm",optional:!0,flag:"v",type:"boolean"},includeInactive:{name:"includeInactive",optional:!0,flag:"i",type:"boolean"},snapshotDate:{name:"snapshotDate",optional:!0,flag:"s",type:"Long[Timestamp]"}},t=>t,2592e3,"None","WebGraph","Compare the tier stats of up to 10 alliances/nations on a single graph",!1)},gi={endpoint:new b("alliancestats","allianceStats",{metrics:{name:"metrics",type:"Set<AllianceMetric>"},start:{name:"start",type:"long[Timestamp]"},end:{name:"end",type:"long[Timestamp]"},coalition:{name:"coalition",type:"Set<DBAlliance>"}},t=>t,2592e3,"None","WebGraph","Generate alliance-specific metric graph over a time range",!1)},bi={endpoint:new b("comparestats","compareStats",{metric:{name:"metric",type:"AllianceMetric"},start:{name:"start",type:"long[Timestamp]"},end:{name:"end",type:"long[Timestamp]"},coalition1:{name:"coalition1",type:"Set<DBAlliance>"},coalition2:{name:"coalition2",type:"Set<DBAlliance>"},coalition3:{name:"coalition3",optional:!0,type:"Set<DBAlliance>"},coalition4:{name:"coalition4",optional:!0,type:"Set<DBAlliance>"},coalition5:{name:"coalition5",optional:!0,type:"Set<DBAlliance>"},coalition6:{name:"coalition6",optional:!0,type:"Set<DBAlliance>"},coalition7:{name:"coalition7",optional:!0,type:"Set<DBAlliance>"},coalition8:{name:"coalition8",optional:!0,type:"Set<DBAlliance>"},coalition9:{name:"coalition9",optional:!0,type:"Set<DBAlliance>"},coalition10:{name:"coalition10",optional:!0,type:"Set<DBAlliance>"}},t=>t,2592e3,"None","WebGraph","Compare the stats of up to 10 alliances/coalitions on a single time graph",!1)},_i={endpoint:new b("warscostrankingbyday","warsCostRankingByDay",{type:{name:"type",type:"WarCostByDayMode"},mode:{name:"mode",type:"WarCostMode"},time_start:{name:"time_start",type:"long[Timestamp]"},time_end:{name:"time_end",optional:!0,type:"Long[Timestamp]"},coalition1:{name:"coalition1",optional:!0,flag:"c1",type:"Set<NationOrAlliance>"},coalition2:{name:"coalition2",optional:!0,flag:"c2",type:"Set<NationOrAlliance>"},coalition3:{name:"coalition3",optional:!0,flag:"c3",type:"Set<NationOrAlliance>"},coalition4:{name:"coalition4",optional:!0,flag:"c4",type:"Set<NationOrAlliance>"},coalition5:{name:"coalition5",optional:!0,flag:"c5",type:"Set<NationOrAlliance>"},coalition6:{name:"coalition6",optional:!0,flag:"c6",type:"Set<NationOrAlliance>"},coalition7:{name:"coalition7",optional:!0,flag:"c7",type:"Set<NationOrAlliance>"},coalition8:{name:"coalition8",optional:!0,flag:"c8",type:"Set<NationOrAlliance>"},coalition9:{name:"coalition9",optional:!0,flag:"c9",type:"Set<NationOrAlliance>"},coalition10:{name:"coalition10",optional:!0,flag:"c10",type:"Set<NationOrAlliance>"},running_total:{name:"running_total",optional:!0,flag:"o",type:"boolean"},allowedWarStatus:{name:"allowedWarStatus",optional:!0,flag:"s",type:"Set<WarStatus>"},allowedWarTypes:{name:"allowedWarTypes",optional:!0,flag:"w",type:"Set<WarType>"},allowedAttackTypes:{name:"allowedAttackTypes",optional:!0,flag:"a",type:"Set<AttackType>"},allowedVictoryTypes:{name:"allowedVictoryTypes",optional:!0,flag:"v",type:"Set<SuccessType>"}},t=>t,2592e3,"None","WebGraph","Graph of cost by day of each coalitions wars vs everyone",!1)},wi={endpoint:new b("nthbeigelootbyscorerange","NthBeigeLootByScoreRange",{nations:{name:"nations",optional:!0,type:"Set<DBNation>"},n:{name:"n",optional:!0,type:"int",def:"5"},snapshotDate:{name:"snapshotDate",optional:!0,type:"Long[Timestamp]"}},t=>t,2592e3,"None","WebGraph","Get nth loot beige graph by score range",!1)},Si={endpoint:new b("metric_compare_by_turn","metric_compare_by_turn",{metric:{name:"metric",type:"AllianceMetric"},alliances:{name:"alliances",type:"Set<DBAlliance>"},start:{name:"start",desc:"Date to start from",type:"long[Timestamp]"},end:{name:"end",optional:!0,type:"Long[Timestamp]"}},t=>t,2592e3,"None","WebGraph","Compare the metric over time between multiple alliances",!1)},Ti={endpoint:new b("comparetierdeltagraph","compareTierDeltaGraph",{coalition1:{name:"coalition1",type:"Set<DBNation>"},coalition2:{name:"coalition2",optional:!0,type:"Set<DBNation>"},coalition3:{name:"coalition3",optional:!0,type:"Set<DBNation>"},coalition4:{name:"coalition4",optional:!0,type:"Set<DBNation>"},coalition5:{name:"coalition5",optional:!0,type:"Set<DBNation>"},coalition6:{name:"coalition6",optional:!0,type:"Set<DBNation>"},coalition7:{name:"coalition7",optional:!0,type:"Set<DBNation>"},coalition8:{name:"coalition8",optional:!0,type:"Set<DBNation>"},coalition9:{name:"coalition9",optional:!0,type:"Set<DBNation>"},coalition10:{name:"coalition10",optional:!0,type:"Set<DBNation>"},stat:{name:"stat",optional:!0,flag:"s",type:"TypedFunction<DBNation,Double>",def:"getCities"},start:{name:"start",optional:!0,flag:"b",type:"Long[Timestamp]",def:"30d"},end:{name:"end",optional:!0,flag:"c",type:"Long[Timestamp]",def:"0d"},mode:{name:"mode",optional:!0,flag:"m",type:"TierDeltaMode",def:"net"},bucket_size:{name:"bucket_size",optional:!0,flag:"k",type:"Integer",def:"1"},include_apps:{name:"include_apps",optional:!0,flag:"a",type:"boolean"},include_vm:{name:"include_vm",optional:!0,flag:"v",type:"boolean"},filter:{name:"filter",optional:!0,flag:"f",type:"Predicate<DBNation>"}},t=>t,2592e3,"None","WebGraph",`Compare city-tier snapshot deltas (start/end/net/gained/lost) for up to 10 coalitions
Defaults`,!1)},xi={endpoint:new b("spytiergraph","spyTierGraph",{coalition1:{name:"coalition1",type:"Set<DBNation>"},coalition2:{name:"coalition2",type:"Set<DBNation>"},includeInactives:{name:"includeInactives",optional:!0,flag:"i",type:"boolean"},includeApplicants:{name:"includeApplicants",optional:!0,flag:"a",type:"boolean"},total:{name:"total",optional:!0,flag:"t",desc:"Graph the total spies instead of average per nation",type:"boolean"},barGraph:{name:"barGraph",optional:!0,flag:"b",type:"boolean"}},t=>t,2592e3,"None","WebGraph",`Generate a graph of spy counts by city count between two coalitions
Nations which are applicants, in vacation mode or inactive (2 days) are excluded`,!1)},Ai={endpoint:new b("alliancemetricbyturn","allianceMetricByTurn",{metric:{name:"metric",type:"AllianceMetric"},coalition:{name:"coalition",type:"Set<DBAlliance>"},start:{name:"start",desc:"Date to start from",type:"long[Timestamp]"},end:{name:"end",optional:!0,type:"Long[Timestamp]"}},t=>t,2592e3,"None","WebGraph","Graph the metric over time for a coalition",!1)},Ei={endpoint:new b("alliancesdatabyday","AlliancesDataByDay",{metric:{name:"metric",type:"TypedFunction<DBNation,Double>"},start:{name:"start",type:"long[Timestamp]"},end:{name:"end",type:"long[Timestamp]"},mode:{name:"mode",type:"AllianceMetricMode"},alliances:{name:"alliances",optional:!0,desc:"The alliances to include. Defaults to top 15",type:"Set<DBAlliance>"},filter:{name:"filter",optional:!0,type:"Predicate<DBNation>"},includeApps:{name:"includeApps",optional:!0,flag:"a",type:"boolean"}},t=>t,2592e3,"None","WebGraph","Get alliance attributes by day\nIf your metric does not relate to cities, set `skipCityData` to true to speed up the process.",!1)},Di={endpoint:new b("metricbygroup","metricByGroup",{metrics:{name:"metrics",type:"Set<TypedFunction<DBNation,Double>>"},nations:{name:"nations",type:"Set<DBNation>"},groupBy:{name:"groupBy",optional:!0,type:"TypedFunction<DBNation,Double>",def:"getCities"},includeInactives:{name:"includeInactives",optional:!0,flag:"i",type:"boolean"},includeApplicants:{name:"includeApplicants",optional:!0,flag:"a",type:"boolean"},total:{name:"total",optional:!0,flag:"t",type:"boolean"},snapshotDate:{name:"snapshotDate",optional:!0,flag:"s",type:"Long[Timestamp]"}},t=>t,2592e3,"None","WebGraph","Graph a set of nation metrics for the specified nations over a period of time based on daily nation and city snapshots",!1)},Ri={endpoint:new b("scoretiergraph","scoreTierGraph",{coalition1:{name:"coalition1",type:"Set<DBNation>"},coalition2:{name:"coalition2",type:"Set<DBNation>"},includeInactives:{name:"includeInactives",optional:!0,flag:"i",type:"boolean"},includeApplicants:{name:"includeApplicants",optional:!0,flag:"a",type:"boolean"},snapshotDate:{name:"snapshotDate",optional:!0,flag:"s",type:"Long[Timestamp]"}},t=>t,2592e3,"None","WebGraph","Generate a graph of nation counts by score between two coalitions",!1)},Oi={endpoint:new b("warattacksbyday","warAttacksByDay",{nations:{name:"nations",optional:!0,type:"Set<DBNation>"},cutoff:{name:"cutoff",optional:!0,desc:"Period of time to graph",type:"Long[Timestamp]"},allowedTypes:{name:"allowedTypes",optional:!0,desc:"Restrict to a list of attack types",type:"Set<AttackType>"}},t=>t,2592e3,"None","WebGraph","Display a graph of the number of attacks by the specified nations per day over a time period",!1)},vi={endpoint:new b("militarizationtime","militarizationTime",{alliance:{name:"alliance",type:"DBAlliance"},start_time:{name:"start_time",optional:!0,type:"long[Timestamp]",def:"7d"},end_time:{name:"end_time",optional:!0,flag:"e",type:"Long[Timestamp]"}},t=>t,2592e3,"None","WebGraph","Graph militarization (soldier, tank, aircraft, ship) over time of an alliance",!1)},Bi={endpoint:new b("warcostsbyday","warCostsByDay",{coalition1:{name:"coalition1",type:"Set<NationOrAlliance>"},coalition2:{name:"coalition2",type:"Set<NationOrAlliance>"},type:{name:"type",type:"WarCostByDayMode"},time_start:{name:"time_start",type:"long[Timestamp]"},time_end:{name:"time_end",optional:!0,type:"Long[Timestamp]"},running_total:{name:"running_total",optional:!0,flag:"o",type:"boolean"},allowedWarStatus:{name:"allowedWarStatus",optional:!0,flag:"s",type:"Set<WarStatus>"},allowedWarTypes:{name:"allowedWarTypes",optional:!0,flag:"w",type:"Set<WarType>"},allowedAttackTypes:{name:"allowedAttackTypes",optional:!0,flag:"a",type:"Set<AttackType>"},allowedVictoryTypes:{name:"allowedVictoryTypes",optional:!0,flag:"v",type:"Set<SuccessType>"}},t=>t,2592e3,"None","WebGraph","Get a line graph by day of the war stats between two coalitions",!1)},Ii={endpoint:new b("alliancemetricab","allianceMetricAB",{metric:{name:"metric",type:"AllianceMetric"},coalition1:{name:"coalition1",type:"Set<DBAlliance>"},coalition2:{name:"coalition2",type:"Set<DBAlliance>"},start:{name:"start",desc:"Date to start from",type:"long[Timestamp]"},end:{name:"end",optional:!0,type:"Long[Timestamp]"}},t=>t,2592e3,"None","WebGraph","Graph an alliance metric over time for two coalitions",!1)},ki={endpoint:new b("radiationbyturn","radiationByTurn",{continents:{name:"continents",type:"Set<Continent>"},start:{name:"start",type:"long[Timestamp]"},end:{name:"end",optional:!0,type:"Long[Timestamp]"}},t=>t,2592e3,"None","WebGraph","Graph global and per continent radiation by turn over a specified time period",!1)},Ni={endpoint:new b("orbisstatbyday","orbisStatByDay",{metrics:{name:"metrics",type:"Set<OrbisMetric>"},start:{name:"start",optional:!0,type:"Long[Timestamp]"},end:{name:"end",optional:!0,type:"Long[Timestamp]"}},t=>t,2592e3,"None","WebGraph","Get a game graph by day",!1)},Ci={endpoint:new b("tax_expense","tax_expense",{start:{name:"start",type:"long[Timestamp]"},end:{name:"end",type:"long[Timestamp]"},nationList:{name:"nationList",optional:!0,flag:"n",type:"Set<DBNation>"},dontRequireGrant:{name:"dontRequireGrant",optional:!0,flag:"g",type:"boolean"},dontRequireTagged:{name:"dontRequireTagged",optional:!0,flag:"t",type:"boolean"},dontRequireExpiry:{name:"dontRequireExpiry",optional:!0,flag:"e",type:"boolean"},includeDeposits:{name:"includeDeposits",optional:!0,flag:"d",type:"boolean"}},t=>t,2592e3,"None","TaxExpenses","Show cumulative tax expenses over a period by nation/bracket",!1)},Li={endpoint:new b("multi_v2","multi_v2",{nation:{name:"nation",type:"DBNation"},forceUpdate:{name:"forceUpdate",optional:!0,type:"Boolean"}},t=>t,2592e3,"None","AdvMultiReport","Generate advanced multi report using snapshot data and UID map",!1)},Ui={endpoint:new b("multi_buster","multi_buster",{nation:{name:"nation",type:"DBNation"},forceUpdate:{name:"forceUpdate",optional:!0,type:"Boolean"}},t=>t,2592e3,"None","MultiResult","Get multi-buster data for a nation, updating if outdated",!1)},qi=[En,Dn,Rn,On,vn,Bn,In,kn,Nn,Cn,Ln,Un,Mn,Pn,Gn,Vn,Wn,zn,Fn,jn,qn,Qn,Yn,Kn,Hn,$n,Jn,Xn,Zn,ei,ti,ni,ii,ri,ai,si,oi,li,ci,ui,fi,pi,hi,di,yi,mi,gi,bi,_i,wi,Si,Ti,xi,Ai,Ei,Di,Ri,Oi,vi,Bi,Ii,ki,Ni,Ci,Li,Ui];function Qi(t,e,n,i,r){return Mi(t,e,n,i,r)}function Mi(t,e,n,i,r){const a=n??t.isPost;return{queryKey:[t.name,e],queryFn:async l=>{const f=l.queryKey,m=await Ot({endpoint:f[0],query:f[1],cache:void 0,batch_wait_ms:r??200}),S=m?.data;if(m.error||S?.error!=null)throw new Me(m?.error??S?.error??"Unknown error");return m},refetchOnReconnect:!a,refetchOnWindowFocus:!a,refetchOnMount:!a,staleTime:i??t.cache_duration??5e3,retry:(l,f)=>!a&&!(f instanceof Me)&&l<3||l<1}}function Yi(t,e,n,i){return{queryKey:[t.name,e],queryFn:async r=>{const a=r.queryKey;await new Promise(f=>setTimeout(f,2e3));const l=await Ot({endpoint:a[0],query:a[1],cache:void 0,batch_wait_ms:i??200});if(l.error)throw new Me(l.error);return l},refetchOnReconnect:!1,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:n??t.cache_duration??5e3,retry:(r,a)=>!1}}class Me extends Error{constructor(e){super(e),this.name="BackendError"}}export{ei as $,Yn as A,Jn as B,mi as C,gn as D,qi as E,Vi as F,oi as G,Vt as H,Ft as I,Kt as J,qt as K,ji as L,qn as M,Qt as N,$t as O,Bn as P,Te as Q,Zn as R,Rn as S,ni as T,vn as U,$n as V,zn as W,$e as X,Ht as Y,Yt as Z,Mn as _,Cn as a,ti as a0,Me as a1,zi as a2,Wi as a3,Fi as a4,Mi as b,Un as c,Xn as d,Hn as e,jn as f,Qn as g,Vn as h,Wn as i,Gn as j,Kn as k,Nn as l,Ln as m,In as n,kn as o,li as p,Si as q,gi as r,On as s,He as t,jt as u,Yi as v,Li as w,Ui as x,ii as y,Qi as z};
