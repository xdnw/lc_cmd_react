const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/arrow-right-to-line-B_IM9LhA.js","assets/createLucideIcon-BbdX0qUR.js","assets/index-Ci-lVsFi.js","assets/index-nDc9YPi0.css","assets/check-By6g7RG-.js","assets/chevron-down-Bf66fNBy.js","assets/chevron-left-iM35EwVl.js","assets/chevron-right-BuocR1ml.js","assets/chevron-up-MD7nKQDD.js","assets/circle-B2XJLhZk.js","assets/clipboard-CAq4xlya.js","assets/dot-CgcEEC0c.js","assets/download-D8nvaMvB.js","assets/external-link-CMenmXve.js","assets/key-round-CF0eTThH.js","assets/mail-Cnh3WkQH.js","assets/moon-DJ7SBB96.js","assets/more-horizontal-v_aGJaLu.js","assets/plane-DLmmKmvl.js","assets/sailboat-BVMHX3Bt.js","assets/settings-I2WzCYu1.js","assets/sheet-1aDdDBA1.js","assets/shield-Cv9lEAcf.js","assets/sun-Bm5vuBU9.js","assets/x-BXcCGRVm.js","assets/git-pull-request-BzChZE6p.js","assets/book-open-text-Bok-XPlT.js","assets/copy-BxH-3715.js","assets/infinity-C1Ln10vM.js","assets/github-CfLmv8a6.js","assets/message-square-text-CyqJhlH7.js","assets/circle-user-round-C4mpvK-9.js","assets/joystick-BBi34qrL.js","assets/at-sign-B4VxyMT7.js","assets/list-x-k2RJOGuP.js","assets/list-checks-b-nmgKSP.js","assets/eye-off-Cetojuke.js","assets/bug-Czn-crZ2.js","assets/rotate-ccw-PFvxJkPX.js","assets/search-DBPpT2-e.js","assets/log-out-CouzTv2I.js","assets/users-D3j72Ugh.js","assets/message-circle-9-pEwBIe.js","assets/triangle-alert-BCLJQAG0.js","assets/pause-BPLiZQTA.js","assets/play-CGrIxatj.js","assets/user-BJwnZe_d.js"])))=>i.map(i=>d[i]);
import{S as It,w as je,x as X,s as Ie,y as we,z as Bt,A as Be,B as qe,C as vt,D as Nt,E as kt,F as Qe,n as ht,r as w,u as Ct,j as H,_ as E,c as Lt,i as ge}from"./index-Ci-lVsFi.js";import{A as Ut,k as Mt}from"./command-utils-BU29VnaS.js";var Vr=class extends It{constructor(t,e){super(),this.options=e,this.#n=t,this.#r=null,this.#i=je(),this.options.experimental_prefetchInRender||this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#n;#e=void 0;#d=void 0;#t=void 0;#s;#u;#i;#r;#y;#f;#p;#o;#l;#a;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),Ye(this.#e,this.options)?this.#c():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ve(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ve(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#S(),this.#e.removeObserver(this)}setOptions(t,e){const n=this.options,r=this.#e;if(this.options=this.#n.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof X(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#T(),this.#e.setOptions(this.options),n._defaulted&&!Ie(this.options,n)&&this.#n.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const i=this.hasListeners();i&&Ke(this.#e,r,this.options,n)&&this.#c(),this.updateResult(e),i&&(this.#e!==r||X(this.options.enabled,this.#e)!==X(n.enabled,this.#e)||we(this.options.staleTime,this.#e)!==we(n.staleTime,this.#e))&&this.#m();const a=this.#g();i&&(this.#e!==r||X(this.options.enabled,this.#e)!==X(n.enabled,this.#e)||a!==this.#a)&&this.#b(a)}getOptimisticResult(t){const e=this.#n.getQueryCache().build(this.#n,t),n=this.createResult(e,t);return Vt(this,n)&&(this.#t=n,this.#u=this.options,this.#s=this.#e.state),n}getCurrentResult(){return this.#t}trackResult(t,e){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),e?.(r),t[r])})}),n}trackProp(t){this.#h.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#n.defaultQueryOptions(t),n=this.#n.getQueryCache().build(this.#n,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#c({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#t))}#c(t){this.#T();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Bt)),e}#m(){this.#w();const t=we(this.options.staleTime,this.#e);if(Be||this.#t.isStale||!qe(t))return;const n=vt(this.#t.dataUpdatedAt,t)+1;this.#o=setTimeout(()=>{this.#t.isStale||this.updateResult()},n)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#b(t){this.#S(),this.#a=t,!(Be||X(this.options.enabled,this.#e)===!1||!qe(this.#a)||this.#a===0)&&(this.#l=setInterval(()=>{(this.options.refetchIntervalInBackground||Nt.isFocused())&&this.#c()},this.#a))}#_(){this.#m(),this.#b(this.#g())}#w(){this.#o&&(clearTimeout(this.#o),this.#o=void 0)}#S(){this.#l&&(clearInterval(this.#l),this.#l=void 0)}createResult(t,e){const n=this.#e,r=this.options,i=this.#t,a=this.#s,l=this.#u,m=t!==n?t.state:this.#d,{state:S}=t;let _={...S},R=!1,D;if(e._optimisticResults){const W=this.hasListeners(),K=!W&&Ye(t,e),F=W&&Ke(t,n,e,r);(K||F)&&(_={..._,...kt(S.data,t.options)}),e._optimisticResults==="isRestoring"&&(_.fetchStatus="idle")}let{error:V,errorUpdatedAt:$,status:P}=_;if(e.select&&_.data!==void 0)if(i&&_.data===a?.data&&e.select===this.#y)D=this.#f;else try{this.#y=e.select,D=e.select(_.data),D=Qe(i?.data,D,e),this.#f=D,this.#r=null}catch(W){this.#r=W}else D=_.data;if(e.placeholderData!==void 0&&D===void 0&&P==="pending"){let W;if(i?.isPlaceholderData&&e.placeholderData===l?.placeholderData)W=i.data;else if(W=typeof e.placeholderData=="function"?e.placeholderData(this.#p?.state.data,this.#p):e.placeholderData,e.select&&W!==void 0)try{W=e.select(W),this.#r=null}catch(K){this.#r=K}W!==void 0&&(P="success",D=Qe(i?.data,W,e),R=!0)}this.#r&&(V=this.#r,D=this.#f,$=Date.now(),P="error");const oe=_.fetchStatus==="fetching",ne=P==="pending",ce=P==="error",ue=ne&&oe,C=D!==void 0,Q={status:P,fetchStatus:_.fetchStatus,isPending:ne,isSuccess:P==="success",isError:ce,isInitialLoading:ue,isLoading:ue,data:D,dataUpdatedAt:_.dataUpdatedAt,error:V,errorUpdatedAt:$,failureCount:_.fetchFailureCount,failureReason:_.fetchFailureReason,errorUpdateCount:_.errorUpdateCount,isFetched:_.dataUpdateCount>0||_.errorUpdateCount>0,isFetchedAfterMount:_.dataUpdateCount>m.dataUpdateCount||_.errorUpdateCount>m.errorUpdateCount,isFetching:oe,isRefetching:oe&&!ne,isLoadingError:ce&&!C,isPaused:_.fetchStatus==="paused",isPlaceholderData:R,isRefetchError:ce&&C,isStale:Pe(t,e),refetch:this.refetch,promise:this.#i};if(this.options.experimental_prefetchInRender){const W=re=>{Q.status==="error"?re.reject(Q.error):Q.data!==void 0&&re.resolve(Q.data)},K=()=>{const re=this.#i=Q.promise=je();W(re)},F=this.#i;switch(F.status){case"pending":t.queryHash===n.queryHash&&W(F);break;case"fulfilled":(Q.status==="error"||Q.data!==F.value)&&K();break;case"rejected":(Q.status!=="error"||Q.error!==F.reason)&&K();break}}return Q}updateResult(t){const e=this.#t,n=this.createResult(this.#e,this.options);if(this.#s=this.#e.state,this.#u=this.options,this.#s.data!==void 0&&(this.#p=this.#e),Ie(n,e))return;this.#t=n;const r={},i=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!this.#h.size)return!0;const f=new Set(l??this.#h);return this.options.throwOnError&&f.add("error"),Object.keys(this.#t).some(m=>{const S=m;return this.#t[S]!==e[S]&&f.has(S)})};t?.listeners!==!1&&i()&&(r.listeners=!0),this.#x({...r,...t})}#T(){const t=this.#n.getQueryCache().build(this.#n,this.options);if(t===this.#e)return;const e=this.#e;this.#e=t,this.#d=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#x(t){ht.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#t)}),this.#n.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Pt(t,e){return X(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Ye(t,e){return Pt(t,e)||t.state.data!==void 0&&ve(t,e,e.refetchOnMount)}function ve(t,e,n){if(X(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Pe(t,e)}return!1}function Ke(t,e,n,r){return(t!==e||X(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Pe(t,n)}function Pe(t,e){return X(e.enabled,t)!==!1&&t.isStaleByTime(we(e.staleTime,t))}function Vt(t,e){return!Ie(t.getCurrentResult(),e)}var dt=w.createContext(!1),Wt=()=>w.useContext(dt);dt.Provider;function zt(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Gt=w.createContext(zt()),Ft=()=>w.useContext(Gt);function jt(t,e){return typeof t=="function"?t(...e):!!t}function He(){}var qt=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Qt=t=>{w.useEffect(()=>{t.clearReset()},[t])},Yt=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||jt(n,[t.error,r])),Wr=(t,e)=>e.state.data===void 0,Kt=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...n)=>Math.max(e(...n),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Ht=(t,e)=>t.isLoading&&t.isFetching&&!e,$t=(t,e)=>t?.suspense&&e.isPending,$e=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function zr(t,e,n){const r=Ct(),i=Wt(),a=Ft(),l=r.defaultQueryOptions(t);r.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=i?"isRestoring":"optimistic",Kt(l),qt(l,a),Qt(a);const f=!r.getQueryCache().get(l.queryHash),[m]=w.useState(()=>new e(r,l)),S=m.getOptimisticResult(l),_=!i&&t.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(R=>{const D=_?m.subscribe(ht.batchCalls(R)):He;return m.updateResult(),D},[m,_]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),w.useEffect(()=>{m.setOptions(l,{listeners:!1})},[l,m]),$t(l,S))throw $e(l,m,a);if(Yt({result:S,errorResetBoundary:a,throwOnError:l.throwOnError,query:r.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw S.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(l,S),l.experimental_prefetchInRender&&!Be&&Ht(S,i)&&(f?$e(l,m,a):r.getQueryCache().get(l.queryHash)?.promise)?.catch(He).finally(()=>{m.updateResult()}),l.notifyOnChangeProps?S:m.trackResult(S)}const Jt={arrowrighttoline:w.lazy(()=>E(()=>import("./arrow-right-to-line-B_IM9LhA.js"),__vite__mapDeps([0,1,2,3]))),check:w.lazy(()=>E(()=>import("./check-By6g7RG-.js"),__vite__mapDeps([4,1,2,3]))),checkicon:w.lazy(()=>E(()=>import("./check-By6g7RG-.js"),__vite__mapDeps([4,1,2,3]))),chevrondown:w.lazy(()=>E(()=>import("./chevron-down-Bf66fNBy.js"),__vite__mapDeps([5,1,2,3]))),chevronleft:w.lazy(()=>E(()=>import("./chevron-left-iM35EwVl.js"),__vite__mapDeps([6,1,2,3]))),chevronright:w.lazy(()=>E(()=>import("./chevron-right-BuocR1ml.js"),__vite__mapDeps([7,1,2,3]))),chevronup:w.lazy(()=>E(()=>import("./chevron-up-MD7nKQDD.js"),__vite__mapDeps([8,1,2,3]))),circle:w.lazy(()=>E(()=>import("./circle-B2XJLhZk.js"),__vite__mapDeps([9,1,2,3]))),clipboardicon:w.lazy(()=>E(()=>import("./clipboard-CAq4xlya.js"),__vite__mapDeps([10,1,2,3]))),dot:w.lazy(()=>E(()=>import("./dot-CgcEEC0c.js"),__vite__mapDeps([11,1,2,3]))),download:w.lazy(()=>E(()=>import("./download-D8nvaMvB.js"),__vite__mapDeps([12,1,2,3]))),externallink:w.lazy(()=>E(()=>import("./external-link-CMenmXve.js"),__vite__mapDeps([13,1,2,3]))),keyround:w.lazy(()=>E(()=>import("./key-round-CF0eTThH.js"),__vite__mapDeps([14,1,2,3]))),mail:w.lazy(()=>E(()=>import("./mail-Cnh3WkQH.js"),__vite__mapDeps([15,1,2,3]))),moon:w.lazy(()=>E(()=>import("./moon-DJ7SBB96.js"),__vite__mapDeps([16,1,2,3]))),morehorizontal:w.lazy(()=>E(()=>import("./more-horizontal-v_aGJaLu.js"),__vite__mapDeps([17,1,2,3]))),plane:w.lazy(()=>E(()=>import("./plane-DLmmKmvl.js"),__vite__mapDeps([18,1,2,3]))),sailboat:w.lazy(()=>E(()=>import("./sailboat-BVMHX3Bt.js"),__vite__mapDeps([19,1,2,3]))),settings:w.lazy(()=>E(()=>import("./settings-I2WzCYu1.js"),__vite__mapDeps([20,1,2,3]))),sheet:w.lazy(()=>E(()=>import("./sheet-1aDdDBA1.js"),__vite__mapDeps([21,1,2,3]))),shield:w.lazy(()=>E(()=>import("./shield-Cv9lEAcf.js"),__vite__mapDeps([22,1,2,3]))),sun:w.lazy(()=>E(()=>import("./sun-Bm5vuBU9.js"),__vite__mapDeps([23,1,2,3]))),x:w.lazy(()=>E(()=>import("./x-BXcCGRVm.js"),__vite__mapDeps([24,1,2,3]))),gitpullrequest:w.lazy(()=>E(()=>import("./git-pull-request-BzChZE6p.js"),__vite__mapDeps([25,1,2,3]))),bookopentext:w.lazy(()=>E(()=>import("./book-open-text-Bok-XPlT.js"),__vite__mapDeps([26,1,2,3]))),copy:w.lazy(()=>E(()=>import("./copy-BxH-3715.js"),__vite__mapDeps([27,1,2,3]))),infinity:w.lazy(()=>E(()=>import("./infinity-C1Ln10vM.js"),__vite__mapDeps([28,1,2,3]))),github:w.lazy(()=>E(()=>import("./github-CfLmv8a6.js"),__vite__mapDeps([29,1,2,3]))),messagesquaretext:w.lazy(()=>E(()=>import("./message-square-text-CyqJhlH7.js"),__vite__mapDeps([30,1,2,3]))),circleuserround:w.lazy(()=>E(()=>import("./circle-user-round-C4mpvK-9.js"),__vite__mapDeps([31,1,2,3]))),joystick:w.lazy(()=>E(()=>import("./joystick-BBi34qrL.js"),__vite__mapDeps([32,1,2,3]))),atsign:w.lazy(()=>E(()=>import("./at-sign-B4VxyMT7.js"),__vite__mapDeps([33,1,2,3]))),listx:w.lazy(()=>E(()=>import("./list-x-k2RJOGuP.js"),__vite__mapDeps([34,1,2,3]))),listchecks:w.lazy(()=>E(()=>import("./list-checks-b-nmgKSP.js"),__vite__mapDeps([35,1,2,3]))),eyeoff:w.lazy(()=>E(()=>import("./eye-off-Cetojuke.js"),__vite__mapDeps([36,1,2,3]))),bug:w.lazy(()=>E(()=>import("./bug-Czn-crZ2.js"),__vite__mapDeps([37,1,2,3]))),rotateccw:w.lazy(()=>E(()=>import("./rotate-ccw-PFvxJkPX.js"),__vite__mapDeps([38,1,2,3]))),search:w.lazy(()=>E(()=>import("./search-DBPpT2-e.js"),__vite__mapDeps([39,1,2,3]))),logout:w.lazy(()=>E(()=>import("./log-out-CouzTv2I.js"),__vite__mapDeps([40,1,2,3]))),users:w.lazy(()=>E(()=>import("./users-D3j72Ugh.js"),__vite__mapDeps([41,1,2,3]))),messagecircle:w.lazy(()=>E(()=>import("./message-circle-9-pEwBIe.js"),__vite__mapDeps([42,1,2,3]))),trianglealert:w.lazy(()=>E(()=>import("./triangle-alert-BCLJQAG0.js"),__vite__mapDeps([43,1,2,3]))),pause:w.lazy(()=>E(()=>import("./pause-BPLiZQTA.js"),__vite__mapDeps([44,1,2,3]))),play:w.lazy(()=>E(()=>import("./play-CGrIxatj.js"),__vite__mapDeps([45,1,2,3]))),user:w.lazy(()=>E(()=>import("./user-BJwnZe_d.js"),__vite__mapDeps([46,1,2,3])))},Gr=H.jsxs("svg",{width:22,height:22,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[H.jsx("circle",{cx:"12",cy:"12",r:"9"}),H.jsx("path",{d:"M12 8v5"}),H.jsx("path",{d:"M12 16h.01"})]}),Xt=t=>{const e=Lt.c(6),{size:n,className:r}=t,i=n===void 0?22:n;let a,l,f;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=H.jsx("circle",{cx:"12",cy:"12",r:"9"}),l=H.jsx("path",{d:"M12 8v5"}),f=H.jsx("path",{d:"M12 16h.01"}),e[0]=a,e[1]=l,e[2]=f):(a=e[0],l=e[1],f=e[2]);let m;return e[3]!==r||e[4]!==i?(m=H.jsxs("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:r,"aria-hidden":"true",children:[a,l,f]}),e[3]=r,e[4]=i,e[5]=m):m=e[5],m},Fr=w.memo(({name:t,size:e=22,className:n,fallback:r=H.jsx(Xt,{size:e,className:n}),onClick:i,...a})=>{const l=t.toLowerCase(),f=Jt[l];return H.jsx(w.Suspense,{fallback:r,children:H.jsx(f,{size:e,className:n,onClick:i,...a})})});var Ne;try{Ne=new TextDecoder}catch{}var y,ee,s=0,L={},I,ae,Y=0,Z=0,G,te,q=[],O,Je={useRecords:!1,mapsAsObjects:!0};class yt{}const mt=new yt;mt.name="MessagePack 0xC1";var se=!1,gt=2,Zt;try{new Function("")}catch{gt=1/0}class pe{constructor(e){e&&(e.useRecords===!1&&e.mapsAsObjects===void 0&&(e.mapsAsObjects=!0),e.sequential&&e.trusted!==!1&&(e.trusted=!0,!e.structures&&e.useRecords!=!1&&(e.structures=[],e.maxSharedStructures||(e.maxSharedStructures=0))),e.structures?e.structures.sharedLength=e.structures.length:e.getStructures&&((e.structures=[]).uninitialized=!0,e.structures.sharedLength=0),e.int64AsNumber&&(e.int64AsType="number")),Object.assign(this,e)}unpack(e,n){if(y)return xt(()=>(Ce(),this?this.unpack(e,n):pe.prototype.unpack.call(Je,e,n)));!e.buffer&&e.constructor===ArrayBuffer&&(e=typeof Buffer<"u"?Buffer.from(e):new Uint8Array(e)),typeof n=="object"?(ee=n.end||e.length,s=n.start||0):(s=0,ee=n>-1?n:e.length),Z=0,ae=null,G=null,y=e;try{O=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(r){throw y=null,e instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(e&&typeof e=="object"?e.constructor.name:typeof e))}if(this instanceof pe){if(L=this,this.structures)return I=this.structures,be(n);(!I||I.length>0)&&(I=[])}else L=Je,(!I||I.length>0)&&(I=[]);return be(n)}unpackMultiple(e,n){let r,i=0;try{se=!0;let a=e.length,l=this?this.unpack(e,a):xe.unpack(e,a);if(n){if(n(l,i,s)===!1)return;for(;s<a;)if(i=s,n(be(),i,s)===!1)return}else{for(r=[l];s<a;)i=s,r.push(be());return r}}catch(a){throw a.lastPosition=i,a.values=r,a}finally{se=!1,Ce()}}_mergeStructures(e,n){e=e||[],Object.isFrozen(e)&&(e=e.map(r=>r.slice(0)));for(let r=0,i=e.length;r<i;r++){let a=e[r];a&&(a.isShared=!0,r>=32&&(a.highByte=r-32>>5))}e.sharedLength=e.length;for(let r in n||[])if(r>=0){let i=e[r],a=n[r];a&&(i&&((e.restoreStructures||(e.restoreStructures=[]))[r]=i),e[r]=a)}return this.structures=e}decode(e,n){return this.unpack(e,n)}}function be(t){try{if(!L.trusted&&!se){let n=I.sharedLength||0;n<I.length&&(I.length=n)}let e;if(L.randomAccessStructure&&y[s]<64&&y[s]>=32&&Zt||(e=M()),G&&(s=G.postBundlePosition,G=null),se&&(I.restoreStructures=null),s==ee)I&&I.restoreStructures&&Xe(),I=null,y=null,te&&(te=null);else{if(s>ee)throw new Error("Unexpected end of MessagePack data");if(!se){let n;try{n=JSON.stringify(e,(r,i)=>typeof i=="bigint"?`${i}n`:i).slice(0,100)}catch(r){n="(JSON view not available "+r+")"}throw new Error("Data read, but end of buffer not reached "+n)}}return e}catch(e){throw I&&I.restoreStructures&&Xe(),Ce(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer")||s>ee)&&(e.incomplete=!0),e}}function Xe(){for(let t in I.restoreStructures)I[t]=I.restoreStructures[t];I.restoreStructures=null}function M(){let t=y[s++];if(t<160)if(t<128){if(t<64)return t;{let e=I[t&63]||L.getStructures&&bt()[t&63];return e?(e.read||(e.read=Ve(e,t&63)),e.read()):t}}else if(t<144)if(t-=128,L.mapsAsObjects){let e={};for(let n=0;n<t;n++){let r=wt();r==="__proto__"&&(r="__proto_"),e[r]=M()}return e}else{let e=new Map;for(let n=0;n<t;n++)e.set(M(),M());return e}else{t-=144;let e=new Array(t);for(let n=0;n<t;n++)e[n]=M();return L.freezeData?Object.freeze(e):e}else if(t<192){let e=t-160;if(Z>=s)return ae.slice(s-Y,(s+=e)-Y);if(Z==0&&ee<140){let n=e<16?We(e):_t(e);if(n!=null)return n}return ke(e)}else{let e;switch(t){case 192:return null;case 193:return G?(e=M(),e>0?G[1].slice(G.position1,G.position1+=e):G[0].slice(G.position0,G.position0-=e)):mt;case 194:return!1;case 195:return!0;case 196:if(e=y[s++],e===void 0)throw new Error("Unexpected end of buffer");return Ee(e);case 197:return e=O.getUint16(s),s+=2,Ee(e);case 198:return e=O.getUint32(s),s+=4,Ee(e);case 199:return le(y[s++]);case 200:return e=O.getUint16(s),s+=2,le(e);case 201:return e=O.getUint32(s),s+=4,le(e);case 202:if(e=O.getFloat32(s),L.useFloat32>2){let n=ze[(y[s]&127)<<1|y[s+1]>>7];return s+=4,(n*e+(e>0?.5:-.5)>>0)/n}return s+=4,e;case 203:return e=O.getFloat64(s),s+=8,e;case 204:return y[s++];case 205:return e=O.getUint16(s),s+=2,e;case 206:return e=O.getUint32(s),s+=4,e;case 207:return L.int64AsType==="number"?(e=O.getUint32(s)*4294967296,e+=O.getUint32(s+4)):L.int64AsType==="string"?e=O.getBigUint64(s).toString():L.int64AsType==="auto"?(e=O.getBigUint64(s),e<=BigInt(2)<<BigInt(52)&&(e=Number(e))):e=O.getBigUint64(s),s+=8,e;case 208:return O.getInt8(s++);case 209:return e=O.getInt16(s),s+=2,e;case 210:return e=O.getInt32(s),s+=4,e;case 211:return L.int64AsType==="number"?(e=O.getInt32(s)*4294967296,e+=O.getUint32(s+4)):L.int64AsType==="string"?e=O.getBigInt64(s).toString():L.int64AsType==="auto"?(e=O.getBigInt64(s),e>=BigInt(-2)<<BigInt(52)&&e<=BigInt(2)<<BigInt(52)&&(e=Number(e))):e=O.getBigInt64(s),s+=8,e;case 212:if(e=y[s++],e==114)return it(y[s++]&63);{let n=q[e];if(n)return n.read?(s++,n.read(M())):n.noBuffer?(s++,n()):n(y.subarray(s,++s));throw new Error("Unknown extension "+e)}case 213:return e=y[s],e==114?(s++,it(y[s++]&63,y[s++])):le(2);case 214:return le(4);case 215:return le(8);case 216:return le(16);case 217:return e=y[s++],Z>=s?ae.slice(s-Y,(s+=e)-Y):tn(e);case 218:return e=O.getUint16(s),s+=2,Z>=s?ae.slice(s-Y,(s+=e)-Y):nn(e);case 219:return e=O.getUint32(s),s+=4,Z>=s?ae.slice(s-Y,(s+=e)-Y):rn(e);case 220:return e=O.getUint16(s),s+=2,et(e);case 221:return e=O.getUint32(s),s+=4,et(e);case 222:return e=O.getUint16(s),s+=2,tt(e);case 223:return e=O.getUint32(s),s+=4,tt(e);default:if(t>=224)return t-256;if(t===void 0){let n=new Error("Unexpected end of MessagePack data");throw n.incomplete=!0,n}throw new Error("Unknown MessagePack token "+t)}}}const en=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function Ve(t,e){function n(){if(n.count++>gt){let i=t.read=new Function("r","return function(){return "+(L.freezeData?"Object.freeze":"")+"({"+t.map(a=>a==="__proto__"?"__proto_:r()":en.test(a)?a+":r()":"["+JSON.stringify(a)+"]:r()").join(",")+"})}")(M);return t.highByte===0&&(t.read=Ze(e,t.read)),i()}let r={};for(let i=0,a=t.length;i<a;i++){let l=t[i];l==="__proto__"&&(l="__proto_"),r[l]=M()}return L.freezeData?Object.freeze(r):r}return n.count=0,t.highByte===0?Ze(e,n):n}const Ze=(t,e)=>function(){let n=y[s++];if(n===0)return e();let r=t<32?-(t+(n<<5)):t+(n<<5),i=I[r]||bt()[r];if(!i)throw new Error("Record id is not defined for "+r);return i.read||(i.read=Ve(i,t)),i.read()};function bt(){let t=xt(()=>(y=null,L.getStructures()));return I=L._mergeStructures(t,I)}var ke=me,tn=me,nn=me,rn=me;function me(t){let e;if(t<16&&(e=We(t)))return e;if(t>64&&Ne)return Ne.decode(y.subarray(s,s+=t));const n=s+t,r=[];for(e="";s<n;){const i=y[s++];if((i&128)===0)r.push(i);else if((i&224)===192){const a=y[s++]&63;r.push((i&31)<<6|a)}else if((i&240)===224){const a=y[s++]&63,l=y[s++]&63;r.push((i&31)<<12|a<<6|l)}else if((i&248)===240){const a=y[s++]&63,l=y[s++]&63,f=y[s++]&63;let m=(i&7)<<18|a<<12|l<<6|f;m>65535&&(m-=65536,r.push(m>>>10&1023|55296),m=56320|m&1023),r.push(m)}else r.push(i);r.length>=4096&&(e+=z.apply(String,r),r.length=0)}return r.length>0&&(e+=z.apply(String,r)),e}function et(t){let e=new Array(t);for(let n=0;n<t;n++)e[n]=M();return L.freezeData?Object.freeze(e):e}function tt(t){if(L.mapsAsObjects){let e={};for(let n=0;n<t;n++){let r=wt();r==="__proto__"&&(r="__proto_"),e[r]=M()}return e}else{let e=new Map;for(let n=0;n<t;n++)e.set(M(),M());return e}}var z=String.fromCharCode;function _t(t){let e=s,n=new Array(t);for(let r=0;r<t;r++){const i=y[s++];if((i&128)>0){s=e;return}n[r]=i}return z.apply(String,n)}function We(t){if(t<4)if(t<2){if(t===0)return"";{let e=y[s++];if((e&128)>1){s-=1;return}return z(e)}}else{let e=y[s++],n=y[s++];if((e&128)>0||(n&128)>0){s-=2;return}if(t<3)return z(e,n);let r=y[s++];if((r&128)>0){s-=3;return}return z(e,n,r)}else{let e=y[s++],n=y[s++],r=y[s++],i=y[s++];if((e&128)>0||(n&128)>0||(r&128)>0||(i&128)>0){s-=4;return}if(t<6){if(t===4)return z(e,n,r,i);{let a=y[s++];if((a&128)>0){s-=5;return}return z(e,n,r,i,a)}}else if(t<8){let a=y[s++],l=y[s++];if((a&128)>0||(l&128)>0){s-=6;return}if(t<7)return z(e,n,r,i,a,l);let f=y[s++];if((f&128)>0){s-=7;return}return z(e,n,r,i,a,l,f)}else{let a=y[s++],l=y[s++],f=y[s++],m=y[s++];if((a&128)>0||(l&128)>0||(f&128)>0||(m&128)>0){s-=8;return}if(t<10){if(t===8)return z(e,n,r,i,a,l,f,m);{let S=y[s++];if((S&128)>0){s-=9;return}return z(e,n,r,i,a,l,f,m,S)}}else if(t<12){let S=y[s++],_=y[s++];if((S&128)>0||(_&128)>0){s-=10;return}if(t<11)return z(e,n,r,i,a,l,f,m,S,_);let R=y[s++];if((R&128)>0){s-=11;return}return z(e,n,r,i,a,l,f,m,S,_,R)}else{let S=y[s++],_=y[s++],R=y[s++],D=y[s++];if((S&128)>0||(_&128)>0||(R&128)>0||(D&128)>0){s-=12;return}if(t<14){if(t===12)return z(e,n,r,i,a,l,f,m,S,_,R,D);{let V=y[s++];if((V&128)>0){s-=13;return}return z(e,n,r,i,a,l,f,m,S,_,R,D,V)}}else{let V=y[s++],$=y[s++];if((V&128)>0||($&128)>0){s-=14;return}if(t<15)return z(e,n,r,i,a,l,f,m,S,_,R,D,V,$);let P=y[s++];if((P&128)>0){s-=15;return}return z(e,n,r,i,a,l,f,m,S,_,R,D,V,$,P)}}}}}function nt(){let t=y[s++],e;if(t<192)e=t-160;else switch(t){case 217:e=y[s++];break;case 218:e=O.getUint16(s),s+=2;break;case 219:e=O.getUint32(s),s+=4;break;default:throw new Error("Expected string")}return me(e)}function Ee(t){return L.copyBuffers?Uint8Array.prototype.slice.call(y,s,s+=t):y.subarray(s,s+=t)}function le(t){let e=y[s++];if(q[e]){let n;return q[e](y.subarray(s,n=s+=t),r=>{s=r;try{return M()}finally{s=n}})}else throw new Error("Unknown extension type "+e)}var rt=new Array(4096);function wt(){let t=y[s++];if(t>=160&&t<192){if(t=t-160,Z>=s)return ae.slice(s-Y,(s+=t)-Y);if(!(Z==0&&ee<180))return ke(t)}else return s--,St(M());let e=(t<<5^(t>1?O.getUint16(s):t>0?y[s]:0))&4095,n=rt[e],r=s,i=s+t-3,a,l=0;if(n&&n.bytes==t){for(;r<i;){if(a=O.getUint32(r),a!=n[l++]){r=1879048192;break}r+=4}for(i+=3;r<i;)if(a=y[r++],a!=n[l++]){r=1879048192;break}if(r===i)return s=r,n.string;i-=3,r=s}for(n=[],rt[e]=n,n.bytes=t;r<i;)a=O.getUint32(r),n.push(a),r+=4;for(i+=3;r<i;)a=y[r++],n.push(a);let f=t<16?We(t):_t(t);return f!=null?n.string=f:n.string=ke(t)}function St(t){if(typeof t=="string")return t;if(typeof t=="number"||typeof t=="boolean"||typeof t=="bigint")return t.toString();if(t==null)return t+"";if(L.allowArraysInMapKeys&&Array.isArray(t)&&t.flat().every(e=>["string","number","boolean","bigint"].includes(typeof e)))return t.flat().toString();throw new Error(`Invalid property type for record: ${typeof t}`)}const it=(t,e)=>{let n=M().map(St),r=t;e!==void 0&&(t=t<32?-((e<<5)+t):(e<<5)+t,n.highByte=e);let i=I[t];return i&&(i.isShared||se)&&((I.restoreStructures||(I.restoreStructures=[]))[t]=i),I[t]=n,n.read=Ve(n,r),n.read()};q[0]=()=>{};q[0].noBuffer=!0;q[66]=t=>{let e=t.byteLength%8||8,n=BigInt(t[0]&128?t[0]-256:t[0]);for(let r=1;r<e;r++)n<<=BigInt(8),n+=BigInt(t[r]);if(t.byteLength!==e){let r=new DataView(t.buffer,t.byteOffset,t.byteLength),i=(a,l)=>{let f=l-a;if(f<=40){let R=r.getBigUint64(a);for(let D=a+8;D<l;D+=8)R<<=64n,R|=r.getBigUint64(D);return R}let m=a+(f>>4<<3),S=i(a,m),_=i(m,l);return S<<BigInt((l-m)*8)|_};n=n<<BigInt((r.byteLength-e)*8)|i(e,r.byteLength)}return n};let at={Error,EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError,AggregateError:typeof AggregateError=="function"?AggregateError:null};q[101]=()=>{let t=M();if(!at[t[0]]){let e=Error(t[1],{cause:t[2]});return e.name=t[0],e}return at[t[0]](t[1],{cause:t[2]})};q[105]=t=>{if(L.structuredClone===!1)throw new Error("Structured clone extension is disabled");let e=O.getUint32(s-4);te||(te=new Map);let n=y[s],r;n>=144&&n<160||n==220||n==221?r=[]:n>=128&&n<144||n==222||n==223?r=new Map:(n>=199&&n<=201||n>=212&&n<=216)&&y[s+1]===115?r=new Set:r={};let i={target:r};te.set(e,i);let a=M();if(i.used)Object.assign(r,a);else return i.target=a;if(r instanceof Map)for(let[l,f]of a.entries())r.set(l,f);if(r instanceof Set)for(let l of Array.from(a))r.add(l);return r};q[112]=t=>{if(L.structuredClone===!1)throw new Error("Structured clone extension is disabled");let e=O.getUint32(s-4),n=te.get(e);return n.used=!0,n.target};q[115]=()=>new Set(M());const Tt=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(t=>t+"Array");let an=typeof globalThis=="object"?globalThis:window;q[116]=t=>{let e=t[0],n=Uint8Array.prototype.slice.call(t,1).buffer,r=Tt[e];if(!r){if(e===16)return n;if(e===17)return new DataView(n);throw new Error("Could not find typed array for code "+e)}return new an[r](n)};q[120]=()=>{let t=M();return new RegExp(t[0],t[1])};const sn=[];q[98]=t=>{let e=(t[0]<<24)+(t[1]<<16)+(t[2]<<8)+t[3],n=s;return s+=e-t.length,G=sn,G=[nt(),nt()],G.position0=0,G.position1=0,G.postBundlePosition=s,s=n,M()};q[255]=t=>t.length==4?new Date((t[0]*16777216+(t[1]<<16)+(t[2]<<8)+t[3])*1e3):t.length==8?new Date(((t[0]<<22)+(t[1]<<14)+(t[2]<<6)+(t[3]>>2))/1e6+((t[3]&3)*4294967296+t[4]*16777216+(t[5]<<16)+(t[6]<<8)+t[7])*1e3):t.length==12?new Date(((t[0]<<24)+(t[1]<<16)+(t[2]<<8)+t[3])/1e6+((t[4]&128?-281474976710656:0)+t[6]*1099511627776+t[7]*4294967296+t[8]*16777216+(t[9]<<16)+(t[10]<<8)+t[11])*1e3):new Date("invalid");function xt(t){let e=ee,n=s,r=Y,i=Z,a=ae,l=te,f=G,m=new Uint8Array(y.slice(0,ee)),S=I,_=I.slice(0,I.length),R=L,D=se,V=t();return ee=e,s=n,Y=r,Z=i,ae=a,te=l,G=f,y=m,se=D,I=S,I.splice(0,I.length,..._),L=R,O=new DataView(y.buffer,y.byteOffset,y.byteLength),V}function Ce(){y=null,te=null,I=null}const ze=new Array(147);for(let t=0;t<256;t++)ze[t]=+("1e"+Math.floor(45.15-t*.30103));var xe=new pe({useRecords:!1});xe.unpack;xe.unpackMultiple;xe.unpack;let on=new Float32Array(1);new Uint8Array(on.buffer,0,4);let Se;try{Se=new TextEncoder}catch{}let Le,Ue;const he=typeof Buffer<"u",_e=he?function(t){return Buffer.allocUnsafeSlow(t)}:Uint8Array,At=he?Buffer:Uint8Array,st=he?4294967296:2144337920;let c,ye,k,o=0,j,U=null,ln;const cn=21760,un=/[\u0080-\uFFFF]/,fe=Symbol("record-id");class fn extends pe{constructor(e){super(e),this.offset=0;let n,r,i,a,l=At.prototype.utf8Write?function(u,g){return c.utf8Write(u,g,c.byteLength-g)}:Se&&Se.encodeInto?function(u,g){return Se.encodeInto(u,c.subarray(g)).written}:!1,f=this;e||(e={});let m=e&&e.sequential,S=e.structures||e.saveStructures,_=e.maxSharedStructures;if(_==null&&(_=S?32:0),_>8160)throw new Error("Maximum maxSharedStructure is 8160");e.structuredClone&&e.moreTypes==null&&(this.moreTypes=!0);let R=e.maxOwnStructures;R==null&&(R=S?32:64),!this.structures&&e.useRecords!=!1&&(this.structures=[]);let D=_>32||R+_>64,V=_+64,$=_+R+64;if($>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let P=[],oe=0,ne=0;this.pack=this.encode=function(u,g){if(c||(c=new _e(8192),k=c.dataView||(c.dataView=new DataView(c.buffer,0,8192)),o=0),j=c.length-10,j-o<2048?(c=new _e(c.length),k=c.dataView||(c.dataView=new DataView(c.buffer,0,c.length)),j=c.length-10,o=0):o=o+7&2147483640,n=o,g&mn&&(o+=g&255),a=f.structuredClone?new Map:null,f.bundleStrings&&typeof u!="string"?(U=[],U.size=1/0):U=null,i=f.structures,i){i.uninitialized&&(i=f._mergeStructures(f.getStructures()));let p=i.sharedLength||0;if(p>_)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+i.sharedLength);if(!i.transitions){i.transitions=Object.create(null);for(let h=0;h<p;h++){let x=i[h];if(!x)continue;let A,T=i.transitions;for(let v=0,N=x.length;v<N;v++){let J=x[v];A=T[J],A||(A=T[J]=Object.create(null)),T=A}T[fe]=h+64}this.lastNamedStructuresLength=p}m||(i.nextId=p+64)}r&&(r=!1);let d;try{f.randomAccessStructure&&u&&typeof u=="object"?u.constructor===Object?Fe(u):u.constructor!==Map&&!Array.isArray(u)&&!Ue.some(h=>u instanceof h)?Fe(u.toJSON?u.toJSON():u):C(u):C(u);let p=U;if(U&&lt(n,C,0),a&&a.idsToInsert){let h=a.idsToInsert.sort((v,N)=>v.offset>N.offset?1:-1),x=h.length,A=-1;for(;p&&x>0;){let v=h[--x].offset+n;v<p.stringsPosition+n&&A===-1&&(A=0),v>p.position+n?A>=0&&(A+=6):(A>=0&&(k.setUint32(p.position+n,k.getUint32(p.position+n)+A),A=-1),p=p.previous,x++)}A>=0&&p&&k.setUint32(p.position+n,k.getUint32(p.position+n)+A),o+=h.length*6,o>j&&F(o),f.offset=o;let T=pn(c.subarray(n,o),h);return a=null,T}return f.offset=o,g&dn?(c.start=n,c.end=o,c):c.subarray(n,o)}catch(p){throw d=p,p}finally{if(i&&(ce(),r&&f.saveStructures)){let p=i.sharedLength||0,h=c.subarray(n,o),x=hn(i,f);if(!d)return f.saveStructures(x,x.isCompatible)===!1?f.pack(u,g):(f.lastNamedStructuresLength=p,c.length>1073741824&&(c=null),h)}c.length>1073741824&&(c=null),g&yn&&(o=n)}};const ce=()=>{ne<10&&ne++;let u=i.sharedLength||0;if(i.length>u&&!m&&(i.length=u),oe>1e4)i.transitions=null,ne=0,oe=0,P.length>0&&(P=[]);else if(P.length>0&&!m){for(let g=0,d=P.length;g<d;g++)P[g][fe]=0;P=[]}},ue=u=>{var g=u.length;g<16?c[o++]=144|g:g<65536?(c[o++]=220,c[o++]=g>>8,c[o++]=g&255):(c[o++]=221,k.setUint32(o,g),o+=4);for(let d=0;d<g;d++)C(u[d])},C=u=>{o>j&&(c=F(o));var g=typeof u,d;if(g==="string"){let p=u.length;if(U&&p>=4&&p<4096){if((U.size+=p)>cn){let T,v=(U[0]?U[0].length*3+U[1].length:0)+10;o+v>j&&(c=F(o+v));let N;U.position?(N=U,c[o]=200,o+=3,c[o++]=98,T=o-n,o+=4,lt(n,C,0),k.setUint16(T+n-3,o-n-T)):(c[o++]=214,c[o++]=98,T=o-n,o+=4),U=["",""],U.previous=N,U.size=0,U.position=T}let A=un.test(u);U[A?0:1]+=u,c[o++]=193,C(A?-p:p);return}let h;p<32?h=1:p<256?h=2:p<65536?h=3:h=5;let x=p*3;if(o+x>j&&(c=F(o+x)),p<64||!l){let A,T,v,N=o+h;for(A=0;A<p;A++)T=u.charCodeAt(A),T<128?c[N++]=T:T<2048?(c[N++]=T>>6|192,c[N++]=T&63|128):(T&64512)===55296&&((v=u.charCodeAt(A+1))&64512)===56320?(T=65536+((T&1023)<<10)+(v&1023),A++,c[N++]=T>>18|240,c[N++]=T>>12&63|128,c[N++]=T>>6&63|128,c[N++]=T&63|128):(c[N++]=T>>12|224,c[N++]=T>>6&63|128,c[N++]=T&63|128);d=N-o-h}else d=l(u,o+h);d<32?c[o++]=160|d:d<256?(h<2&&c.copyWithin(o+2,o+1,o+1+d),c[o++]=217,c[o++]=d):d<65536?(h<3&&c.copyWithin(o+3,o+2,o+2+d),c[o++]=218,c[o++]=d>>8,c[o++]=d&255):(h<5&&c.copyWithin(o+5,o+3,o+3+d),c[o++]=219,k.setUint32(o,d),o+=4),o+=d}else if(g==="number")if(u>>>0===u)u<32||u<128&&this.useRecords===!1||u<64&&!this.randomAccessStructure?c[o++]=u:u<256?(c[o++]=204,c[o++]=u):u<65536?(c[o++]=205,c[o++]=u>>8,c[o++]=u&255):(c[o++]=206,k.setUint32(o,u),o+=4);else if(u>>0===u)u>=-32?c[o++]=256+u:u>=-128?(c[o++]=208,c[o++]=u+256):u>=-32768?(c[o++]=209,k.setInt16(o,u),o+=2):(c[o++]=210,k.setInt32(o,u),o+=4);else{let p;if((p=this.useFloat32)>0&&u<4294967296&&u>=-2147483648){c[o++]=202,k.setFloat32(o,u);let h;if(p<4||(h=u*ze[(c[o]&127)<<1|c[o+1]>>7])>>0===h){o+=4;return}else o--}c[o++]=203,k.setFloat64(o,u),o+=8}else if(g==="object"||g==="function")if(!u)c[o++]=192;else{if(a){let h=a.get(u);if(h){if(!h.id){let x=a.idsToInsert||(a.idsToInsert=[]);h.id=x.push(h)}c[o++]=214,c[o++]=112,k.setUint32(o,h.id),o+=4;return}else a.set(u,{offset:o-n})}let p=u.constructor;if(p===Object)K(u);else if(p===Array)ue(u);else if(p===Map)if(this.mapAsEmptyObject)c[o++]=128;else{d=u.size,d<16?c[o++]=128|d:d<65536?(c[o++]=222,c[o++]=d>>8,c[o++]=d&255):(c[o++]=223,k.setUint32(o,d),o+=4);for(let[h,x]of u)C(h),C(x)}else{for(let h=0,x=Le.length;h<x;h++){let A=Ue[h];if(u instanceof A){let T=Le[h];if(T.write){T.type&&(c[o++]=212,c[o++]=T.type,c[o++]=0);let de=T.write.call(this,u);de===u?Array.isArray(u)?ue(u):K(u):C(de);return}let v=c,N=k,J=o;c=null;let ie;try{ie=T.pack.call(this,u,de=>(c=v,v=null,o+=de,o>j&&F(o),{target:c,targetView:k,position:o-de}),C)}finally{v&&(c=v,k=N,o=J,j=c.length-10)}ie&&(ie.length+o>j&&F(ie.length+o),o=ot(ie,c,o,T.type));return}}if(Array.isArray(u))ue(u);else{if(u.toJSON){const h=u.toJSON();if(h!==u)return C(h)}if(g==="function")return C(this.writeFunction&&this.writeFunction(u));K(u)}}}else if(g==="boolean")c[o++]=u?195:194;else if(g==="bigint"){if(u<9223372036854776e3&&u>=-9223372036854776e3)c[o++]=211,k.setBigInt64(o,u);else if(u<18446744073709552e3&&u>0)c[o++]=207,k.setBigUint64(o,u);else if(this.largeBigIntToFloat)c[o++]=203,k.setFloat64(o,Number(u));else{if(this.largeBigIntToString)return C(u.toString());if(this.useBigIntExtension||this.moreTypes){let p=u<0?BigInt(-1):BigInt(0),h;if(u>>BigInt(65536)===p){let x=BigInt(18446744073709552e3)-BigInt(1),A=[];for(;A.push(u&x),u>>BigInt(63)!==p;)u>>=BigInt(64);h=new Uint8Array(new BigUint64Array(A).buffer),h.reverse()}else{let x=u<0,A=(x?~u:u).toString(16);if(A.length%2?A="0"+A:parseInt(A.charAt(0),16)>=8&&(A="00"+A),he)h=Buffer.from(A,"hex");else{h=new Uint8Array(A.length/2);for(let T=0;T<h.length;T++)h[T]=parseInt(A.slice(T*2,T*2+2),16)}if(x)for(let T=0;T<h.length;T++)h[T]=~h[T]}h.length+o>j&&F(h.length+o),o=ot(h,c,o,66);return}else throw new RangeError(u+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension, or set largeBigIntToFloat to convert to float-64, or set largeBigIntToString to convert to string")}o+=8}else if(g==="undefined")this.encodeUndefinedAsNil?c[o++]=192:(c[o++]=212,c[o++]=0,c[o++]=0);else throw new Error("Unknown type: "+g)},Ae=this.variableMapSize||this.coercibleKeyAsNumber||this.skipValues?u=>{let g;if(this.skipValues){g=[];for(let h in u)(typeof u.hasOwnProperty!="function"||u.hasOwnProperty(h))&&!this.skipValues.includes(u[h])&&g.push(h)}else g=Object.keys(u);let d=g.length;d<16?c[o++]=128|d:d<65536?(c[o++]=222,c[o++]=d>>8,c[o++]=d&255):(c[o++]=223,k.setUint32(o,d),o+=4);let p;if(this.coercibleKeyAsNumber)for(let h=0;h<d;h++){p=g[h];let x=Number(p);C(isNaN(x)?p:x),C(u[p])}else for(let h=0;h<d;h++)C(p=g[h]),C(u[p])}:u=>{c[o++]=222;let g=o-n;o+=2;let d=0;for(let p in u)(typeof u.hasOwnProperty!="function"||u.hasOwnProperty(p))&&(C(p),C(u[p]),d++);if(d>65535)throw new Error('Object is too large to serialize with fast 16-bit map size, use the "variableMapSize" option to serialize this object');c[g+++n]=d>>8,c[g+n]=d&255},Q=this.useRecords===!1?Ae:e.progressiveRecords&&!D?u=>{let g,d=i.transitions||(i.transitions=Object.create(null)),p=o++-n,h;for(let x in u)if(typeof u.hasOwnProperty!="function"||u.hasOwnProperty(x)){if(g=d[x],g)d=g;else{let A=Object.keys(u),T=d;d=i.transitions;let v=0;for(let N=0,J=A.length;N<J;N++){let ie=A[N];g=d[ie],g||(g=d[ie]=Object.create(null),v++),d=g}p+n+1==o?(o--,re(d,A,v)):Ge(d,A,p,v),h=!0,d=T[x]}C(u[x])}if(!h){let x=d[fe];x?c[p+n]=x:Ge(d,Object.keys(u),p,0)}}:u=>{let g,d=i.transitions||(i.transitions=Object.create(null)),p=0;for(let x in u)(typeof u.hasOwnProperty!="function"||u.hasOwnProperty(x))&&(g=d[x],g||(g=d[x]=Object.create(null),p++),d=g);let h=d[fe];h?h>=96&&D?(c[o++]=((h-=96)&31)+96,c[o++]=h>>5):c[o++]=h:re(d,d.__keys__||Object.keys(u),p);for(let x in u)(typeof u.hasOwnProperty!="function"||u.hasOwnProperty(x))&&C(u[x])},W=typeof this.useRecords=="function"&&this.useRecords,K=W?u=>{W(u)?Q(u):Ae(u)}:Q,F=u=>{let g;if(u>16777216){if(u-n>st)throw new Error("Packed buffer would be larger than maximum buffer size");g=Math.min(st,Math.round(Math.max((u-n)*(u>67108864?1.25:2),4194304)/4096)*4096)}else g=(Math.max(u-n<<2,c.length-1)>>12)+1<<12;let d=new _e(g);return k=d.dataView||(d.dataView=new DataView(d.buffer,0,g)),u=Math.min(u,c.length),c.copy?c.copy(d,0,n,u):d.set(c.slice(n,u)),o-=n,n=0,j=d.length-10,c=d},re=(u,g,d)=>{let p=i.nextId;p||(p=64),p<V&&this.shouldShareStructure&&!this.shouldShareStructure(g)?(p=i.nextOwnId,p<$||(p=V),i.nextOwnId=p+1):(p>=$&&(p=V),i.nextId=p+1);let h=g.highByte=p>=96&&D?p-96>>5:-1;u[fe]=p,u.__keys__=g,i[p-64]=g,p<V?(g.isShared=!0,i.sharedLength=p-63,r=!0,h>=0?(c[o++]=(p&31)+96,c[o++]=h):c[o++]=p):(h>=0?(c[o++]=213,c[o++]=114,c[o++]=(p&31)+96,c[o++]=h):(c[o++]=212,c[o++]=114,c[o++]=p),d&&(oe+=ne*d),P.length>=R&&(P.shift()[fe]=0),P.push(u),C(g))},Ge=(u,g,d,p)=>{let h=c,x=o,A=j,T=n;c=ye,o=0,n=0,c||(ye=c=new _e(8192)),j=c.length-10,re(u,g,p),ye=c;let v=o;if(c=h,o=x,j=A,n=T,v>1){let N=o+v-1;N>j&&F(N);let J=d+n;c.copyWithin(J+v,J+1,o),c.set(ye.slice(0,v),J),o=N}else c[d+n]=ye[0]},Fe=u=>{let g=ln(u,c,n,o,i,F,(d,p,h)=>{if(h)return r=!0;o=p;let x=c;return C(d),ce(),x!==c?{position:o,targetView:k,target:c}:o},this);if(g===0)return K(u);o=g}}useBuffer(e){c=e,c.dataView||(c.dataView=new DataView(c.buffer,c.byteOffset,c.byteLength)),k=c.dataView,o=0}set position(e){o=e}get position(){return o}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}Ue=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,DataView,yt];Le=[{pack(t,e,n){let r=t.getTime()/1e3;if((this.useTimestamp32||t.getMilliseconds()===0)&&r>=0&&r<4294967296){let{target:i,targetView:a,position:l}=e(6);i[l++]=214,i[l++]=255,a.setUint32(l,r)}else if(r>0&&r<4294967296){let{target:i,targetView:a,position:l}=e(10);i[l++]=215,i[l++]=255,a.setUint32(l,t.getMilliseconds()*4e6+(r/1e3/4294967296>>0)),a.setUint32(l+4,r)}else if(isNaN(r)){if(this.onInvalidDate)return e(0),n(this.onInvalidDate());let{target:i,targetView:a,position:l}=e(3);i[l++]=212,i[l++]=255,i[l++]=255}else{let{target:i,targetView:a,position:l}=e(15);i[l++]=199,i[l++]=12,i[l++]=255,a.setUint32(l,t.getMilliseconds()*1e6),a.setBigInt64(l+4,BigInt(Math.floor(r)))}}},{pack(t,e,n){if(this.setAsEmptyObject)return e(0),n({});let r=Array.from(t),{target:i,position:a}=e(this.moreTypes?3:0);this.moreTypes&&(i[a++]=212,i[a++]=115,i[a++]=0),n(r)}},{pack(t,e,n){let{target:r,position:i}=e(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=101,r[i++]=0),n([t.name,t.message,t.cause])}},{pack(t,e,n){let{target:r,position:i}=e(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=120,r[i++]=0),n([t.source,t.flags])}},{pack(t,e){this.moreTypes?De(t,16,e):Re(he?Buffer.from(t):new Uint8Array(t),e)}},{pack(t,e){let n=t.constructor;n!==At&&this.moreTypes?De(t,Tt.indexOf(n.name),e):Re(t,e)}},{pack(t,e){this.moreTypes?De(t,17,e):Re(he?Buffer.from(t):new Uint8Array(t),e)}},{pack(t,e){let{target:n,position:r}=e(1);n[r]=193}}];function De(t,e,n,r){let i=t.byteLength;if(i+1<256){var{target:a,position:l}=n(4+i);a[l++]=199,a[l++]=i+1}else if(i+1<65536){var{target:a,position:l}=n(5+i);a[l++]=200,a[l++]=i+1>>8,a[l++]=i+1&255}else{var{target:a,position:l,targetView:f}=n(7+i);a[l++]=201,f.setUint32(l,i+1),l+=4}a[l++]=116,a[l++]=e,t.buffer||(t=new Uint8Array(t)),a.set(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),l)}function Re(t,e){let n=t.byteLength;var r,i;if(n<256){var{target:r,position:i}=e(n+2);r[i++]=196,r[i++]=n}else if(n<65536){var{target:r,position:i}=e(n+3);r[i++]=197,r[i++]=n>>8,r[i++]=n&255}else{var{target:r,position:i,targetView:a}=e(n+5);r[i++]=198,a.setUint32(i,n),i+=4}r.set(t,i)}function ot(t,e,n,r){let i=t.length;switch(i){case 1:e[n++]=212;break;case 2:e[n++]=213;break;case 4:e[n++]=214;break;case 8:e[n++]=215;break;case 16:e[n++]=216;break;default:i<256?(e[n++]=199,e[n++]=i):i<65536?(e[n++]=200,e[n++]=i>>8,e[n++]=i&255):(e[n++]=201,e[n++]=i>>24,e[n++]=i>>16&255,e[n++]=i>>8&255,e[n++]=i&255)}return e[n++]=r,e.set(t,n),n+=i,n}function pn(t,e){let n,r=e.length*6,i=t.length-r;for(;n=e.pop();){let a=n.offset,l=n.id;t.copyWithin(a+r,a,i),r-=6;let f=a+r;t[f++]=214,t[f++]=105,t[f++]=l>>24,t[f++]=l>>16&255,t[f++]=l>>8&255,t[f++]=l&255,i=a}return t}function lt(t,e,n){if(U.length>0){k.setUint32(U.position+t,o+n-U.position-t),U.stringsPosition=o-t;let r=U;U=null,e(r[0]),e(r[1])}}function hn(t,e){return t.isCompatible=n=>{let r=!n||(e.lastNamedStructuresLength||0)===n.length;return r||e._mergeStructures(n),r},t}let Et=new fn({useRecords:!1});Et.pack;Et.pack;const dn=512,yn=1024,mn=2048,gn=new pe({largeBigIntToFloat:!0,mapsAsObjects:!0,bundleStrings:!0,int64AsType:"number"});var bn=Object.defineProperty,_n=(t,e,n)=>e in t?bn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,B=(t,e,n)=>_n(t,typeof e!="symbol"?e+"":e,n);class Te{constructor(e){B(this,"endpoint"),B(this,"query"),B(this,"update_ms"),B(this,"cache"),B(this,"data"),B(this,"error"),this.endpoint=e.endpoint,this.query=Dt(e.query),this.update_ms=e.update_ms,this.cache=e.cache,this.data=e.data??null,this.error=e.error??null}clone(){return new Te({endpoint:this.endpoint,query:this.query,update_ms:this.update_ms,cache:this.cache?{...this.cache}:void 0,data:this.data,error:this.error})}}class wn{constructor(e){B(this,"apiUrl"),B(this,"batchEndpoint"),B(this,"defaultBatchWaitMs"),B(this,"maxBatchSize"),B(this,"defaultCacheType"),B(this,"defaultCacheDurationMs"),B(this,"credentials"),B(this,"extraHeaders"),B(this,"fetchFn"),B(this,"unpackFn"),B(this,"debug"),B(this,"pendingByKey",new Map),B(this,"queue",[]),B(this,"dispatchTimer",null),B(this,"dispatchDeadlineMs",null),B(this,"memoryCache",new Map),B(this,"lastMemorySweepMs",0),this.apiUrl=e.apiUrl,this.batchEndpoint=e.batchEndpoint??"query",this.defaultBatchWaitMs=e.defaultBatchWaitMs??50,this.maxBatchSize=e.maxBatchSize,this.defaultCacheType=e.defaultCacheType??"Memory",this.defaultCacheDurationMs=e.defaultCacheDurationMs??3e4,this.credentials=e.credentials??"include",this.extraHeaders=e.headers,this.fetchFn=e.fetchFn??fetch.bind(globalThis),this.unpackFn=e.unpackFn??(n=>gn.unpack(n)),this.debug=e.debug??!1}fillOutCache(e,n,r={}){const i=this.hashQuery(n);return this.normalizeCache(e,i,r)}fetchBulk(e){const{endpoint:n,query:r}=e,i=e.cache!=null,a=this.hashQuery(r),l=i?this.normalizeCache(n,a,e.cache):void 0;if(l){const S=this.loadFromCache(l);if(S!=null)return Promise.resolve(new Te({endpoint:n,query:r,update_ms:Date.now(),cache:l?pt(l):void 0,data:S,error:null}))}const f=this.makeGroupKey(n,a,i);let m=this.pendingByKey.get(f);if(m||(m={key:f,endpoint:n,query:Dt(r),useCache:i,status:"queued",subscribers:[]},this.pendingByKey.set(f,m),this.queue.push(f)),m.status==="queued"){const S=e.batch_wait_ms??this.defaultBatchWaitMs;this.scheduleDispatch(S),this.maxBatchSize!=null&&this.queue.length>=this.maxBatchSize&&this.scheduleDispatch(0)}return new Promise((S,_)=>{m.subscribers.push({cache:l?pt(l):void 0,resolve:R=>S(R),reject:_})})}async fetchSingle(e,n,r){const i=r!=null,a=this.hashQuery(n),l=i?this.normalizeCache(e,a,r):void 0;if(l){const V=this.loadFromCache(l);if(V!=null)return V}const f=this.buildUrl(e),m=Tn(n),S=ct({"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8",Accept:"application/msgpack"},this.extraHeaders),_=await this.fetchFn(f,{method:"POST",headers:S,body:m,credentials:this.credentials});if(!_.ok)throw new Error(`Failed to fetch: ${_.status} ${_.statusText}`);const R=await _.arrayBuffer(),D=this.unpackFn(new Uint8Array(R));return l&&this.extractError(D)==null&&this.saveToCache(l,D),D}scheduleDispatch(e){const n=Math.max(0,e),i=Date.now()+n;if(this.dispatchTimer==null){this.dispatchDeadlineMs=i,this.dispatchTimer=setTimeout(()=>{this.dispatchTimer=null,this.dispatchDeadlineMs=null,this.dispatch()},n);return}if(this.dispatchDeadlineMs!=null&&i<this.dispatchDeadlineMs){clearTimeout(this.dispatchTimer);const a=Math.max(0,i-Date.now());this.dispatchDeadlineMs=i,this.dispatchTimer=setTimeout(()=>{this.dispatchTimer=null,this.dispatchDeadlineMs=null,this.dispatch()},a)}}async dispatch(){const e=this.maxBatchSize??this.queue.length,n=this.queue.splice(0,e);if(n.length===0)return;const r=[];for(const a of n){const l=this.pendingByKey.get(a);!l||l.status!=="queued"||(l.status="fetching",r.push(l))}if(r.length===0){this.queue.length>0&&this.scheduleDispatch(0);return}const i=[];for(const a of r)a.useCache&&this.tryResolveGroupFromCache(a)||i.push(a);if(i.length===0){this.queue.length>0&&this.scheduleDispatch(0);return}this.log("dispatchBatch",i.map(a=>[a.endpoint,a.query]));try{const a=await this.fetchBatchPayload(i),l=a?.results;if(!Array.isArray(l)){const f=a?.message??`Invalid response format: ${ut(a)}`;for(const m of i)this.resolveGroup(m,null,`Invalid response format
${String(f)}`);this.queue.length>0&&this.scheduleDispatch(0);return}for(let f=0;f<i.length;f++){const m=i[f],S=l[f];let _=null;if(S==null?_="Empty result":_=this.extractError(S),!_){const R=new Map;for(const D of m.subscribers)D.cache&&R.set(D.cache.key,D.cache);for(const D of R.values())this.saveToCache(D,S)}this.resolveGroup(m,S,_)}}catch(a){const l=a instanceof Error?a:new Error(String(a));for(const f of i)this.rejectGroup(f,l)}finally{this.queue.length>0&&this.scheduleDispatch(0)}}async fetchBatchPayload(e){const n=e.map(m=>[m.endpoint,m.query]),r=new URLSearchParams({queries:JSON.stringify(n)}).toString(),i=this.buildUrl(this.batchEndpoint),a=ct({"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8",Accept:"application/msgpack"},this.extraHeaders),l=await this.fetchFn(i,{method:"POST",headers:a,body:r,credentials:this.credentials});if(!l.ok)throw new Error(`Batch query failed: ${l.status} ${l.statusText}`);const f=await l.arrayBuffer();return this.unpackFn(new Uint8Array(f))}tryResolveGroupFromCache(e){const n=[],r=new Set;for(const i of e.subscribers){const a=i.cache;!a||r.has(a.key)||(r.add(a.key),n.push(a))}for(const i of n){const a=this.loadFromCache(i);if(a!=null){for(const l of n)this.saveToCache(l,a);return this.resolveGroup(e,a,null),!0}}return!1}resolveGroup(e,n,r){const i=Date.now();for(const a of e.subscribers)a.resolve(new Te({endpoint:e.endpoint,query:e.query,update_ms:i,cache:a.cache,data:r?null:n,error:r}));e.subscribers.length=0,this.pendingByKey.delete(e.key)}rejectGroup(e,n){for(const r of e.subscribers)r.reject(n);e.subscribers.length=0,this.pendingByKey.delete(e.key)}normalizeCache(e,n,r){const i=r.cache_type??this.defaultCacheType,a=r.duration_ms??(typeof r.duration=="number"?r.duration*1e3:void 0)??this.defaultCacheDurationMs,l=r.key??r.cookie_id??`${e}-${n}`;return{cache_type:i,duration_ms:Math.max(0,a),key:l}}loadFromCache(e){const n=Date.now();switch(e.cache_type){case"Memory":{this.sweepMemoryCache(n);const r=this.memoryCache.get(e.key);return r?r.expiresAt<=n?(this.memoryCache.delete(e.key),null):r.data:null}case"Cookie":{if(!Oe())return null;const r=ge.get(e.key);if(!r)return null;try{return JSON.parse(r)}catch{return ge.remove(e.key),null}}case"LocalStorage":return this.loadFromWebStorage("localStorage",e.key,n);case"SessionStorage":return this.loadFromWebStorage("sessionStorage",e.key,n);default:return null}}loadFromWebStorage(e,n,r){const i=this.getStorage(e);if(!i)return null;let a=null;try{a=i.getItem(n)}catch{return null}if(!a)return null;try{const l=JSON.parse(a),f=typeof l.expiresAt=="number"?l.expiresAt:typeof l.expirationTime=="number"?l.expirationTime:void 0;return typeof f=="number"&&r>f?(i.removeItem(n),null):l.data??null}catch{try{i.removeItem(n)}catch{}return null}}saveToCache(e,n){const r=Date.now(),i=r+e.duration_ms;if(e.duration_ms<=0){this.removeFromCache(e);return}switch(e.cache_type){case"Memory":this.sweepMemoryCache(r),this.memoryCache.set(e.key,{expiresAt:i,data:n});return;case"Cookie":{if(!Oe())return;try{ge.set(e.key,JSON.stringify(n),{expires:new Date(i)})}catch{}return}case"LocalStorage":this.saveToWebStorage("localStorage",e.key,n,i);return;case"SessionStorage":this.saveToWebStorage("sessionStorage",e.key,n,i);return;default:return}}saveToWebStorage(e,n,r,i){const a=this.getStorage(e);if(a)try{a.setItem(n,JSON.stringify({data:r,expiresAt:i}))}catch{}}removeFromCache(e){switch(e.cache_type){case"Memory":this.memoryCache.delete(e.key);return;case"Cookie":if(!Oe())return;ge.remove(e.key);return;case"LocalStorage":{const n=this.getStorage("localStorage");if(!n)return;try{n.removeItem(e.key)}catch{}return}case"SessionStorage":{const n=this.getStorage("sessionStorage");if(!n)return;try{n.removeItem(e.key)}catch{}return}default:return}}sweepMemoryCache(e){if(!(e-this.lastMemorySweepMs<6e4)){this.lastMemorySweepMs=e;for(const[n,r]of this.memoryCache)r.expiresAt<=e&&this.memoryCache.delete(n)}}getStorage(e){if(typeof window>"u")return null;try{return e==="localStorage"?window.localStorage:window.sessionStorage}catch{return null}}extractError(e){if(!e||typeof e!="object")return null;const n=e;if(n.success===!1){const r=n.error??n.message??"Unknown error";return typeof r=="string"?r:ut(r)}return null}hashQuery(e){return Mt(Sn(e))}makeGroupKey(e,n,r){return`${e}-${n}:${r?"cache":"nocache"}`}buildUrl(e){return xn(this.apiUrl,e)}log(...e){this.debug}}function Oe(){return typeof document<"u"}function Dt(t){const e={};for(const[n,r]of Object.entries(t))e[n]=Array.isArray(r)?[...r]:r;return e}function Sn(t){const e=Object.keys(t).sort(),n={};for(const r of e){const i=t[r];n[r]=Array.isArray(i)?[...i]:i}return JSON.stringify(n)}function Tn(t){const e=new URLSearchParams;for(const[n,r]of Object.entries(t))if(Array.isArray(r))for(const i of r)e.append(n,i);else e.append(n,r);return e.toString()}function xn(t,e){if(!t)return e;const n=t.endsWith("/")?t.slice(0,-1):t,r=e.startsWith("/")?e:`/${e}`;return`${n}${r}`}function ct(t,e){const n=new Headers(t);return e&&new Headers(e).forEach((r,i)=>n.set(i,r)),n}function ut(t){try{return typeof t=="string"?t:JSON.stringify(t)}catch{return String(t)}}const ft=globalThis,Rt=ft.__bulkQueryClient??(ft.__bulkQueryClient=new wn({apiUrl:"https://api.locutus.link/api/"}));function pt(t){return{...t,cookie_id:t.key,duration:t.duration_ms/1e3}}function An(t,e,n){return Rt.fetchSingle(t,e,n)}function Ot({endpoint:t,query:e,cache:n,batch_wait_ms:r}){return Rt.fetchBulk({endpoint:t,query:e,cache:n,batch_wait_ms:r})}class b{constructor(e,n,r,i,a,l,f,m,S){B(this,"name"),B(this,"url"),B(this,"args"),B(this,"cast"),B(this,"cache_duration"),B(this,"cache_type"),B(this,"typeName"),B(this,"desc"),B(this,"argsLower"),B(this,"isPost"),this.name=e,this.url=n,this.args={};for(const[_,R]of Object.entries(r))this.args[_]=new Ut(_,R);this.argsLower=Object.fromEntries(Object.entries(r).map(([_,R])=>[_.toLowerCase(),_])),this.cast=i,this.cache_duration=a??5e3,this.cache_type=l,this.typeName=f,this.desc=m,this.isPost=S}async call(e){return An(this.url,e,void 0)}}const En={endpoint:new b("logout","logout",{},t=>t,2592e3,"None","WebSuccess","",!0)},Dn={endpoint:new b("login_mail","login_mail",{nation:{name:"nation",type:"DBNation"}},t=>t,2592e3,"None","WebUrl","",!0)},Rn={endpoint:new b("set_token","set_token",{token:{name:"token",type:"UUID"},guild_id:{name:"guild_id",optional:!0,type:"Long"}},t=>t,2592e3,"None","WebSuccess","",!0)},On={endpoint:new b("set_guild","set_guild",{guild:{name:"guild",type:"Guild"}},t=>t,2592e3,"None","SetGuild","",!0)},In={endpoint:new b("input_options","input_options",{type:{name:"type",type:"String"}},t=>t,30,"LocalStorage","WebOptions","",!1)},Bn={endpoint:new b("unset_guild","unset_guild",{},t=>t,2592e3,"None","WebSuccess","",!0)},vn={endpoint:new b("set_oauth_code","set_oauth_code",{code:{name:"code",type:"String"}},t=>t,2592e3,"None","WebSuccess","",!0)},Nn={endpoint:new b("register","register",{confirm:{name:"confirm",type:"boolean"}},t=>t,2592e3,"None","WebSuccess","",!0)},kn={endpoint:new b("query","query",{queries:{name:"queries",type:"List<Entry<String,Map<String,Object>>>"}},t=>t,2592e3,"None","WebBulkQuery","",!0)},Cn={endpoint:new b("session","session",{},t=>t,2592e3,"LocalStorage","WebSession","",!1)},Ln={endpoint:new b("command","command",{data:{name:"data",type:"Map<String,Object>"}},t=>t,2592e3,"None","WebViewCommand","",!0)},Un={endpoint:new b("unregister","unregister",{confirm:{name:"confirm",type:"boolean"}},t=>t,2592e3,"None","WebValue","",!0)},Mn={endpoint:new b("permission","permission",{command:{name:"command",type:"ICommand<?>"}},t=>t,2592e3,"None","WebPermission","",!0)},Pn={endpoint:new b("tradepricebydayjson","tradePriceByDayJson",{resources:{name:"resources",type:"Set<ResourceType>"},days:{name:"days",type:"int",min:1}},t=>t,2592e3,"None","WebGraph","",!1)},Vn={endpoint:new b("announcements","announcements",{},t=>t,30,"SessionStorage","WebAnnouncements","",!1)},Wn={endpoint:new b("records","records",{nation:{name:"nation",optional:!0,type:"DBNation"}},t=>t,2592e3,"None","WebTable","",!1)},zn={endpoint:new b("withdraw","withdraw",{receiver:{name:"receiver",type:"NationOrAlliance"},amount:{name:"amount",type:"Map<ResourceType,Double>"},note:{name:"note",type:"DepositType"}},t=>t,2592e3,"None","WebTransferResult","",!0)},Gn={endpoint:new b("raid","raid",{nation:{name:"nation",optional:!0,type:"DBNation"},nations:{name:"nations",optional:!0,type:"Set<DBNation>",def:"*,#position<=1"},weak_ground:{name:"weak_ground",optional:!0,type:"boolean",def:"false"},vm_turns:{name:"vm_turns",optional:!0,type:"int",def:"0"},beige_turns:{name:"beige_turns",optional:!0,type:"int",def:"0"},ignore_dnr:{name:"ignore_dnr",optional:!0,type:"boolean",def:"false"},time_inactive:{name:"time_inactive",optional:!0,type:"long[Timediff]",def:"7d"},min_loot:{name:"min_loot",optional:!0,type:"double",def:"-1"},num_results:{name:"num_results",optional:!0,type:"int",def:"8"}},t=>t,2592e3,"None","WebTargets","",!1)},Fn={endpoint:new b("balance","balance",{nation:{name:"nation",optional:!0,type:"DBNation"}},t=>t,2592e3,"None","WebBalance","",!1)},jn={endpoint:new b("unread_announcement","unread_announcement",{ann_id:{name:"ann_id",type:"int"}},t=>t,2592e3,"None","WebSuccess","",!0)},qn={endpoint:new b("announcement_titles","announcement_titles",{read:{name:"read",optional:!0,flag:"r",type:"boolean"}},t=>t,2592e3,"None","WebAnnouncements","",!1)},Qn={endpoint:new b("mark_all_read","mark_all_read",{},t=>t,2592e3,"None","WebSuccess","",!0)},Yn={endpoint:new b("view_announcement","view_announcement",{ann_id:{name:"ann_id",type:"int"}},t=>t,2592e3,"SessionStorage","WebAnnouncement","",!1)},Kn={endpoint:new b("bank_access","bank_access",{},t=>t,2592e3,"None","WebBankAccess","",!1)},Hn={endpoint:new b("unread_count","unread_count",{},t=>t,2592e3,"None","WebInt","",!1)},$n={endpoint:new b("unprotected","unprotected",{nation:{name:"nation",optional:!0,type:"DBNation"},nations:{name:"nations",optional:!0,type:"Set<DBNation>",def:"*"},includeAllies:{name:"includeAllies",optional:!0,flag:"a",type:"boolean"},ignoreODP:{name:"ignoreODP",optional:!0,flag:"o",type:"boolean"},ignore_dnr:{name:"ignore_dnr",optional:!0,type:"boolean",def:"false"},maxRelativeTargetStrength:{name:"maxRelativeTargetStrength",optional:!0,flag:"s",desc:"The maximum allowed military strength of the target nation relative to you",type:"Double",def:"1.2"},maxRelativeCounterStrength:{name:"maxRelativeCounterStrength",optional:!0,flag:"c",desc:"The maximum allowed military strength of counters relative to you",type:"Double",def:"1.2"},num_results:{name:"num_results",optional:!0,desc:"Only list targets within range of ALL attackers",type:"int",def:"8"}},t=>t,2592e3,"None","WebTargets","",!1)},Jn={endpoint:new b("read_announcement","read_announcement",{ann_id:{name:"ann_id",type:"int"}},t=>t,2592e3,"None","WebSuccess","",!0)},Xn={endpoint:new b("my_wars","my_wars",{},t=>t,2592e3,"None","WebMyWars","",!1)},Zn={endpoint:new b("my_audits","my_audits",{},t=>t,30,"SessionStorage","WebAudits","",!1)},er={endpoint:new b("locutus_tasks","locutus_tasks",{},t=>t,15,"SessionStorage","TaskList","",!1)},tr={endpoint:new b("locutus_task","locutus_task",{id:{name:"id",type:"int"}},t=>t,15,"SessionStorage","TaskDetails","",!1)},nr={endpoint:new b("table","table",{type:{name:"type",type:"Class<?>[PlaceholderType]"},selection_str:{name:"selection_str",type:"String"},columns:{name:"columns",type:"List<String>[TextArea]"}},t=>t,2592e3,"None","WebTable","",!1)},rr={endpoint:new b("conflictalliances","conflictAlliances",{conflicts:{name:"conflicts",type:"Set<Conflict>"}},t=>t,2592e3,"None","ConflictAlliances","",!1)},ir={endpoint:new b("removevirtualconflict","removeVirtualConflict",{conflict:{name:"conflict",type:"Conflict"}},t=>t,2592e3,"None","WebSuccess","",!0)},ar={endpoint:new b("virtualconflictinfo","virtualConflictInfo",{conflict:{name:"conflict",type:"Conflict"}},t=>t,2592e3,"None","WebVirtualConflict","",!1)},sr={endpoint:new b("virtualconflicts","virtualConflicts",{all:{name:"all",optional:!0,flag:"a",type:"boolean"}},t=>t,2592e3,"None","WebOptions","",!1)},or={endpoint:new b("globaltierstats","globalTierStats",{metrics:{name:"metrics",type:"Set<TypedFunction<DBNation,Double>>"},topX:{name:"topX",type:"int"},groupBy:{name:"groupBy",optional:!0,type:"TypedFunction<DBNation,Double>",def:"getCities"},total:{name:"total",optional:!0,flag:"t",type:"boolean"}},t=>t,2592e3,"None","CoalitionGraphs","",!1)},lr={endpoint:new b("globalstats","globalStats",{metrics:{name:"metrics",type:"Set<AllianceMetric>"},start:{name:"start",type:"long[Timestamp]"},end:{name:"end",type:"long[Timestamp]"},topX:{name:"topX",type:"int"}},t=>t,2592e3,"None","CoalitionGraphs","",!1)},cr={endpoint:new b("comparestockpilevaluebyday","compareStockpileValueByDay",{stockpile1:{name:"stockpile1",type:"Map<ResourceType,Double>"},stockpile2:{name:"stockpile2",type:"Map<ResourceType,Double>"},numDays:{name:"numDays",type:"int",min:1,max:3e3}},t=>t,2592e3,"None","WebGraph","Generate a graph comparing market values of two resource amounts by day",!1)},ur={endpoint:new b("metric_compare_by_turn","metric_compare_by_turn",{metric:{name:"metric",type:"AllianceMetric"},alliances:{name:"alliances",type:"Set<DBAlliance>"},start:{name:"start",desc:"Date to start from",type:"long[Timestamp]"},end:{name:"end",optional:!0,type:"Long[Timestamp]"}},t=>t,2592e3,"None","WebGraph","Compare the metric over time between multiple alliances",!1)},fr={endpoint:new b("warscostrankingbyday","warsCostRankingByDay",{type:{name:"type",type:"WarCostByDayMode"},mode:{name:"mode",type:"WarCostMode"},time_start:{name:"time_start",type:"long[Timestamp]"},time_end:{name:"time_end",optional:!0,type:"Long[Timestamp]"},coalition1:{name:"coalition1",optional:!0,flag:"c1",type:"Set<NationOrAlliance>"},coalition2:{name:"coalition2",optional:!0,flag:"c2",type:"Set<NationOrAlliance>"},coalition3:{name:"coalition3",optional:!0,flag:"c3",type:"Set<NationOrAlliance>"},coalition4:{name:"coalition4",optional:!0,flag:"c4",type:"Set<NationOrAlliance>"},coalition5:{name:"coalition5",optional:!0,flag:"c5",type:"Set<NationOrAlliance>"},coalition6:{name:"coalition6",optional:!0,flag:"c6",type:"Set<NationOrAlliance>"},coalition7:{name:"coalition7",optional:!0,flag:"c7",type:"Set<NationOrAlliance>"},coalition8:{name:"coalition8",optional:!0,flag:"c8",type:"Set<NationOrAlliance>"},coalition9:{name:"coalition9",optional:!0,flag:"c9",type:"Set<NationOrAlliance>"},coalition10:{name:"coalition10",optional:!0,flag:"c10",type:"Set<NationOrAlliance>"},running_total:{name:"running_total",optional:!0,flag:"o",type:"boolean"},allowedWarStatus:{name:"allowedWarStatus",optional:!0,flag:"s",type:"Set<WarStatus>"},allowedWarTypes:{name:"allowedWarTypes",optional:!0,flag:"w",type:"Set<WarType>"},allowedAttackTypes:{name:"allowedAttackTypes",optional:!0,flag:"a",type:"Set<AttackType>"},allowedVictoryTypes:{name:"allowedVictoryTypes",optional:!0,flag:"v",type:"Set<SuccessType>"}},t=>t,2592e3,"None","WebGraph","Graph of cost by day of each coalitions wars vs everyone",!1)},pr={endpoint:new b("nthbeigelootbyscorerange","NthBeigeLootByScoreRange",{nations:{name:"nations",optional:!0,type:"Set<DBNation>"},n:{name:"n",optional:!0,type:"int",def:"5"},snapshotDate:{name:"snapshotDate",optional:!0,type:"Long[Timestamp]"}},t=>t,2592e3,"None","WebGraph","Get nth loot beige graph by score range",!1)},hr={endpoint:new b("alliancemetricbyturn","allianceMetricByTurn",{metric:{name:"metric",type:"AllianceMetric"},coalition:{name:"coalition",type:"Set<DBAlliance>"},start:{name:"start",desc:"Date to start from",type:"long[Timestamp]"},end:{name:"end",optional:!0,type:"Long[Timestamp]"}},t=>t,2592e3,"None","WebGraph","Graph the metric over time for a coalition",!1)},dr={endpoint:new b("comparestats","compareStats",{metric:{name:"metric",type:"AllianceMetric"},start:{name:"start",type:"long[Timestamp]"},end:{name:"end",type:"long[Timestamp]"},coalition1:{name:"coalition1",type:"Set<DBAlliance>"},coalition2:{name:"coalition2",type:"Set<DBAlliance>"},coalition3:{name:"coalition3",optional:!0,type:"Set<DBAlliance>"},coalition4:{name:"coalition4",optional:!0,type:"Set<DBAlliance>"},coalition5:{name:"coalition5",optional:!0,type:"Set<DBAlliance>"},coalition6:{name:"coalition6",optional:!0,type:"Set<DBAlliance>"},coalition7:{name:"coalition7",optional:!0,type:"Set<DBAlliance>"},coalition8:{name:"coalition8",optional:!0,type:"Set<DBAlliance>"},coalition9:{name:"coalition9",optional:!0,type:"Set<DBAlliance>"},coalition10:{name:"coalition10",optional:!0,type:"Set<DBAlliance>"}},t=>t,2592e3,"None","WebGraph","Compare the stats of up to 10 alliances/coalitions on a single time graph",!1)},yr={endpoint:new b("comparetierstats","compareTierStats",{metric:{name:"metric",type:"TypedFunction<DBNation,Double>"},groupBy:{name:"groupBy",type:"TypedFunction<DBNation,Double>"},coalition1:{name:"coalition1",type:"Set<DBNation>"},coalition2:{name:"coalition2",optional:!0,type:"Set<DBNation>"},coalition3:{name:"coalition3",optional:!0,type:"Set<DBNation>"},coalition4:{name:"coalition4",optional:!0,type:"Set<DBNation>"},coalition5:{name:"coalition5",optional:!0,type:"Set<DBNation>"},coalition6:{name:"coalition6",optional:!0,type:"Set<DBNation>"},coalition7:{name:"coalition7",optional:!0,type:"Set<DBNation>"},coalition8:{name:"coalition8",optional:!0,type:"Set<DBNation>"},coalition9:{name:"coalition9",optional:!0,type:"Set<DBNation>"},coalition10:{name:"coalition10",optional:!0,type:"Set<DBNation>"},total:{name:"total",optional:!0,flag:"t",type:"boolean"},includeApps:{name:"includeApps",optional:!0,flag:"a",type:"boolean"},includeVm:{name:"includeVm",optional:!0,flag:"v",type:"boolean"},includeInactive:{name:"includeInactive",optional:!0,flag:"i",type:"boolean"},snapshotDate:{name:"snapshotDate",optional:!0,flag:"s",type:"Long[Timestamp]"}},t=>t,2592e3,"None","WebGraph","Compare the tier stats of up to 10 alliances/nations on a single graph",!1)},mr={endpoint:new b("metricbygroup","metricByGroup",{metrics:{name:"metrics",type:"Set<TypedFunction<DBNation,Double>>"},nations:{name:"nations",type:"Set<DBNation>"},groupBy:{name:"groupBy",optional:!0,type:"TypedFunction<DBNation,Double>",def:"getCities"},includeInactives:{name:"includeInactives",optional:!0,flag:"i",type:"boolean"},includeApplicants:{name:"includeApplicants",optional:!0,flag:"a",type:"boolean"},total:{name:"total",optional:!0,flag:"t",type:"boolean"},snapshotDate:{name:"snapshotDate",optional:!0,flag:"s",type:"Long[Timestamp]"}},t=>t,2592e3,"None","WebGraph","Graph a set of nation metrics for the specified nations over a period of time based on daily nation and city snapshots",!1)},gr={endpoint:new b("tradepricebyday","tradePriceByDay",{resources:{name:"resources",type:"Set<ResourceType>"},numDays:{name:"numDays",type:"int"}},t=>t,2592e3,"None","WebGraph","Generate a graph of average buy and sell trade price by day",!1)},br={endpoint:new b("warattacksbyday","warAttacksByDay",{nations:{name:"nations",optional:!0,type:"Set<DBNation>"},cutoff:{name:"cutoff",optional:!0,desc:"Period of time to graph",type:"Long[Timestamp]"},allowedTypes:{name:"allowedTypes",optional:!0,desc:"Restrict to a list of attack types",type:"Set<AttackType>"}},t=>t,2592e3,"None","WebGraph","Display a graph of the number of attacks by the specified nations per day over a time period",!1)},_r={endpoint:new b("warcostsbyday","warCostsByDay",{coalition1:{name:"coalition1",type:"Set<NationOrAlliance>"},coalition2:{name:"coalition2",type:"Set<NationOrAlliance>"},type:{name:"type",type:"WarCostByDayMode"},time_start:{name:"time_start",type:"long[Timestamp]"},time_end:{name:"time_end",optional:!0,type:"Long[Timestamp]"},running_total:{name:"running_total",optional:!0,flag:"o",type:"boolean"},allowedWarStatus:{name:"allowedWarStatus",optional:!0,flag:"s",type:"Set<WarStatus>"},allowedWarTypes:{name:"allowedWarTypes",optional:!0,flag:"w",type:"Set<WarType>"},allowedAttackTypes:{name:"allowedAttackTypes",optional:!0,flag:"a",type:"Set<AttackType>"},allowedVictoryTypes:{name:"allowedVictoryTypes",optional:!0,flag:"v",type:"Set<SuccessType>"}},t=>t,2592e3,"None","WebGraph","Get a line graph by day of the war stats between two coalitions",!1)},wr={endpoint:new b("alliancemetricab","allianceMetricAB",{metric:{name:"metric",type:"AllianceMetric"},coalition1:{name:"coalition1",type:"Set<DBAlliance>"},coalition2:{name:"coalition2",type:"Set<DBAlliance>"},start:{name:"start",desc:"Date to start from",type:"long[Timestamp]"},end:{name:"end",optional:!0,type:"Long[Timestamp]"}},t=>t,2592e3,"None","WebGraph","Graph an alliance metric over time for two coalitions",!1)},Sr={endpoint:new b("tradevolumebyday","tradeVolumeByDay",{resource:{name:"resource",type:"ResourceType"},start:{name:"start",type:"long[Timestamp]"},end:{name:"end",optional:!0,type:"Long[Timestamp]"}},t=>t,2592e3,"None","WebGraph","Generate a graph of average trade buy and sell volume by day",!1)},Tr={endpoint:new b("tradetotalbyday","tradeTotalByDay",{resource:{name:"resource",type:"ResourceType"},start:{name:"start",type:"long[Timestamp]"},end:{name:"end",optional:!0,type:"Long[Timestamp]"}},t=>t,2592e3,"None","WebGraph","Generate a graph of average trade buy and sell total by day",!1)},xr={endpoint:new b("alliancesdatabyday","AlliancesDataByDay",{metric:{name:"metric",type:"TypedFunction<DBNation,Double>"},start:{name:"start",type:"long[Timestamp]"},end:{name:"end",type:"long[Timestamp]"},mode:{name:"mode",type:"AllianceMetricMode"},alliances:{name:"alliances",optional:!0,desc:"The alliances to include. Defaults to top 15",type:"Set<DBAlliance>"},filter:{name:"filter",optional:!0,type:"Predicate<DBNation>"},includeApps:{name:"includeApps",optional:!0,flag:"a",type:"boolean"}},t=>t,2592e3,"None","WebGraph","Get alliance attributes by day\nIf your metric does not relate to cities, set `skipCityData` to true to speed up the process.",!1)},Ar={endpoint:new b("strengthtiergraph","strengthTierGraph",{coalition1:{name:"coalition1",type:"Set<DBNation>"},coalition2:{name:"coalition2",type:"Set<DBNation>"},includeInactives:{name:"includeInactives",optional:!0,flag:"i",type:"boolean"},includeApplicants:{name:"includeApplicants",optional:!0,flag:"n",type:"boolean"},col1MMR:{name:"col1MMR",optional:!0,flag:"a",desc:"Use the score/strength of coalition 1 nations at specific military unit levels",type:"MMRDouble"},col2MMR:{name:"col2MMR",optional:!0,flag:"b",desc:"Use the score/strength of coalition 2 nations at specific military unit levels",type:"MMRDouble"},col1Infra:{name:"col1Infra",optional:!0,flag:"c",desc:"Use the score of coalition 1 nations at specific average infrastructure levels",type:"Double"},col2Infra:{name:"col2Infra",optional:!0,flag:"d",desc:"Use the score of coalition 2 nations at specific average infrastructure levels",type:"Double"},snapshotDate:{name:"snapshotDate",optional:!0,flag:"s",type:"Long[Timestamp]"}},t=>t,2592e3,"None","WebGraph",`Generate a graph of nation military strength by score between two coalitions
1 tank = 1/32 aircraft for strength calculations
Effective score range is limited to 1.75x with a linear reduction of strength up to 40% to account for up-declares`,!1)},Er={endpoint:new b("militarizationtime","militarizationTime",{alliance:{name:"alliance",type:"DBAlliance"},start_time:{name:"start_time",optional:!0,type:"long[Timestamp]",def:"7d"},end_time:{name:"end_time",optional:!0,flag:"e",type:"Long[Timestamp]"}},t=>t,2592e3,"None","WebGraph","Graph militarization (soldier, tank, aircraft, ship) over time of an alliance",!1)},Dr={endpoint:new b("spytiergraph","spyTierGraph",{coalition1:{name:"coalition1",type:"Set<DBNation>"},coalition2:{name:"coalition2",type:"Set<DBNation>"},includeInactives:{name:"includeInactives",optional:!0,flag:"i",type:"boolean"},includeApplicants:{name:"includeApplicants",optional:!0,flag:"a",type:"boolean"},total:{name:"total",optional:!0,flag:"t",desc:"Graph the total spies instead of average per nation",type:"boolean"},barGraph:{name:"barGraph",optional:!0,flag:"b",type:"boolean"}},t=>t,2592e3,"None","WebGraph",`Generate a graph of spy counts by city count between two coalitions
Nations which are applicants, in vacation mode or inactive (2 days) are excluded`,!1)},Rr={endpoint:new b("alliancestats","allianceStats",{metrics:{name:"metrics",type:"Set<AllianceMetric>"},start:{name:"start",type:"long[Timestamp]"},end:{name:"end",type:"long[Timestamp]"},coalition:{name:"coalition",type:"Set<DBAlliance>"}},t=>t,2592e3,"None","WebGraph","",!1)},Or={endpoint:new b("citytiergraph","cityTierGraph",{coalition1:{name:"coalition1",type:"Set<DBNation>"},coalition2:{name:"coalition2",type:"Set<DBNation>"},includeInactives:{name:"includeInactives",optional:!0,flag:"i",type:"boolean"},barGraph:{name:"barGraph",optional:!0,flag:"b",type:"boolean"},includeApplicants:{name:"includeApplicants",optional:!0,flag:"a",type:"boolean"},snapshotDate:{name:"snapshotDate",optional:!0,flag:"s",type:"Long[Timestamp]"}},t=>t,2592e3,"None","WebGraph","Generate a bar char comparing the nation at each city count (tiering) between two coalitions",!1)},Ir={endpoint:new b("orbisstatbyday","orbisStatByDay",{metrics:{name:"metrics",type:"Set<OrbisMetric>"},start:{name:"start",optional:!0,type:"Long[Timestamp]"},end:{name:"end",optional:!0,type:"Long[Timestamp]"}},t=>t,2592e3,"None","WebGraph","Get a game graph by day",!1)},Br={endpoint:new b("scoretiergraph","scoreTierGraph",{coalition1:{name:"coalition1",type:"Set<DBNation>"},coalition2:{name:"coalition2",type:"Set<DBNation>"},includeInactives:{name:"includeInactives",optional:!0,flag:"i",type:"boolean"},includeApplicants:{name:"includeApplicants",optional:!0,flag:"a",type:"boolean"},snapshotDate:{name:"snapshotDate",optional:!0,flag:"s",type:"Long[Timestamp]"}},t=>t,2592e3,"None","WebGraph","Generate a graph of nation counts by score between two coalitions",!1)},vr={endpoint:new b("radiationbyturn","radiationByTurn",{continents:{name:"continents",type:"Set<Continent>"},start:{name:"start",type:"long[Timestamp]"},end:{name:"end",optional:!0,type:"Long[Timestamp]"}},t=>t,2592e3,"None","WebGraph","Graph global and per continent radiation by turn over a specified time period",!1)},Nr={endpoint:new b("trademarginbyday","tradeMarginByDay",{resources:{name:"resources",type:"Set<ResourceType>"},start:{name:"start",type:"long[Timestamp]"},end:{name:"end",optional:!0,type:"Long[Timestamp]"},percent:{name:"percent",optional:!0,desc:"Use the margin percent instead of absolute difference",type:"boolean",def:"true"}},t=>t,2592e3,"None","WebGraph","Generate a graph of average trade buy and sell margin by day",!1)},kr={endpoint:new b("tax_expense","tax_expense",{start:{name:"start",type:"long[Timestamp]"},end:{name:"end",type:"long[Timestamp]"},nationList:{name:"nationList",optional:!0,flag:"n",type:"Set<DBNation>"},dontRequireGrant:{name:"dontRequireGrant",optional:!0,flag:"g",type:"boolean"},dontRequireTagged:{name:"dontRequireTagged",optional:!0,flag:"t",type:"boolean"},dontRequireExpiry:{name:"dontRequireExpiry",optional:!0,flag:"e",type:"boolean"},includeDeposits:{name:"includeDeposits",optional:!0,flag:"d",type:"boolean"}},t=>t,2592e3,"None","TaxExpenses","Show cumulative tax expenses over a period by nation/bracket",!1)},Cr={endpoint:new b("multi_v2","multi_v2",{nation:{name:"nation",type:"DBNation"},forceUpdate:{name:"forceUpdate",optional:!0,type:"Boolean"}},t=>t,2592e3,"None","AdvMultiReport","",!1)},Lr={endpoint:new b("multi_buster","multi_buster",{nation:{name:"nation",type:"DBNation"},forceUpdate:{name:"forceUpdate",optional:!0,type:"Boolean"}},t=>t,2592e3,"None","MultiResult","",!1)},jr=[En,Dn,Rn,On,In,Bn,vn,Nn,kn,Cn,Ln,Un,Mn,Pn,Vn,Wn,zn,Gn,Fn,jn,qn,Qn,Yn,Kn,Hn,$n,Jn,Xn,Zn,er,tr,nr,rr,ir,ar,sr,or,lr,cr,ur,fr,pr,hr,dr,yr,mr,gr,br,_r,wr,Sr,Tr,xr,Ar,Er,Dr,Rr,Or,Ir,Br,vr,Nr,kr,Cr,Lr];function qr(t,e,n,r,i){return Ur(t,e,n,r,i)}function Ur(t,e,n,r,i){const a=n??t.isPost;return{queryKey:[t.name,e],queryFn:async l=>{const f=l.queryKey,m=await Ot({endpoint:f[0],query:f[1],cache:void 0,batch_wait_ms:i??200}),S=m?.data;if(m.error||S?.error!=null)throw new Me(m?.error??S?.error??"Unknown error");return m},refetchOnReconnect:!a,refetchOnWindowFocus:!a,refetchOnMount:!a,staleTime:r??t.cache_duration??5e3,retry:(l,f)=>!a&&!(f instanceof Me)&&l<3||l<1}}function Qr(t,e,n,r){return{queryKey:[t.name,e],queryFn:async i=>{const a=i.queryKey;await new Promise(f=>setTimeout(f,2e3));const l=await Ot({endpoint:a[0],query:a[1],cache:void 0,batch_wait_ms:r??200});if(l.error)throw new Me(l.error);return l},refetchOnReconnect:!1,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:n??t.cache_duration??5e3,retry:(i,a)=>!1}}class Me extends Error{constructor(e){super(e),this.name="BackendError"}}export{qn as A,Kn as B,yr as C,gn as D,jr as E,er as F,lr as G,tr as H,In as I,Me as J,zr as K,Fr as L,Zn as M,Vr as N,Wr as O,Mn as P,Te as Q,Jn as R,Cn as S,nr as T,Un as U,Yn as V,zn as W,Gr as X,On as a,Ur as b,Bn as c,Hn as d,Qn as e,Xn as f,jn as g,Fn as h,Wn as i,Gn as j,$n as k,Rn as l,vn as m,En as n,Dn as o,or as p,ur as q,Rr as r,Ln as s,He as t,jt as u,Qr as v,Cr as w,Lr as x,rr as y,qr as z};
