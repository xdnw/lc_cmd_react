import{c as y,r as T,j as E}from"./index-SOjtd1du.js";const P={theme:"system",setTheme:()=>null},p=T.createContext(P);function j(s){const e=y.c(20);let o,r,n,a;e[0]!==s?({children:o,defaultTheme:n,storageKey:a,...r}=s,e[0]=s,e[1]=o,e[2]=r,e[3]=n,e[4]=a):(o=e[1],r=e[2],n=e[3],a=e[4]);const v=n===void 0?"system":n,i=a===void 0?"vite-ui-theme":a;let c;e[5]!==v||e[6]!==i?(c=()=>localStorage.getItem(i)||v,e[5]=v,e[6]=i,e[7]=c):c=e[7];const[t,g]=T.useState(c);let d,h;e[8]!==t?(d=()=>{const m=window.document.documentElement;if(m.classList.remove("light","dark"),t==="system"){const w=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";m.classList.add(w);return}m.classList.add(t)},h=[t],e[8]=t,e[9]=d,e[10]=h):(d=e[9],h=e[10]),T.useEffect(d,h);let l;e[11]!==i?(l=m=>{localStorage.setItem(i,m),g(m)},e[11]=i,e[12]=l):l=e[12];let u;e[13]!==l||e[14]!==t?(u={theme:t,setTheme:l},e[13]=l,e[14]=t,e[15]=u):u=e[15];const x=u;let f;return e[16]!==o||e[17]!==r||e[18]!==x?(f=E.jsx(p.Provider,{...r,value:x,children:o}),e[16]=o,e[17]=r,e[18]=x,e[19]=f):f=e[19],f}const k=()=>{const s=T.useContext(p);if(s===void 0)throw new Error("useTheme must be used within a ThemeProvider");return s};export{j as T,k as u};
