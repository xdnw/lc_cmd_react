import{r as e,j as r}from"./index-C3E2-SUH.js";import{a as t,B as n}from"./button-DCZsNPnk.js";import{L as s,P as u}from"./queries-BuM6HYrb.js";import{T as a,B as c}from"./DialogContext-BJx4vabV.js";const o="_tooltipContainer_1j719_1",l="_tooltipContent_1j719_11",i="_tooltipCircle_1j719_71",m=({children:u,content:a,delay:c=500,lockTime:m=1e3,unlockTime:d=1500,className:T=""})=>{const[j,x]=e.useState(!1),[f,h]=e.useState(!1),[p,b]=e.useState(null),[k,v]=e.useState(!1),[w,g]=e.useState(!1),C=e.useRef(null),N=e.useRef(null),_=e.useRef(null),y=e.useRef(null),D=e.useRef(null),S=e.useCallback((()=>{h(!0),g(!1),C.current&&clearTimeout(C.current),_.current&&clearTimeout(_.current),C.current=window.setTimeout((()=>{x(!0),h((e=>{if(e){const e=Date.now()+m;b(e),N.current=window.setTimeout((()=>{b((r=>r===e?(v(!0),null):r))}),m)}return e}))}),c)}),[c,m,x,h,v,b]),E=e.useCallback((()=>{h(!1),C.current&&clearTimeout(C.current),N.current&&clearTimeout(N.current),k?(g(!0),_.current=window.setTimeout((()=>{g(!1),h((e=>(e||(x(!1),b(null),v(!1)),e)))}),d)):(x(!1),v(!1))}),[d,x,v,b,k]);e.useEffect((()=>{const e=e=>{y.current&&!y.current.contains(e.target)&&(x(!1),v(!1),h(!1),clearTimeout(C.current),clearTimeout(N.current),clearTimeout(_.current))};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const L=e.useCallback((e=>{j&&D.current&&D.current.contains(e.target)?(h(!1),x(!1),v(!1),b(null),C.current&&clearTimeout(C.current),N.current&&clearTimeout(N.current),_.current&&clearTimeout(_.current)):(h(!0),g(!1),C.current&&clearTimeout(C.current),_.current&&clearTimeout(_.current),x(!0),v(!0),b(null))}),[j,x,v,b,h]);e.useEffect((()=>()=>{C.current&&clearTimeout(C.current),N.current&&clearTimeout(N.current),_.current&&clearTimeout(_.current)}),[]);const R=e.useCallback((e=>{e.stopPropagation(),x(!1),v(!1),h(!1)}),[x,v,h]);return r.jsxs("div",{ref:y,onMouseEnter:S,onMouseLeave:E,onClick:L,className:t(o,T),children:[r.jsx("span",{ref:D,children:u}),j&&r.jsxs("div",{className:t(l,"bg-secondary p-1 rounded-sm",k?"border-2 border-red-500/50":"border-2 border-blue-500/50"),children:[r.jsx(n,{onClick:R,variant:"destructive",size:"sm",className:"absolute top-0 right-0 p-1 text-red-500",children:r.jsx(s,{name:"X"})}),a,(()=>{if(!p&&!w)return null;const e=w?d:m;return r.jsx("div",{className:"absolute bottom-0 right-0 mt-1 mr-1",children:r.jsxs("svg",{className:"w-4 h-4 fill-slate-200 dark:fill-slate-900",viewBox:"0 0 40 40",children:[r.jsx("path",{className:"text-gray-200",strokeDasharray:"100, 100",d:"M18 2.0845\r\n                            a 15.9155 15.9155 0 0 1 0 31.831\r\n                            a 15.9155 15.9155 0 0 1 0 -31.831"}),r.jsx("path",{className:t("text-blue-500",i),style:{animationDuration:`${e}ms`,animationDirection:w?"reverse":"normal"},strokeDasharray:"100, 100",d:"M18 2.0845\r\n                            a 15.9155 15.9155 0 0 1 0 31.831\r\n                            a 15.9155 15.9155 0 0 1 0 -31.831"})]})})})()]})]})};function d({millis:t}){const n=e.useCallback((()=>"timestamp:"+t),[t]);return r.jsx(m,{content:r.jsxs("div",{className:"pe-8",children:[new Date(t).toLocaleString(),r.jsx(a,{children:r.jsx(c,{getText:n})})]}),children:r.jsx("kbd",{children:u(t,5)})})}export{d as T};
